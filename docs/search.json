[
  {
    "objectID": "k12orgs.html",
    "href": "k12orgs.html",
    "title": "K12Orgs",
    "section": "",
    "text": "This dataset is of all the individuals that have graduated from a high school in Southern Minnesota (as defined by the project). While preparing the K12Enrollment data, I already joined the organizational data and created a dataset that has all the individuals that graduated from a school located in the Southern region.\n\n\noriginal &lt;- read_csv(\"Data/SLEDS/Masters/k12_enrollment.csv\")\n\nkable(head(original))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nK12OrganizationID\nOrganizationName\ncounty.name\ncountyfp\nDem_Desc\nedr\ngrad.year\ngrad.year.covid\nGender\nLimitedEnglishProficiencyIndicator\nHomelessIndicator\neconomic.status\npseo.participant\nSpecialEdStatus\nnon.english.home\nRaceEthnicity\n\n\n\n\n7699638\n29705\nFILLMORE CENTRAL SENIOR HIGH\nFillmore\n045\nUrban/town/rural mix\nEDR 10 - Southeast\n2015\nPre-covid grad\nM\nN\nN\n0\n1\n0\n0\nWhite\n\n\n2225025\n132298\nMAYO SENIOR HIGH\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2017\nPre-covid grad\nM\nN\nN\n0\n0\n0\n0\nWhite\n\n\n10400093\n62\nCannon Falls Secondary\nGoodhue\n049\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n\n\n8786746\n128661\nLINCOLN SECONDARY\nWabasha\n157\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n\n\n11122574\n109999\nAUSTIN SENIOR HIGH\nMower\n099\nUrban/town/rural mix\nEDR 10 - Southeast\n2011\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n\n\n10181573\n155484\nCHATFIELD SECONDARY\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2010\nPre-covid grad\nM\nN\nN\n0\nNA\n0\n0\nWhite\n\n\n\n\nkable(names(original))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nK12OrganizationID\n\n\nOrganizationName\n\n\ncounty.name\n\n\ncountyfp\n\n\nDem_Desc\n\n\nedr\n\n\ngrad.year\n\n\ngrad.year.covid\n\n\nGender\n\n\nLimitedEnglishProficiencyIndicator\n\n\nHomelessIndicator\n\n\neconomic.status\n\n\npseo.participant\n\n\nSpecialEdStatus\n\n\nnon.english.home\n\n\nRaceEthnicity\n\n\n\n\n\n\nThe one metric that wasn’t included when I joined the enrollment data with the organizational data is the number of years they attended a school in the Southern region (as defined by the project).\n\n\nenrollment.original &lt;- read_csv(\"/Users/kellyasche/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/SLEDS/K12 Enrollment/K12Enrollment.csv\")  %&gt;%\n  mutate(PersonID = as.integer(PersonID),\n         K12OrganizationID = as.integer(K12OrganizationID)) %&gt;%\n  drop_na(PersonID)\n\nk12.org.original &lt;- read_csv(\"~/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/SLEDS/K12 Orgs/K12Organization-updated.csv\") %&gt;%\n  distinct(K12OrganizationID, .keep_all = TRUE) %&gt;%\n  drop_na(K12OrganizationID) %&gt;%\n  mutate(K12OrganizationID = as.integer(K12OrganizationID))\n\nk12.org.master &lt;- k12.org.original %&gt;%\n  select(K12OrganizationID, County, OrganizationName, DistrictID, SchoolNumber) %&gt;%\n  rename(county.name = 2) %&gt;%\n  mutate(county.name = str_replace(county.name, \" County\", \"\")) %&gt;%\n  select(K12OrganizationID, OrganizationName, county.name) %&gt;%\n  left_join(counties.regions.1, by = c(\"county.name\" = \"Name\")) %&gt;%\n  select(-Dem_RUCA, -mif, -edr.simple, -planning.region)\n\nenrollment.org.central &lt;- enrollment.original %&gt;%\n  left_join(k12.org.master, by = \"K12OrganizationID\") %&gt;%\n  filter(project.pr == \"Southern\")\n\nn.years &lt;- original %&gt;%\n  select(PersonID, grad.year, K12OrganizationID) %&gt;%\n  rename(grad.org.id = K12OrganizationID) %&gt;%\n  left_join(enrollment.original[,c(1,2,3,4)], by = \"PersonID\") %&gt;%\n  left_join(k12.org.original[,c(1,2,3,7)], by = \"K12OrganizationID\") %&gt;%\n  mutate(year = str_sub(TimeID, 1, 4)) %&gt;%\n  distinct(PersonID, year, .keep_all = TRUE) %&gt;%\n  group_by(PersonID) %&gt;%\n  summarize(n.years.attended = n()) %&gt;%\n  ungroup()\n\nmaster &lt;- original %&gt;%\n  left_join(n.years, by = \"PersonID\") %&gt;%\n  mutate(Dem_Desc = fct_relevel(Dem_Desc, \"Town/rural mix\", \"Urban/town/rural mix\", \"Entirely urban\"))\n\nkable(head(master))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nK12OrganizationID\nOrganizationName\ncounty.name\ncountyfp\nDem_Desc\nedr\ngrad.year\ngrad.year.covid\nGender\nLimitedEnglishProficiencyIndicator\nHomelessIndicator\neconomic.status\npseo.participant\nSpecialEdStatus\nnon.english.home\nRaceEthnicity\nn.years.attended\n\n\n\n\n7699638\n29705\nFILLMORE CENTRAL SENIOR HIGH\nFillmore\n045\nUrban/town/rural mix\nEDR 10 - Southeast\n2015\nPre-covid grad\nM\nN\nN\n0\n1\n0\n0\nWhite\n3\n\n\n2225025\n132298\nMAYO SENIOR HIGH\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2017\nPre-covid grad\nM\nN\nN\n0\n0\n0\n0\nWhite\n3\n\n\n10400093\n62\nCannon Falls Secondary\nGoodhue\n049\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n\n\n8786746\n128661\nLINCOLN SECONDARY\nWabasha\n157\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n\n\n11122574\n109999\nAUSTIN SENIOR HIGH\nMower\n099\nUrban/town/rural mix\nEDR 10 - Southeast\n2011\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n\n\n10181573\n155484\nCHATFIELD SECONDARY\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2010\nPre-covid grad\nM\nN\nN\n0\nNA\n0\n0\nWhite\n3\n\n\n\n\nkable(names(master))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nK12OrganizationID\n\n\nOrganizationName\n\n\ncounty.name\n\n\ncountyfp\n\n\nDem_Desc\n\n\nedr\n\n\ngrad.year\n\n\ngrad.year.covid\n\n\nGender\n\n\nLimitedEnglishProficiencyIndicator\n\n\nHomelessIndicator\n\n\neconomic.status\n\n\npseo.participant\n\n\nSpecialEdStatus\n\n\nnon.english.home\n\n\nRaceEthnicity\n\n\nn.years.attended"
  },
  {
    "objectID": "k12orgs.html#summary-of-high-school-location",
    "href": "k12orgs.html#summary-of-high-school-location",
    "title": "K12Orgs",
    "section": "Summary of high school location",
    "text": "Summary of high school location\nLets breakdown the graduates by which regions they graduated from.\nNearly half of students graduated from a county labeled as urban/town/rural mix, while 18% graduated from a town/rural mix, and 34% from an entirely urban county.\n\n\n\n\n\n\n\n\nBelow is a map with the percentages of graduates graduating from high schools located within each county. The schools with the highest percent of graduates/observations are located in Olmstead with 21% while all other counties ranged from 1.5% to 10% of the graduates."
  },
  {
    "objectID": "k12orgs.html#summary-of-student-demographics",
    "href": "k12orgs.html#summary-of-student-demographics",
    "title": "K12Orgs",
    "section": "Summary of student demographics",
    "text": "Summary of student demographics\nThe following analysis looks to see if there are any statistical differences due to rural-ness and geographic location of the high school for the following graduate demographics;\n\nWere eligible for free or reduced lunch at some point in the dataset\nAre Female\nHave been homeless at some point in the dataset\nHad limited english proficiency at some point in the dataset\nHad non english speakders in home at some point in the dataset\nParticipated in a PSEO course at some point in the dataset.\n\nLets start with the cross-tabs based on RUCA categories.\nThe cross-tabs below indicate that there are 4 demographic variables that have proportions statistically different across RUCA categories. Each of the variables are indicated with an asterisk.\n\nFree or reduced lunch: a statistically significant higher percentage of graduates from high schools in entirely rural mix counties receive free or reduced lunch.\nHomeless: as a school district becomes more urban, the percentage of it’s graduates indicating they experienced homeslessness at some point increases significantly.\nPSEO: a siginficantly lower percentage of graduates from entirely rural districts participated in a PSEO program.\n\n\nRUCA Free or Reduced LunchRUCA FemaleRUCA HomelessRUCA Limited EnglishRUCA non-english in homeRUCA PSEO\n\n\nAlthough 30.2% of the total number of graduates in the data set receive free or reduced lunch, graduates from town/rural mix schools had significantly higher percentage with 33.2%.\n\n\nCrossTable(master$Dem_Desc, master$economic.status, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                     | master$economic.status \n     master$Dem_Desc |         0 |         1 | Row Total | \n---------------------|-----------|-----------|-----------|\n      Town/rural mix |     14788 |      7335 |     22123 | \n                     | 15433.446 |  6689.554 |           | \n                     |     0.668 |     0.332 |     0.180 | \n---------------------|-----------|-----------|-----------|\nUrban/town/rural mix |     41153 |     17846 |     58999 | \n                     | 41158.879 | 17840.121 |           | \n                     |     0.698 |     0.302 |     0.480 | \n---------------------|-----------|-----------|-----------|\n      Entirely urban |     29823 |     11993 |     41816 | \n                     | 29171.675 | 12644.325 |           | \n                     |     0.713 |     0.287 |     0.340 | \n---------------------|-----------|-----------|-----------|\n        Column Total |     85764 |     37174 |    122938 | \n---------------------|-----------|-----------|-----------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  137.3652     d.f. =  2     p =  1.484287e-30 \n\n\n \n\n\n\n\nk12.dem.free.lunch.ruca &lt;- master %&gt;%\n  group_by(Dem_Desc) %&gt;%\n  summarise(n = n(),\n           free.lunch = sum(economic.status)) %&gt;%\n  ungroup() %&gt;%\n  mutate(pct = free.lunch / n,\n         total.pct = sum(free.lunch) / sum(n),\n         data_id = as.character(seq(n()))) \n\nk12.dem.free.lunch.ruca.plot &lt;- ggplot(k12.dem.free.lunch.ruca, aes(Dem_Desc, pct, fill = Dem_Desc)) +\n  geom_hline(yintercept = k12.dem.free.lunch.ruca$total.pct, color = \"black\") +\n  geom_col_interactive(size = 5, aes(data_id = data_id, tooltip = paste(Dem_Desc, \"\\nTotal graduates: \", comma(n, accuracy = 1), \"\\nGraduates received free or reduced lunch: \", comma(free.lunch, accuracy = 1), \"\\nPercent of total graduates: \", percent(pct, accuracy = .1), sep = \"\"))) +\n  annotate(geom = \"text\",\n           x = 3,\n           y = k12.dem.free.lunch.ruca$total.pct,\n           label = paste(\"All graduates\\npercent, \", percent(k12.dem.free.lunch.ruca$total.pct, accuracy = .1)),\n           size = 5) +\n  labs(x=\"\", y = \"\", color=\"\", fill = \"\", title = \"Percent of graduates receiving free or reduced lunch\")+\n  geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, size = 5) +\n  scale_y_continuous(labels=scales::percent)+\n  theme_line+\n  scale_fill_manual(values= color.ruca,\n                     guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"none\",\n        text = element_text(size = 16))\n\n  girafe(ggobj = k12.dem.free.lunch.ruca.plot) %&gt;%\n    girafe_options(opts_selection(type = \"none\"),\n                   opts_toolbar(saveaspng = FALSE),\n                   opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nNo significance.\n\n\nCrossTable(master$Dem_Desc, master$Gender, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                     | master$Gender \n     master$Dem_Desc |         F |         M | Row Total | \n---------------------|-----------|-----------|-----------|\n      Town/rural mix |     10874 |     11249 |     22123 | \n                     | 11004.995 | 11118.005 |           | \n                     |     0.492 |     0.508 |     0.180 | \n---------------------|-----------|-----------|-----------|\nUrban/town/rural mix |     29457 |     29542 |     58999 | \n                     | 29348.809 | 29650.191 |           | \n                     |     0.499 |     0.501 |     0.480 | \n---------------------|-----------|-----------|-----------|\n      Entirely urban |     20824 |     20992 |     41816 | \n                     | 20801.196 | 21014.804 |           | \n                     |     0.498 |     0.502 |     0.340 | \n---------------------|-----------|-----------|-----------|\n        Column Total |     61155 |     61783 |    122938 | \n---------------------|-----------|-----------|-----------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  3.946035     d.f. =  2     p =  0.1390367 \n\n\n \n\n\n\n\n\nUrban/town/rural mix schools had a significantly lower percentage of individuals indicating they were homeless at 0.5%.\n\n\nCrossTable(master$Dem_Desc, master$HomelessIndicator, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                     | master$HomelessIndicator \n     master$Dem_Desc |         N |         Y | Row Total | \n---------------------|-----------|-----------|-----------|\n      Town/rural mix |     21898 |       225 |     22123 | \n                     | 21918.574 |   204.426 |           | \n                     |     0.990 |     0.010 |     0.180 | \n---------------------|-----------|-----------|-----------|\nUrban/town/rural mix |     58675 |       324 |     58999 | \n                     | 58453.824 |   545.176 |           | \n                     |     0.995 |     0.005 |     0.480 | \n---------------------|-----------|-----------|-----------|\n      Entirely urban |     41229 |       587 |     41816 | \n                     | 41429.602 |   386.398 |           | \n                     |     0.986 |     0.014 |     0.340 | \n---------------------|-----------|-----------|-----------|\n        Column Total |    121802 |      1136 |    122938 | \n---------------------|-----------|-----------|-----------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  197.7731     d.f. =  2     p =  1.132702e-43 \n\n\n \n\n\n\nk12.dem.homeless.ruca &lt;- master %&gt;%\n  mutate(HomelessIndicator = ifelse(HomelessIndicator == \"Y\", 1, 0)) %&gt;%\n  group_by(Dem_Desc) %&gt;%\n  summarise(n = n(),\n           HomelessIndicator = sum(HomelessIndicator)) %&gt;%\n  ungroup() %&gt;%\n  mutate(pct = HomelessIndicator / n,\n         total.pct = sum(HomelessIndicator) / sum(n),\n         data_id = as.character(seq(n()))) \n\nk12.dem.homeless.ruca.plot &lt;- ggplot(k12.dem.homeless.ruca, aes(Dem_Desc, pct, fill = Dem_Desc)) +\n  geom_hline(yintercept = k12.dem.homeless.ruca$total.pct, color = \"black\") +\n  geom_col_interactive(size = 5, aes(data_id = data_id, tooltip = paste(Dem_Desc, \"\\nTotal graduates: \", comma(n, accuracy = 1), \"\\nGraduates indicating homelessness: \", comma(HomelessIndicator, accuracy = 1), \"\\nPercent of total graduates: \", percent(pct, accuracy = .1), sep = \"\"))) +\n  annotate(geom = \"text\",\n           x = 3,\n           y = k12.dem.homeless.ruca$total.pct,\n           label = paste(\"All graduates\\npercent, \", percent(k12.dem.homeless.ruca$total.pct, accuracy = .1)),\n           size = 5) +\n  labs(x=\"\", y = \"\", color=\"\", fill = \"\", title = \"Percent of graduates homeless\")+\n  geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, size = 5) +\n  scale_y_continuous(labels=scales::percent)+\n  theme_line+\n  scale_fill_manual(values= color.ruca,\n                     guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"none\",\n        text = element_text(size = 16))\n\n  girafe(ggobj = k12.dem.homeless.ruca.plot) %&gt;%\n    girafe_options(opts_selection(type = \"none\"),\n                   opts_toolbar(saveaspng = FALSE),\n                   opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nThe entirely urban districts have a significantly higher percentage of graduates categorized as having limited English proficiency with 2.7%.\n\n\nCrossTable(master$Dem_Desc, master$LimitedEnglishProficiencyIndicator, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                     | master$LimitedEnglishProficiencyIndicator \n     master$Dem_Desc |         N |         Y | Row Total | \n---------------------|-----------|-----------|-----------|\n      Town/rural mix |     21781 |       342 |     22123 | \n                     | 21650.625 |   472.375 |           | \n                     |     0.985 |     0.015 |     0.180 | \n---------------------|-----------|-----------|-----------|\nUrban/town/rural mix |     57865 |      1134 |     58999 | \n                     | 57739.240 |  1259.760 |           | \n                     |     0.981 |     0.019 |     0.480 | \n---------------------|-----------|-----------|-----------|\n      Entirely urban |     40667 |      1149 |     41816 | \n                     | 40923.135 |   892.865 |           | \n                     |     0.973 |     0.027 |     0.340 | \n---------------------|-----------|-----------|-----------|\n        Column Total |    120313 |      2625 |    122938 | \n---------------------|-----------|-----------|-----------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  124.6774     d.f. =  2     p =  8.445951e-28 \n\n\n \n\n\n\nk12.dem.limited.english.ruca &lt;- master %&gt;%\n  mutate(LimitedEnglishProficiencyIndicator = ifelse(LimitedEnglishProficiencyIndicator == \"Y\", 1, 0)) %&gt;%\n  group_by(Dem_Desc) %&gt;%\n  summarise(n = n(),\n           LimitedEnglishProficiencyIndicator = sum(LimitedEnglishProficiencyIndicator)) %&gt;%\n  ungroup() %&gt;%\n  mutate(pct = LimitedEnglishProficiencyIndicator / n,\n         total.pct = sum(LimitedEnglishProficiencyIndicator) / sum(n),\n         data_id = as.character(seq(n()))) \n\nk12.dem.limited.english.ruca.plot &lt;- ggplot(k12.dem.limited.english.ruca, aes(Dem_Desc, pct, fill = Dem_Desc)) +\n  geom_hline(yintercept = k12.dem.limited.english.ruca$total.pct, color = \"black\") +\n  geom_col_interactive(size = 5, aes(data_id = data_id, tooltip = paste(Dem_Desc, \"\\nTotal graduates: \", comma(n, accuracy = 1), \"\\nGraduates indicating homelessness: \", comma(LimitedEnglishProficiencyIndicator, accuracy = 1), \"\\nPercent of total graduates: \", percent(pct, accuracy = .1), sep = \"\"))) +\n  annotate(geom = \"text\",\n           x = 3,\n           y = k12.dem.limited.english.ruca$total.pct,\n           label = paste(\"All graduates\\npercent, \", percent(k12.dem.limited.english.ruca$total.pct, accuracy = .1)),\n           size = 5) +\n  labs(x=\"\", y = \"\", color=\"\", fill = \"\", title = \"Percent of graduates homeless\")+\n  geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, size = 5) +\n  scale_y_continuous(labels=scales::percent)+\n  theme_line+\n  scale_fill_manual(values= color.ruca,\n                     guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"none\",\n        text = element_text(size = 16))\n\n  girafe(ggobj = k12.dem.limited.english.ruca.plot) %&gt;%\n    girafe_options(opts_selection(type = \"none\"),\n                   opts_toolbar(saveaspng = FALSE),\n                   opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nSimilar to above, the entirely urban graduates had significantly higher percentage of individuals indicating that someone in their home was a non-english speaker with 12.0%.\n\n\nCrossTable(master$Dem_Desc, master$non.english.home, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                     | master$non.english.home \n     master$Dem_Desc |         0 |         1 | Row Total | \n---------------------|-----------|-----------|-----------|\n      Town/rural mix |     20646 |      1477 |     22123 | \n                     | 20179.153 |  1943.847 |           | \n                     |     0.933 |     0.067 |     0.180 | \n---------------------|-----------|-----------|-----------|\nUrban/town/rural mix |     54689 |      4310 |     58999 | \n                     | 53815.028 |  5183.972 |           | \n                     |     0.927 |     0.073 |     0.480 | \n---------------------|-----------|-----------|-----------|\n      Entirely urban |     36801 |      5015 |     41816 | \n                     | 38141.819 |  3674.181 |           | \n                     |     0.880 |     0.120 |     0.340 | \n---------------------|-----------|-----------|-----------|\n        Column Total |    112136 |     10802 |    122938 | \n---------------------|-----------|-----------|-----------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  820.8991     d.f. =  2     p =  5.546679e-179 \n\n\n \n\n\n\n\nk12.non.english.home.ruca &lt;- master %&gt;%\n  group_by(Dem_Desc) %&gt;%\n  summarise(n = n(),\n            non.english = sum(non.english.home)) %&gt;%\n  ungroup() %&gt;%\n  mutate(pct = non.english / n,\n         total.pct = sum(non.english) / sum(n),\n         data_id = seq(n()))\n  \nk12.non.english.home.ruca.plot &lt;- ggplot(k12.non.english.home.ruca, aes(Dem_Desc, pct, fill = Dem_Desc)) +\n  geom_hline(yintercept = k12.non.english.home.ruca$total.pct, color = \"black\") +\n  geom_col_interactive(size = 5, aes(data_id = data_id, tooltip = paste(Dem_Desc, \"\\nTotal graduates: \", comma(n, accuracy = 1), \"\\nGraduates with non-english speaker at home: \", comma(non.english, accuracy = 1), \"\\nPercent of total graduates: \", percent(pct, accuracy = .1), sep = \"\"))) +\n  annotate(geom = \"text\",\n           x = 3,\n           y = k12.non.english.home.ruca$total.pct,\n           label = paste(\"All graduates\\npercent, \", percent(k12.non.english.home.ruca$total.pct, accuracy = .1)),\n           size = 5) +\n  labs(x=\"\", y = \"\", fill = \"\", color=\"\", title = \"Percent of graduates with non-english speaker at home\")+\n  geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, size = 5) +\n  scale_y_continuous(labels=scales::percent)+\n  theme_line+\n  scale_fill_manual(values= color.ruca,\n                     guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"none\",\n        text = element_text(size = 16))\n\n  girafe(ggobj = k12.non.english.home.ruca.plot) %&gt;%\n    girafe_options(opts_selection(type = \"none\"),\n                   opts_toolbar(saveaspng = FALSE),\n                   opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nAlthough 32.8% of all graduates participating in PSEO, there was a significantly lower percentage in entirely urban schools (26.7%).\n\n\nCrossTable(master$Dem_Desc, master$pseo.participant, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  98928 \n\n \n                     | master$pseo.participant \n     master$Dem_Desc |         0 |         1 | Row Total | \n---------------------|-----------|-----------|-----------|\n      Town/rural mix |     10683 |      6824 |     17507 | \n                     | 11769.196 |  5737.804 |           | \n                     |     0.610 |     0.390 |     0.177 | \n---------------------|-----------|-----------|-----------|\nUrban/town/rural mix |     30834 |     16494 |     47328 | \n                     | 31816.560 | 15511.440 |           | \n                     |     0.651 |     0.349 |     0.478 | \n---------------------|-----------|-----------|-----------|\n      Entirely urban |     24988 |      9105 |     34093 | \n                     | 22919.244 | 11173.756 |           | \n                     |     0.733 |     0.267 |     0.345 | \n---------------------|-----------|-----------|-----------|\n        Column Total |     66505 |     32423 |     98928 | \n---------------------|-----------|-----------|-----------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  968.2021     d.f. =  2     p =  5.722528e-211 \n\n\n \n\n\n\n\nk12.pseo.ruca&lt;- master %&gt;%\n  drop_na(pseo.participant) %&gt;%\n  group_by(Dem_Desc) %&gt;%\n  summarise(n = n(),\n            pseo.participant = sum(pseo.participant, na.rm = TRUE)) %&gt;%\n  ungroup() %&gt;%\n  mutate(pct = pseo.participant / n,\n         total.pct = sum(pseo.participant) / sum(n),\n         data_id = seq(n()))\n  \nk12.pseo.ruca.plot &lt;- ggplot(k12.pseo.ruca, aes(Dem_Desc, pct, fill = Dem_Desc)) +\n  geom_hline(yintercept = k12.pseo.ruca$total.pct, color = \"black\") +\n  geom_col_interactive(size = 5, aes(data_id = data_id, tooltip = paste(Dem_Desc, \"\\nTotal graduates: \", comma(n, accuracy = 1), \"\\nGraduates participated in PSEO: \", comma(pseo.participant, accuracy = 1), \"\\nPercent of total graduates: \", percent(pct, accuracy = .1), sep = \"\"))) +\n  annotate(geom = \"text\",\n           x = 1,\n           y = k12.pseo.ruca$total.pct,\n           label = paste(\"All graduates\\npercent, \", percent(k12.pseo.ruca$total.pct, accuracy = .1)),\n           size = 5) +\n  labs(x=\"\", y = \"\", color=\"\", fill = \"\", title = \"Percent of graduates participated in PSEO\")+\n  geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, size = 5) +\n  scale_y_continuous(labels=scales::percent)+\n  theme_line+\n  scale_fill_manual(values= color.ruca,\n                     guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"bottom\",\n        text = element_text(size = 16))\n\n  girafe(ggobj = k12.pseo.ruca.plot) %&gt;%\n    girafe_options(opts_selection(type = \"none\"),\n                   opts_toolbar(saveaspng = FALSE),\n                   opts_sizing(rescale = FALSE))"
  },
  {
    "objectID": "avgwages.html",
    "href": "avgwages.html",
    "title": "Average wages",
    "section": "",
    "text": "Data Prep\nWe will use the BEA average wages and salaries. Average wages and salaries are wages and salaries divided by total wage and salary employment.\n\n\navg.wage.original &lt;- read_csv('/Users/kellyasche/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/Income/Master-avg-wages-county.csv')\n\nkable(names(avg.wage.original))\n\n\n\n\nx\n\n\n\n\ncountyfp\n\n\nhs.grad.year\n\n\nwages.3year.avg\n\n\n\n\nkable(head(avg.wage.original))\n\n\n\n\ncountyfp\nhs.grad.year\nwages.3year.avg\n\n\n\n\n000\n2008\n41223.33\n\n\n001\n2008\n26542.67\n\n\n003\n2008\n37458.33\n\n\n005\n2008\n31232.00\n\n\n007\n2008\n27342.33\n\n\n009\n2008\n33108.33\n\n\n\n\n\n\nThe dataset above provides the graduation year along with the three year rolling average of the average salary and wages for each county. Next, in order to hold these values constant over time, we will be calculating the three year averages as a percentage of the state average over that same time period.\n\n\navg.wage.pct.state &lt;- avg.wage.original %&gt;%\n  group_by(hs.grad.year) %&gt;%\n  mutate(avg.wages.pct.state = wages.3year.avg / wages.3year.avg[countyfp == \"000\"]) %&gt;%\n  ungroup()\n\nkable(names(avg.wage.pct.state))\n\n\n\n\nx\n\n\n\n\ncountyfp\n\n\nhs.grad.year\n\n\nwages.3year.avg\n\n\navg.wages.pct.state\n\n\n\n\n\n\nNow we just need to join it with the original.\n\n\nmaster.12 &lt;- read_csv(\"Data/SLEDS/Masters/Master-12.csv\")\n\nmaster.13 &lt;- master.12 %&gt;%\n  left_join(avg.wage.original, by = c(\"hs.grad.year\", \"countyfp\"))\n\navgwages.master &lt;- read_csv(\"Data/SLEDS/Masters/Master-1.csv\") %&gt;%\n  select(PersonID, grad.year, countyfp) %&gt;%\n  left_join(avg.wage.pct.state, by = c(\"grad.year\" = \"hs.grad.year\", \"countyfp\")) %&gt;%\n  select(-grad.year, -countyfp)\n\nwrite_csv(avgwages.master, \"Data/SLEDS/Masters/avgwages_master.csv\")\n\nkable(names(master.13))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nK12OrganizationID\n\n\nOrganizationName\n\n\ncounty.name\n\n\ncountyfp\n\n\nDem_Desc\n\n\nedr\n\n\nhs.grad.year\n\n\ngrad.year.covid\n\n\nGender\n\n\nLimitedEnglishProficiencyIndicator\n\n\nHomelessIndicator\n\n\neconomic.status\n\n\npseo.participant\n\n\nSpecialEdStatus\n\n\nnon.english.home\n\n\nRaceEthnicity\n\n\nn.years.attended\n\n\nACTCompositeScore\n\n\nap.exam\n\n\ntotal.cte.courses.taken\n\n\nACTE-SPED\n\n\nAgriculture, Food, and Natural Resources\n\n\nArchitecture & Construction\n\n\nArts, A/V Technology & Communication\n\n\nBusiness, Management & Administrative\n\n\nDiversified\n\n\nEducation & Training\n\n\nFinance\n\n\nGovernment & Public Administration\n\n\nHealth Science\n\n\nHospitality & Tourism\n\n\nHuman Services\n\n\nInformation Technology\n\n\nLaw, Public Safety & Security\n\n\nManufacturing\n\n\nMarketing\n\n\nProgram Area (Diversified)\n\n\nScience, Technology, Engineering, & Mathematics\n\n\nSTEM\n\n\nTransportation, Distribution & Logistics\n\n\nWork Experience-Handicapped\n\n\nWork Experience-Handicapped (16-20+ on IEP)\n\n\nWork Experience/Career Exploration (age 14-15 on I\n\n\nWork-Experience-Disadvantaged\n\n\nYouth Apprenticeship\n\n\ncte.achievement\n\n\nenglish.learner\n\n\nMCA.M\n\n\nMCA.R\n\n\nMCA.S\n\n\nsat.taken\n\n\nattended.ps\n\n\nfirst.attend.ps\n\n\nattended.ps.first.year\n\n\nattended.ps.years.hsgrad\n\n\nattended.ps.within.first.year.hsgrad\n\n\nn.institutions\n\n\nfirst.InstitutionSector\n\n\nps.sector.1\n\n\nps.sector.2\n\n\nps.sector.3\n\n\nps.sector.4\n\n\nps.sector.5\n\n\nps.sector.6\n\n\nps.sector.7\n\n\nps.sector.8\n\n\nps.sector.9\n\n\nps.attended.in.same.ruca\n\n\nps.attended.in.same.edr\n\n\nps.attended.in.same.pr\n\n\nps.attended.in.MN\n\n\nps.grad\n\n\nmin.ps.grad.year\n\n\nmax.ps.grad.year\n\n\nyears.between.grads\n\n\nps.grad.InstitutionSector\n\n\nhighest.cred.level\n\n\nps.grad.in.same.ruca\n\n\nps.grad.in.same.edr\n\n\nps.grad.in.same.pr\n\n\nps.grad.in.MN\n\n\nmn.emp.record.hs.grad.year\n\n\nmn.emp.record.hs.grad.year.2\n\n\nmn.emp.record.hs.grad.year.7\n\n\nmeaningful.emp.hs.grad.year\n\n\nmeaningful.emp.hs.grad.year.2\n\n\nmeaningful.emp.hs.grad.year.7\n\n\nhs.grad.year.county.match\n\n\nhs.grad.year.2.county.match\n\n\nhs.grad.year.7.county.match\n\n\nhs.grad.year.edr.match\n\n\nhs.grad.year.2.edr.match\n\n\nhs.grad.year.7.edr.match\n\n\nhs.grad.year.region.match\n\n\nhs.grad.year.2.region.match\n\n\nhs.grad.year.7.region.match\n\n\nhs.grad.year.state.match\n\n\nhs.grad.year.2.state.match\n\n\nhs.grad.year.7.state.match\n\n\nind.match.hs.grad.year\n\n\nind.match.hs.grad.year.2\n\n\nind.match.hs.grad.year.7\n\n\navg.unemp.rate\n\n\nwages.3year.avg\n\n\n\n\nkable(head(master.13))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nK12OrganizationID\nOrganizationName\ncounty.name\ncountyfp\nDem_Desc\nedr\nhs.grad.year\ngrad.year.covid\nGender\nLimitedEnglishProficiencyIndicator\nHomelessIndicator\neconomic.status\npseo.participant\nSpecialEdStatus\nnon.english.home\nRaceEthnicity\nn.years.attended\nACTCompositeScore\nap.exam\ntotal.cte.courses.taken\nACTE-SPED\nAgriculture, Food, and Natural Resources\nArchitecture & Construction\nArts, A/V Technology & Communication\nBusiness, Management & Administrative\nDiversified\nEducation & Training\nFinance\nGovernment & Public Administration\nHealth Science\nHospitality & Tourism\nHuman Services\nInformation Technology\nLaw, Public Safety & Security\nManufacturing\nMarketing\nProgram Area (Diversified)\nScience, Technology, Engineering, & Mathematics\nSTEM\nTransportation, Distribution & Logistics\nWork Experience-Handicapped\nWork Experience-Handicapped (16-20+ on IEP)\nWork Experience/Career Exploration (age 14-15 on I\nWork-Experience-Disadvantaged\nYouth Apprenticeship\ncte.achievement\nenglish.learner\nMCA.M\nMCA.R\nMCA.S\nsat.taken\nattended.ps\nfirst.attend.ps\nattended.ps.first.year\nattended.ps.years.hsgrad\nattended.ps.within.first.year.hsgrad\nn.institutions\nfirst.InstitutionSector\nps.sector.1\nps.sector.2\nps.sector.3\nps.sector.4\nps.sector.5\nps.sector.6\nps.sector.7\nps.sector.8\nps.sector.9\nps.attended.in.same.ruca\nps.attended.in.same.edr\nps.attended.in.same.pr\nps.attended.in.MN\nps.grad\nmin.ps.grad.year\nmax.ps.grad.year\nyears.between.grads\nps.grad.InstitutionSector\nhighest.cred.level\nps.grad.in.same.ruca\nps.grad.in.same.edr\nps.grad.in.same.pr\nps.grad.in.MN\nmn.emp.record.hs.grad.year\nmn.emp.record.hs.grad.year.2\nmn.emp.record.hs.grad.year.7\nmeaningful.emp.hs.grad.year\nmeaningful.emp.hs.grad.year.2\nmeaningful.emp.hs.grad.year.7\nhs.grad.year.county.match\nhs.grad.year.2.county.match\nhs.grad.year.7.county.match\nhs.grad.year.edr.match\nhs.grad.year.2.edr.match\nhs.grad.year.7.edr.match\nhs.grad.year.region.match\nhs.grad.year.2.region.match\nhs.grad.year.7.region.match\nhs.grad.year.state.match\nhs.grad.year.2.state.match\nhs.grad.year.7.state.match\nind.match.hs.grad.year\nind.match.hs.grad.year.2\nind.match.hs.grad.year.7\navg.unemp.rate\nwages.3year.avg\n\n\n\n\n7699638\n29705\nFILLMORE CENTRAL SENIOR HIGH\nFillmore\n045\nUrban/town/rural mix\nEDR 10 - Southeast\n2015\nPre-covid grad\nM\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n0\n2\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\nCTE Participant\n0\n3\n4\n3\n0\nYes\n20150824\n2015\n0\nYes\n3\n1\n1\n0\n0\n1\n0\n0\n0\n0\n0\nInside and outside same RUCA\nInside and outside same EDR\nInside and outside same PR\nInside and outside MN\nNo\nNA\nNA\nNA\nNA\nLess than Associate Degree\nNA\nNA\nNA\nNA\nMN emp record\nMN emp record\nNo MN emp record\nNo meaningful emp\nNo meaningful emp\nNo MN emp record\nNo meaningful emp\nNo meaningful emp\nNo MN emp record\nNo meaningful emp\nNo meaningful emp\nNo MN emp record\nNo meaningful emp\nNo meaningful emp\nNo MN emp record\nNo meaningful emp\nNo meaningful emp\nNo MN emp record\nNo meaningful emp\nNo meaningful emp\nNo MN emp record\n4.600000\n42296.67\n\n\n2225025\n132298\nMAYO SENIOR HIGH\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2017\nPre-covid grad\nM\nN\nN\n0\n0\n0\n0\nWhite\n3\n29\n0\n1\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nNo CTE\n0\n4\n4\n4\n1\nYes\n20170905\n2017\n0\nYes\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\nIn same RUCA\nOutside EDR\nOutside PR\nIn MN\nNo\nNA\nNA\nNA\nNA\nLess than Associate Degree\nNA\nNA\nNA\nNA\nMN emp record\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\n2.900000\n52341.33\n\n\n10400093\n62\nCannon Falls Secondary\nGoodhue\n049\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n20\n1\n2\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\nCTE Participant\n0\n4\n4\n3\n0\nYes\n20140825\n2014\n0\nYes\n2\n4\n0\n1\n0\n1\n0\n0\n0\n0\n0\nIn same RUCA\nOutside EDR\nOutside PR\nIn MN\nY\n2017\n2017\n3\n2\nBachelor degree\nIn same RUCA\nOutside EDR\nOutside PR\nIn MN\nMN emp record\nMN emp record\nMN emp record\nNo meaningful emp\nMeaningful emp\nMeaningful emp\nNo meaningful emp\nNo location match\nNo location match\nNo meaningful emp\nLocation match\nLocation match\nNo meaningful emp\nLocation match\nLocation match\nNo meaningful emp\nLocation match\nLocation match\nNo meaningful emp\nNo ind match\nNo ind match\n4.666667\n45356.67\n\n\n8786746\n128661\nLINCOLN SECONDARY\nWabasha\n157\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n24\n1\n2\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nCTE Participant\n0\n4\n4\n3\n0\nYes\n20140902\n2014\n0\nYes\n1\n2\n0\n1\n0\n0\n0\n0\n0\n0\n0\nIn same RUCA\nOutside EDR\nIn same PR\nIn MN\nY\n2018\n2018\n4\n2\nLess than Associate Degree\nIn same RUCA\nOutside EDR\nIn same PR\nIn MN\nNo MN emp record\nMN emp record\nMN emp record\nNo MN emp record\nNo meaningful emp\nMeaningful emp\nNo MN emp record\nNo meaningful emp\nNo location match\nNo MN emp record\nNo meaningful emp\nLocation match\nNo MN emp record\nNo meaningful emp\nLocation match\nNo MN emp record\nNo meaningful emp\nLocation match\nNo MN emp record\nNo meaningful emp\nNo ind match\n4.666667\n42372.67\n\n\n11122574\n109999\nAUSTIN SENIOR HIGH\nMower\n099\nUrban/town/rural mix\nEDR 10 - Southeast\n2011\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nNo CTE\n0\n3\n4\n3\n0\nYes\n20110822\n2011\n0\nYes\n2\n4\n1\n0\n0\n1\n0\n0\n0\n0\n0\nIn same RUCA\nInside and outside same EDR\nInside and outside same PR\nIn MN\nY\n2013\n2016\n2\n10\nBachelor degree\nIn same RUCA\nInside and outside same EDR\nInside and outside same PR\nIn MN\nMN emp record\nMN emp record\nMN emp record\nNo meaningful emp\nMeaningful emp\nMeaningful emp\nNo meaningful emp\nNo location match\nNo location match\nNo meaningful emp\nNo location match\nNo location match\nNo meaningful emp\nNo location match\nNo location match\nNo meaningful emp\nLocation match\nLocation match\nNo meaningful emp\nNo CTE\nNo CTE\n6.000000\n37203.33\n\n\n10181573\n155484\nCHATFIELD SECONDARY\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2010\nPre-covid grad\nM\nN\nN\n0\nNA\n0\n0\nWhite\n3\n33\n1\n1\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nCTE Participant\n0\n4\n4\n4\n0\nYes\n20120827\n2012\n2\nNo\n2\n4\n1\n0\n0\n1\n0\n0\n0\n0\n0\nIn same RUCA\nOutside EDR\nOutside PR\nIn MN\nY\n2012\n2015\n2\n10\nBachelor degree\nInside and outside same RUCA\nOutside EDR\nOutside PR\nIn MN\nMN emp record\nMN emp record\nMN emp record\nNo meaningful emp\nNo meaningful emp\nMeaningful emp\nNo meaningful emp\nNo meaningful emp\nNo location match\nNo meaningful emp\nNo meaningful emp\nNo location match\nNo meaningful emp\nNo meaningful emp\nNo location match\nNo meaningful emp\nNo meaningful emp\nLocation match\nNo meaningful emp\nNo meaningful emp\nNo ind match\n5.466667\n43477.33\n\n\n\n\n\n\nThe new master dataset has 122,938 rows and 105 columns.\n\n\n\nSummary\nNot much to summarize here.\n\nwrite_csv(master.13, \"Data/SLEDS/Masters/Master-13.csv\")"
  },
  {
    "objectID": "ctedemographics.html",
    "href": "ctedemographics.html",
    "title": "CTEDemographics",
    "section": "",
    "text": "Data prep\nNow I’m going to prep the CTE demographics dataset to join with the master. I will first load the entire CTE demographics dataset, clean it up, and then join with my master/Southern graduate dataset.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nFiscalYearTimeID\nGrade\nBasicParticipant\nBasicConcentrator\nBasicCompletor\nConcentrator150\n\n\n\n\n9143238\n20200630\n10\nY\nN\nN\nN\n\n\n277021\n20200630\n12\nY\nN\nN\nY\n\n\n11651683\n20200630\n10\nY\nN\nN\nN\n\n\n10737120\n20200630\n12\nY\nN\nN\nY\n\n\n8872775\n20200630\n12\nY\nY\nY\nY\n\n\n4002413\n20210630\n10\nY\nN\nN\nN\n\n\n\n\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nFiscalYearTimeID\n\n\nGrade\n\n\nBasicParticipant\n\n\nBasicConcentrator\n\n\nBasicCompletor\n\n\nConcentrator150\n\n\n\n\n\n\nThe original dataset provides whether the student was a basic participant, basic concentrator, basic completor, and/or a centrentrator 150 when taking a CTE course. It looks like each observation is unique by grade of the student. This means that one PersonID can have multiple observations.\nIn order to determine how I want to organize this data so that each observation represents the full characteristics of each PersonID I need to understand how these values are defined.\n\nBasic Participant: Any grade 9-12 student who successfully completes one or more state-approved CTE course(s).\nBasic Concentrator: this is the old standard for years and required the student complete 240 hours. Any student successfully enrolled in a single CTE field for more than 240 hours (successful is defined as passing grade).\nBasic Completor: any concentrator who attains academic and technical knowledge and skills and graduates from high school.\nConcentrator 150: This is the new standard - Any grade 9-12 student who successfully completes 150+ course hours (or more) as part of a state-approved secondary CTE program, within one career field.\n\nJudging by these definitions, it seems that we will want three categories;\n\nThose that participated in a CTE course but were not a concentrator or a completor, and\nThose that participated in a CTE course and graduated as a concentrator.\nThose that did not participate in a CTE course.\n\nSo essentially, filtering this dataset to provide the “highest level achieved” in terms of CTE coursework. We will focus on filtering this dataset to the highest level achieved and will then join with the graduate list which will have all the individuals that did not participate in any CTE courses.\n\n\n\n\n\n\nPersonID\ncte.achievement\n\n\n\n\n55\nCTE Concentrator or Completor\n\n\n181\nCTE Concentrator or Completor\n\n\n280\nCTE Concentrator or Completor\n\n\n301\nCTE Concentrator or Completor\n\n\n412\nCTE Concentrator or Completor\n\n\n513\nCTE Concentrator or Completor\n\n\n\n\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\ncte.achievement\n\n\n\n\n\n\nWhen joined with the master file, there were 90,189 that were either a CTE participant or concentrator.\nLets join this dataset with the master to confirm this thought.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nK12OrganizationID\nOrganizationName\ncounty.name\ncountyfp\nDem_Desc\nedr\ngrad.year\ngrad.year.covid\nGender\nLimitedEnglishProficiencyIndicator\nHomelessIndicator\neconomic.status\npseo.participant\nSpecialEdStatus\nnon.english.home\nRaceEthnicity\nn.years.attended\nACTCompositeScore\nap.exam\ntotal.cte.courses.taken\nACTE-SPED\nAgriculture, Food, and Natural Resources\nArchitecture & Construction\nArts, A/V Technology & Communication\nBusiness, Management & Administrative\nDiversified\nEducation & Training\nFinance\nGovernment & Public Administration\nHealth Science\nHospitality & Tourism\nHuman Services\nInformation Technology\nLaw, Public Safety & Security\nManufacturing\nMarketing\nProgram Area (Diversified)\nScience, Technology, Engineering, & Mathematics\nSTEM\nTransportation, Distribution & Logistics\nWork Experience-Handicapped\nWork Experience-Handicapped (16-20+ on IEP)\nWork Experience/Career Exploration (age 14-15 on I\nWork-Experience-Disadvantaged\nYouth Apprenticeship\ncte.achievement\n\n\n\n\n7699638\n29705\nFILLMORE CENTRAL SENIOR HIGH\nFillmore\n045\nUrban/town/rural mix\nEDR 10 - Southeast\n2015\nPre-covid grad\nM\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n0\n2\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\nCTE Participant\n\n\n2225025\n132298\nMAYO SENIOR HIGH\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2017\nPre-covid grad\nM\nN\nN\n0\n0\n0\n0\nWhite\n3\n29\n0\n1\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nNo CTE\n\n\n10400093\n62\nCannon Falls Secondary\nGoodhue\n049\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n20\n1\n2\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\nCTE Participant\n\n\n8786746\n128661\nLINCOLN SECONDARY\nWabasha\n157\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n24\n1\n2\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nCTE Participant\n\n\n11122574\n109999\nAUSTIN SENIOR HIGH\nMower\n099\nUrban/town/rural mix\nEDR 10 - Southeast\n2011\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nNo CTE\n\n\n10181573\n155484\nCHATFIELD SECONDARY\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2010\nPre-covid grad\nM\nN\nN\n0\nNA\n0\n0\nWhite\n3\n33\n1\n1\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nCTE Participant\n\n\n\n\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nK12OrganizationID\n\n\nOrganizationName\n\n\ncounty.name\n\n\ncountyfp\n\n\nDem_Desc\n\n\nedr\n\n\ngrad.year\n\n\ngrad.year.covid\n\n\nGender\n\n\nLimitedEnglishProficiencyIndicator\n\n\nHomelessIndicator\n\n\neconomic.status\n\n\npseo.participant\n\n\nSpecialEdStatus\n\n\nnon.english.home\n\n\nRaceEthnicity\n\n\nn.years.attended\n\n\nACTCompositeScore\n\n\nap.exam\n\n\ntotal.cte.courses.taken\n\n\nACTE-SPED\n\n\nAgriculture, Food, and Natural Resources\n\n\nArchitecture & Construction\n\n\nArts, A/V Technology & Communication\n\n\nBusiness, Management & Administrative\n\n\nDiversified\n\n\nEducation & Training\n\n\nFinance\n\n\nGovernment & Public Administration\n\n\nHealth Science\n\n\nHospitality & Tourism\n\n\nHuman Services\n\n\nInformation Technology\n\n\nLaw, Public Safety & Security\n\n\nManufacturing\n\n\nMarketing\n\n\nProgram Area (Diversified)\n\n\nScience, Technology, Engineering, & Mathematics\n\n\nSTEM\n\n\nTransportation, Distribution & Logistics\n\n\nWork Experience-Handicapped\n\n\nWork Experience-Handicapped (16-20+ on IEP)\n\n\nWork Experience/Career Exploration (age 14-15 on I\n\n\nWork-Experience-Disadvantaged\n\n\nYouth Apprenticeship\n\n\ncte.achievement\n\n\n\n\n\n\nAfter joining with the master dataset, we have 122,938 rows and 47 columns.\n\n\n\nSummary of CTE demographics\nWe will summarize the CTE demographics data by rural-ness and region to see if there’s any significant differences.\nFirst, lets see what percentage of the graduates by cte demographics categories.\nThe table below shows that of the total graduates from Southern high schools, 43% were a CTE concentrator or completor, while 30% were just a participant and 27% took no CTE courses at all.\n\n\n\n\n\n\n\n\nThe cross-tabs show a significant difference between the percentage of students by categorization and RUCA categories. The largest difference is entirely urban schools where 29% of the graduates had no CTE.\n\n\nRUCA TableRUCA Cross-tabs\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                     | master.5$cte.achievement \n   master.5$Dem_Desc | CTE Concentrator or Completor |               CTE Participant |                        No CTE |                     Row Total | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n      Town/rural mix |                         11283 |                          6042 |                          4798 |                         22123 | \n                     |                      9543.961 |                      6685.775 |                      5893.264 |                               | \n                     |                         0.510 |                         0.273 |                         0.217 |                         0.180 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\nUrban/town/rural mix |                         26237 |                         16764 |                         15998 |                         58999 | \n                     |                     25452.431 |                     17830.043 |                     15716.526 |                               | \n                     |                         0.445 |                         0.284 |                         0.271 |                         0.480 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n      Entirely urban |                         15516 |                         14347 |                         11953 |                         41816 | \n                     |                     18039.608 |                     12637.182 |                     11139.210 |                               | \n                     |                         0.371 |                         0.343 |                         0.286 |                         0.340 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n        Column Total |                         53036 |                         37153 |                         32749 |                        122938 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  1319.21     d.f. =  4     p =  2.2754e-284 \n\n\n \n\n\n\n\n\n\nLet’s take a look at the cross-tabs by EDR.\nThe cross-tabs show a significant difference between the percentage of students by categorization and EDRs. EDR 10 had a significantly higher percentage of individuals that took no CTE - 29% compared to 22% for EDR 9.\n\n\nEDR TableEDR Cross-tabs\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                      | master.5$cte.achievement \n         master.5$edr | CTE Concentrator or Completor |               CTE Participant |                        No CTE |                     Row Total | \n----------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n   EDR 10 - Southeast |                         35310 |                         26943 |                         25093 |                         87346 | \n                      |                     37681.453 |                     26396.769 |                     23267.779 |                               | \n                      |                         0.404 |                         0.308 |                         0.287 |                         0.710 | \n----------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\nEDR 9 - South Central |                         17726 |                         10210 |                          7656 |                         35592 | \n                      |                     15354.547 |                     10756.231 |                      9481.221 |                               | \n                      |                         0.498 |                         0.287 |                         0.215 |                         0.290 | \n----------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n         Column Total |                         53036 |                         37153 |                         32749 |                        122938 | \n----------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  1049.1     d.f. =  2     p =  1.551952e-228 \n\n\n \n\n\n\n\n\n\nLets take a look at the county map.\nThe cross tabulations show that there is a statistically significant difference in the percent of graduates in each CTE category by county. The highest percentage of No CTE graduates is Rice County with 45%. The counties with the highest percentage of CTE completors/concentrators are;\n\nWaseca: 71%\nFreeborn: 61%\nFillmore: 65%.\n\n\n\nCounty MapCounty Table\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCounty Cross-tabs\n\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                     | master.5$cte.achievement \nmaster.5$county.name | CTE Concentrator or Completor |               CTE Participant |                        No CTE |                     Row Total | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n          Blue Earth |                          5072 |                          3508 |                          2688 |                         11268 | \n                     |                      4861.065 |                      3405.294 |                      3001.641 |                               | \n                     |                         0.450 |                         0.311 |                         0.239 |                         0.092 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n               Brown |                          2525 |                          1026 |                           927 |                          4478 | \n                     |                      1931.829 |                      1353.293 |                      1192.878 |                               | \n                     |                         0.564 |                         0.229 |                         0.207 |                         0.036 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n               Dodge |                          2593 |                          1294 |                           540 |                          4427 | \n                     |                      1909.827 |                      1337.880 |                      1179.292 |                               | \n                     |                         0.586 |                         0.292 |                         0.122 |                         0.036 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n           Faribault |                          1058 |                           610 |                           331 |                          1999 | \n                     |                       862.377 |                       604.116 |                       532.506 |                               | \n                     |                         0.529 |                         0.305 |                         0.166 |                         0.016 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n            Fillmore |                          1965 |                           753 |                           326 |                          3044 | \n                     |                      1313.195 |                       919.925 |                       810.880 |                               | \n                     |                         0.646 |                         0.247 |                         0.107 |                         0.025 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n            Freeborn |                          2733 |                          1086 |                           696 |                          4515 | \n                     |                      1947.791 |                      1364.475 |                      1202.734 |                               | \n                     |                         0.605 |                         0.241 |                         0.154 |                         0.037 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n             Goodhue |                          4759 |                          2608 |                          1801 |                          9168 | \n                     |                      3955.116 |                      2770.654 |                      2442.230 |                               | \n                     |                         0.519 |                         0.284 |                         0.196 |                         0.075 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n             Houston |                          2150 |                          1315 |                          2077 |                          5542 | \n                     |                      2390.843 |                      1674.844 |                      1476.313 |                               | \n                     |                         0.388 |                         0.237 |                         0.375 |                         0.045 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n            Le Sueur |                          2397 |                          1466 |                           796 |                          4659 | \n                     |                      2009.913 |                      1407.993 |                      1241.094 |                               | \n                     |                         0.514 |                         0.315 |                         0.171 |                         0.038 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              Martin |                          1461 |                          1111 |                          1102 |                          3674 | \n                     |                      1584.980 |                      1110.317 |                       978.703 |                               | \n                     |                         0.398 |                         0.302 |                         0.300 |                         0.030 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n               Mower |                          2421 |                          2011 |                          1982 |                          6414 | \n                     |                      2767.028 |                      1938.370 |                      1708.602 |                               | \n                     |                         0.377 |                         0.314 |                         0.309 |                         0.052 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n            Nicollet |                          1118 |                           764 |                           899 |                          2781 | \n                     |                      1199.736 |                       840.444 |                       740.820 |                               | \n                     |                         0.402 |                         0.275 |                         0.323 |                         0.023 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n             Olmsted |                          7851 |                          9545 |                          8725 |                         26121 | \n                     |                     11268.716 |                      7894.008 |                      6958.277 |                               | \n                     |                         0.301 |                         0.365 |                         0.334 |                         0.212 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n                Rice |                          2955 |                          2690 |                          4642 |                         10287 | \n                     |                      4437.858 |                      3108.826 |                      2740.316 |                               | \n                     |                         0.287 |                         0.261 |                         0.451 |                         0.084 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              Sibley |                          1182 |                           831 |                           599 |                          2612 | \n                     |                      1126.828 |                       789.371 |                       695.801 |                               | \n                     |                         0.453 |                         0.318 |                         0.229 |                         0.021 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              Steele |                          3506 |                          2209 |                          1742 |                          7457 | \n                     |                      3216.983 |                      2253.574 |                      1986.443 |                               | \n                     |                         0.470 |                         0.296 |                         0.234 |                         0.061 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n             Wabasha |                          1762 |                          1243 |                          1016 |                          4021 | \n                     |                      1734.677 |                      1215.183 |                      1071.139 |                               | \n                     |                         0.438 |                         0.309 |                         0.253 |                         0.033 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              Waseca |                          2913 |                           894 |                           314 |                          4121 | \n                     |                      1777.818 |                      1245.404 |                      1097.778 |                               | \n                     |                         0.707 |                         0.217 |                         0.076 |                         0.034 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              Winona |                          2615 |                          2189 |                          1546 |                          6350 | \n                     |                      2739.418 |                      1919.029 |                      1691.553 |                               | \n                     |                         0.412 |                         0.345 |                         0.243 |                         0.052 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n        Column Total |                         53036 |                         37153 |                         32749 |                        122938 | \n---------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  8615.363     d.f. =  36     p =  0 \n\n\n \n\n\n\n\n\n\n\n\n\n\nThe next thing to check is to determine whether there is a significant difference by year.\nOddly, something happens with the 2020 data. The percentage of students with No CTE drops by half from 2020 to 2023.\n\n\nYear tableYear cross-tab\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                   | master.5$cte.achievement \nmaster.5$grad.year | CTE Concentrator or Completor |               CTE Participant |                        No CTE |                     Row Total | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              2008 |                          5441 |                          1305 |                          1422 |                          8168 | \n                   |                      3523.712 |                      2468.445 |                      2175.843 |                               | \n                   |                         0.666 |                         0.160 |                         0.174 |                         0.066 | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              2009 |                          4164 |                          1868 |                          2085 |                          8117 | \n                   |                      3501.710 |                      2453.032 |                      2162.258 |                               | \n                   |                         0.513 |                         0.230 |                         0.257 |                         0.066 | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              2010 |                          2962 |                          2457 |                          2487 |                          7906 | \n                   |                      3410.684 |                      2389.266 |                      2106.050 |                               | \n                   |                         0.375 |                         0.311 |                         0.315 |                         0.064 | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              2011 |                          2409 |                          2599 |                          2684 |                          7692 | \n                   |                      3318.363 |                      2324.594 |                      2049.043 |                               | \n                   |                         0.313 |                         0.338 |                         0.349 |                         0.063 | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              2012 |                          1992 |                          2492 |                          2970 |                          7454 | \n                   |                      3215.689 |                      2252.668 |                      1985.644 |                               | \n                   |                         0.267 |                         0.334 |                         0.398 |                         0.061 | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              2013 |                          2050 |                          2592 |                          2904 |                          7546 | \n                   |                      3255.378 |                      2280.471 |                      2010.151 |                               | \n                   |                         0.272 |                         0.343 |                         0.385 |                         0.061 | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              2014 |                          2160 |                          2480 |                          2621 |                          7261 | \n                   |                      3132.428 |                      2194.341 |                      1934.231 |                               | \n                   |                         0.297 |                         0.342 |                         0.361 |                         0.059 | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              2015 |                          2444 |                          2452 |                          2438 |                          7334 | \n                   |                      3163.920 |                      2216.403 |                      1953.677 |                               | \n                   |                         0.333 |                         0.334 |                         0.332 |                         0.060 | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              2016 |                          2636 |                          2384 |                          2477 |                          7497 | \n                   |                      3234.239 |                      2265.663 |                      1997.098 |                               | \n                   |                         0.352 |                         0.318 |                         0.330 |                         0.061 | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              2017 |                          2662 |                          2449 |                          2224 |                          7335 | \n                   |                      3164.352 |                      2216.705 |                      1953.944 |                               | \n                   |                         0.363 |                         0.334 |                         0.303 |                         0.060 | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              2018 |                          2906 |                          2452 |                          2311 |                          7669 | \n                   |                      3308.441 |                      2317.643 |                      2042.917 |                               | \n                   |                         0.379 |                         0.320 |                         0.301 |                         0.062 | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              2019 |                          4046 |                          1303 |                          2313 |                          7662 | \n                   |                      3305.421 |                      2315.527 |                      2041.052 |                               | \n                   |                         0.528 |                         0.170 |                         0.302 |                         0.062 | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              2020 |                          4123 |                          2512 |                           983 |                          7618 | \n                   |                      3286.439 |                      2302.230 |                      2029.331 |                               | \n                   |                         0.541 |                         0.330 |                         0.129 |                         0.062 | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              2021 |                          4247 |                          2505 |                           969 |                          7721 | \n                   |                      3330.874 |                      2333.358 |                      2056.769 |                               | \n                   |                         0.550 |                         0.324 |                         0.126 |                         0.063 | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              2022 |                          4348 |                          2734 |                           976 |                          8058 | \n                   |                      3476.257 |                      2435.202 |                      2146.541 |                               | \n                   |                         0.540 |                         0.339 |                         0.121 |                         0.066 | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n              2023 |                          4446 |                          2569 |                           885 |                          7900 | \n                   |                      3408.095 |                      2387.453 |                      2104.452 |                               | \n                   |                         0.563 |                         0.325 |                         0.112 |                         0.064 | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n      Column Total |                         53036 |                         37153 |                         32749 |                        122938 | \n-------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  10137.71     d.f. =  30     p =  0"
  },
  {
    "objectID": "cteenrollment.html",
    "href": "cteenrollment.html",
    "title": "CTEEnrollment",
    "section": "",
    "text": "The next dataset is individuals that were enrolled in CTE courses. I’m first going to load the entire dataset, then clean it up, and then I will merge it with my master/Southern graduate dataset.\n\n\ncte.enrollment.original &lt;- read_csv('/Users/kellyasche/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/SLEDS/CTEEnrollment/CTEEnrollment.csv') %&gt;%\n  mutate(PersonID = as.integer(PersonID)) %&gt;%\n  filter(FiscalYearTimeID != \"NULL\") %&gt;%\n  mutate(CareerCluster = ifelse(CareerCluster == \"26\" & CareerClusterName == \"Diversified Youth Apprenticeship\", \"25\", CareerCluster),\n         CareerCluster = ifelse(CareerCluster == \"NULL\", \"0\", CareerCluster),\n         CareerCluster = str_replace(CareerCluster, \"Design\", \"11\"),\n         CareerCluster = as.integer(CareerCluster))\n\n\ncareer.cluster.codes.names.original &lt;- read_xlsx('/Users/kellyasche/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/SLEDS/CTEEnrollment/career-cluster-codes-names_from SLEDS_March2025.xlsx') %&gt;%\n  mutate(cte.year = ifelse(Introduced &gt; 2020, 2021, Discontinued),\n         cte.year = ifelse(is.na(Introduced) & is.na(Discontinued), 2021, cte.year),\n         cte.year = ifelse(is.na(cte.year), 2020, cte.year),\n         CareerClusterName.new = as_factor(CareerClusterName.new))\n\n\ncareer.cluster.codes.names.addendum &lt;- data.frame(`CareerCluster` = c(0, 1, 2),\n                                                  CareerClusterName.new = c(\"NULL\", \"Agriculture, Food, and Natural Resources\", \"Architecture & Construction\"),\n                                                  Status = c(\"Retired\", \"Retired\", \"Retired\"),\n                                                  Introduced = c(2021, 2021, 2021),\n                                                  Discontinued = c(2021, 2021, 2021),\n                                                  cte.year = c(2020, 2020, 2020))\n\ncareer.cluster.codes.names &lt;- career.cluster.codes.names.original %&gt;%\n  rbind(career.cluster.codes.names.addendum)\n\ncte.enrollment.master &lt;- cte.enrollment.original %&gt;%\n  mutate(year = str_sub(FiscalYearTimeID, 1, 4),\n         year = as.integer(year),\n         cte.year = ifelse(year &lt; 2021, 2020, 2021)) %&gt;%\n  left_join(career.cluster.codes.names[,c(1,2,6)], by = c(\"CareerCluster\", \"cte.year\")) %&gt;%\n  select(-CareerClusterName, -year, -cte.year) %&gt;%\n  rename(CareerClusterName = CareerClusterName.new)\n\nkable(head(cte.enrollment.master))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nFiscalYearTimeID\nK12OrganizationID\nCTECourseID\nProgramCode\nProgramCourseName\nCourseCode\nCourseTitle\nCareerCluster\nCareerField\nCareerFieldName\nCareerClusterName\n\n\n\n\n4388014\n20070630\n53287\n893\n151000\nPolitical Science (including Civics & American Gov\n00\nAcademic\nNA\nNA\nNA\nNA\n\n\n1045969\n20160630\n60387\n655\n090301\nHospitality Management\n08\nI. Hospitality Business\n9\n06\nHuman Services\nBusiness, Management & Administrative\n\n\n772971\n20140630\n82094\n326\n040800\nMarketing Careers\n25\nI. Principles of Marketing\n6\n03\nBusiness, Management & Administration\nMarketing\n\n\n4081362\n20120630\n15511\n1171\n171502\nCommunications Technology\n69\nI. Multi Media & Video Technology\n12\n02\nArts, Communications & Information Systems\nArts, A/V Technology & Communication\n\n\n1683691\n20110630\n151277\n581\n090101\nFamily and Consumer Science\n76\nFoods and Nutrition I\n11\n06\nHuman Services\nHuman Services\n\n\n6152806\n20140630\n152789\n1340\n171000\nConstruction Careers: General\n76\nPLTW: Computer Integrated Manufacturing\n2\n04\nEngineering, Manufacturing & Technology\nArchitecture & Construction\n\n\n\n\nkable(names(cte.enrollment.master))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nFiscalYearTimeID\n\n\nK12OrganizationID\n\n\nCTECourseID\n\n\nProgramCode\n\n\nProgramCourseName\n\n\nCourseCode\n\n\nCourseTitle\n\n\nCareerCluster\n\n\nCareerField\n\n\nCareerFieldName\n\n\nCareerClusterName\n\n\n\n\n\n\nThis dataset provides each CTE course taken by a student. This means that there were 1,956,574 instances of a student taking a CTE course. There are 12 columns providing the PersonID taking the course, the fiscal year, the K12 organization, along with details about the actual course itself.\nThere are two goals with this dataset.\n\nFormat it so each observation represents a single PersonID along with the total number of CTE courses they took.\nFormat it so each observation represents a single PersonID along with the number of CTE courses taken in each CareerCluster.\n\nI’m using careerclusters due to their specificity.\n\n\ngraduate &lt;- read_csv(\"Data/SLEDS/Masters/Master-3.csv\") %&gt;%\n  select(PersonID)\n\ncte.n.total.courses &lt;- cte.enrollment.master %&gt;%\n  group_by(PersonID) %&gt;%\n  summarise(total.cte.courses.taken = n()) %&gt;%\n  ungroup() %&gt;%\n  right_join(graduate, by = \"PersonID\") %&gt;%\n  mutate(total.cte.courses.taken = ifelse(is.na(total.cte.courses.taken), 0, total.cte.courses.taken))\n\nkable(head(cte.n.total.courses))\n\n\n\n\nPersonID\ntotal.cte.courses.taken\n\n\n\n\n55\n9\n\n\n181\n7\n\n\n280\n3\n\n\n301\n4\n\n\n304\n1\n\n\n412\n1\n\n\n\n\nkable(names(cte.n.total.courses))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\ntotal.cte.courses.taken\n\n\n\n\n\n\nA total of 105,935 individuals took at least one CTE course in the dataset.\nNext I’m going to create a dataset that calculates the number of CTE courses each individual has taken by CareerCluster.\n\n\ncte.n.careercluster &lt;- cte.enrollment.master %&gt;%\n  group_by(PersonID, CareerClusterName) %&gt;%\n  summarise(cte.n.careercluster = n()) %&gt;%\n  ungroup() %&gt;%\n  right_join(graduate, by = \"PersonID\") %&gt;%\n  complete(PersonID, CareerClusterName, fill = list(cte.n.careercluster = 0)) %&gt;%\n  drop_na(CareerClusterName) %&gt;%\n  mutate(CareerClusterName,\n         CareerClusterName = str_replace(CareerClusterName, \"Arts, A/V Technology, & Communication\", \"Arts, A/V Technology & Communication\")) %&gt;%\n  spread(key = CareerClusterName, value = cte.n.careercluster) %&gt;%\n  select(PersonID, 2, 4:18, 20:ncol(.))\n\nkable(head(cte.n.careercluster))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nACTE-SPED\nAgriculture, Food, and Natural Resources\nArchitecture & Construction\nArts, A/V Technology & Communication\nBusiness, Management & Administrative\nDiversified\nEducation & Training\nFinance\nGovernment & Public Administration\nHealth Science\nHospitality & Tourism\nHuman Services\nInformation Technology\nLaw, Public Safety & Security\nManufacturing\nMarketing\nProgram Area (Diversified)\nScience, Technology, Engineering, & Mathematics\nSTEM\nTransportation, Distribution & Logistics\nWork Experience-Handicapped\nWork Experience-Handicapped (16-20+ on IEP)\nWork Experience/Career Exploration (age 14-15 on I\nWork-Experience-Disadvantaged\nYouth Apprenticeship\n\n\n\n\n55\n0\n3\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n181\n0\n0\n0\n0\n3\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n3\n0\n0\n0\n0\n0\n\n\n280\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n2\n0\n0\n0\n0\n0\n\n\n301\n0\n0\n0\n0\n0\n0\n0\n0\n0\n3\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n304\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n412\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n\n\nkable(names(cte.n.careercluster))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nACTE-SPED\n\n\nAgriculture, Food, and Natural Resources\n\n\nArchitecture & Construction\n\n\nArts, A/V Technology & Communication\n\n\nBusiness, Management & Administrative\n\n\nDiversified\n\n\nEducation & Training\n\n\nFinance\n\n\nGovernment & Public Administration\n\n\nHealth Science\n\n\nHospitality & Tourism\n\n\nHuman Services\n\n\nInformation Technology\n\n\nLaw, Public Safety & Security\n\n\nManufacturing\n\n\nMarketing\n\n\nProgram Area (Diversified)\n\n\nScience, Technology, Engineering, & Mathematics\n\n\nSTEM\n\n\nTransportation, Distribution & Logistics\n\n\nWork Experience-Handicapped\n\n\nWork Experience-Handicapped (16-20+ on IEP)\n\n\nWork Experience/Career Exploration (age 14-15 on I\n\n\nWork-Experience-Disadvantaged\n\n\nYouth Apprenticeship\n\n\n\n\n\n\nThere seems to be a minor coding error in the careercluster column. For one particular class, it was consistently labeled “Information Technology” even though the field requires a number value. In addition, “information Technology” doesn’t seem to match the course due to the following information;\nProgram Course Name: Family and Consumer Science Course title: Apparrel CareerCluster: Design CareerClusterName: 6 (which should be a letter value, not a code).\nDue to this information, I recoded anything that was “Information Technology” for that particular course as a “6”.\nIn addition, there were some errors in careercluster 26, which is supposed to be “Administrative only” but had a number of “Youth Apprenticeships” in it that I recoded to CareerCluster 25.\nAfter doing this, the dataset has all individuals/graduates with a column for each CTE course CareerCluster containing the number of courses they took within that CareerCluster. I will summarise below to see how many students took courses within each CareerCluster.\nNow lets join the CTE enrollment data with the master dataset.\n\n\nmaster.3 &lt;- read_csv(\"Data/SLEDS/Masters/Master-3.csv\")\n\nmaster.4 &lt;- master.3 %&gt;%\n  left_join(cte.n.total.courses, by = \"PersonID\") %&gt;%\n  left_join(cte.n.careercluster, by = \"PersonID\") %&gt;%\n  mutate(Dem_Desc = fct_relevel(Dem_Desc, \"Town/rural mix\", \"Urban/town/rural mix\", \"Entirely urban\"))\n\ncteenrollment.master &lt;- master.3 %&gt;%\n  select(PersonID) %&gt;%\n  left_join(cte.n.total.courses, by = \"PersonID\") %&gt;%\n  left_join(cte.n.careercluster, by = \"PersonID\")\n\nwrite_csv(cteenrollment.master, \"Data/SLEDS/Masters/cteenrollment_master.csv\")\n\nkable(head(master.4))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nK12OrganizationID\nOrganizationName\ncounty.name\ncountyfp\nDem_Desc\nedr\ngrad.year\ngrad.year.covid\nGender\nLimitedEnglishProficiencyIndicator\nHomelessIndicator\neconomic.status\npseo.participant\nSpecialEdStatus\nnon.english.home\nRaceEthnicity\nn.years.attended\nACTCompositeScore\nap.exam\ntotal.cte.courses.taken\nACTE-SPED\nAgriculture, Food, and Natural Resources\nArchitecture & Construction\nArts, A/V Technology & Communication\nBusiness, Management & Administrative\nDiversified\nEducation & Training\nFinance\nGovernment & Public Administration\nHealth Science\nHospitality & Tourism\nHuman Services\nInformation Technology\nLaw, Public Safety & Security\nManufacturing\nMarketing\nProgram Area (Diversified)\nScience, Technology, Engineering, & Mathematics\nSTEM\nTransportation, Distribution & Logistics\nWork Experience-Handicapped\nWork Experience-Handicapped (16-20+ on IEP)\nWork Experience/Career Exploration (age 14-15 on I\nWork-Experience-Disadvantaged\nYouth Apprenticeship\n\n\n\n\n7699638\n29705\nFILLMORE CENTRAL SENIOR HIGH\nFillmore\n045\nUrban/town/rural mix\nEDR 10 - Southeast\n2015\nPre-covid grad\nM\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n0\n2\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n\n\n2225025\n132298\nMAYO SENIOR HIGH\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2017\nPre-covid grad\nM\nN\nN\n0\n0\n0\n0\nWhite\n3\n29\n0\n1\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n10400093\n62\nCannon Falls Secondary\nGoodhue\n049\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n20\n1\n2\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n\n\n8786746\n128661\nLINCOLN SECONDARY\nWabasha\n157\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n24\n1\n2\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n11122574\n109999\nAUSTIN SENIOR HIGH\nMower\n099\nUrban/town/rural mix\nEDR 10 - Southeast\n2011\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n10181573\n155484\nCHATFIELD SECONDARY\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2010\nPre-covid grad\nM\nN\nN\n0\nNA\n0\n0\nWhite\n3\n33\n1\n1\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n\n\nkable(names(master.4))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nK12OrganizationID\n\n\nOrganizationName\n\n\ncounty.name\n\n\ncountyfp\n\n\nDem_Desc\n\n\nedr\n\n\ngrad.year\n\n\ngrad.year.covid\n\n\nGender\n\n\nLimitedEnglishProficiencyIndicator\n\n\nHomelessIndicator\n\n\neconomic.status\n\n\npseo.participant\n\n\nSpecialEdStatus\n\n\nnon.english.home\n\n\nRaceEthnicity\n\n\nn.years.attended\n\n\nACTCompositeScore\n\n\nap.exam\n\n\ntotal.cte.courses.taken\n\n\nACTE-SPED\n\n\nAgriculture, Food, and Natural Resources\n\n\nArchitecture & Construction\n\n\nArts, A/V Technology & Communication\n\n\nBusiness, Management & Administrative\n\n\nDiversified\n\n\nEducation & Training\n\n\nFinance\n\n\nGovernment & Public Administration\n\n\nHealth Science\n\n\nHospitality & Tourism\n\n\nHuman Services\n\n\nInformation Technology\n\n\nLaw, Public Safety & Security\n\n\nManufacturing\n\n\nMarketing\n\n\nProgram Area (Diversified)\n\n\nScience, Technology, Engineering, & Mathematics\n\n\nSTEM\n\n\nTransportation, Distribution & Logistics\n\n\nWork Experience-Handicapped\n\n\nWork Experience-Handicapped (16-20+ on IEP)\n\n\nWork Experience/Career Exploration (age 14-15 on I\n\n\nWork-Experience-Disadvantaged\n\n\nYouth Apprenticeship\n\n\n\n\n\n\nAfter joining the CTE enrollment data with the master dataset we continue to have 122,938 with an updated number of 46 columns."
  },
  {
    "objectID": "cteenrollment.html#summary---number-of-cte-courses-taken-by-a-student",
    "href": "cteenrollment.html#summary---number-of-cte-courses-taken-by-a-student",
    "title": "CTEEnrollment",
    "section": "Summary - Number of CTE courses taken by a student",
    "text": "Summary - Number of CTE courses taken by a student\n\nWe’ll start with summarising the number of cte courses the observations have taken.\nThe tables below show that the average number of CTE courses taken by all PersonID in the master dataset is 4.01 with a standard deviation of +/-3.41. This is a high standard deviation meaning there are values quite far from the mean.\nThe second row of the table shows the average number of CTE courses taken by individuals who took at least one CTE course. The average jumps up a bit to 4.65 with a standard deviation of 3.24.\n\n\n\n\n\n\n\n\nBelow is a chart showing the distribution of CTE courses taken by individuals. This shows that a a large majority of students take 10 courses or less.\n\n\n\n\n\n\n\n\nUp next is to see if the percentage of students taking a CTE course varies significantly by RUCA group.\nThere is a significant difference in whether a student has taken at least one CTE course and their high school county RUCA category. Although 84% of all graduates took at least one CTE course, that percentage is highest in town/rural mix counties with 90% where as the other two RUCA categories had 85%.\nOf those students that took at least 1 CTE course, the average number of CTE courses taken ranged from 5.1 in our entirely urban districts to 4.6 in town/rural mix districts.\nThe mean and medians also show significant difference. The more rural a district is, the higher average number of CTE courses taken by students - 5 for town/rural mix districts compared to 4.3 for entirely urban.\n\n\nRUCA TableRUCA Cross-tabs\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ncte.yes.no.ruca &lt;- master.4 %&gt;%\n  mutate(cte.yes = ifelse(total.cte.courses.taken &gt; 0, \"Yes\", \"No\")) \n\nCrossTable(cte.yes.no.ruca$Dem_Desc, cte.yes.no.ruca$cte.yes, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                         | cte.yes.no.ruca$cte.yes \ncte.yes.no.ruca$Dem_Desc |        No |       Yes | Row Total | \n-------------------------|-----------|-----------|-----------|\n          Town/rural mix |      2232 |     19891 |     22123 | \n                         |  3059.732 | 19063.268 |           | \n                         |     0.101 |     0.899 |     0.180 | \n-------------------------|-----------|-----------|-----------|\n    Urban/town/rural mix |      8809 |     50190 |     58999 | \n                         |  8159.885 | 50839.115 |           | \n                         |     0.149 |     0.851 |     0.480 | \n-------------------------|-----------|-----------|-----------|\n          Entirely urban |      5962 |     35854 |     41816 | \n                         |  5783.382 | 36032.618 |           | \n                         |     0.143 |     0.857 |     0.340 | \n-------------------------|-----------|-----------|-----------|\n            Column Total |     17003 |    105935 |    122938 | \n-------------------------|-----------|-----------|-----------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  326.1888     d.f. =  2     p =  1.475746e-71"
  },
  {
    "objectID": "cteenrollment.html#summary---careercluster-of-cte-courses-taken",
    "href": "cteenrollment.html#summary---careercluster-of-cte-courses-taken",
    "title": "CTEEnrollment",
    "section": "Summary - CareerCluster of CTE courses taken",
    "text": "Summary - CareerCluster of CTE courses taken\nLet’s dig into the breadth of CTE course concentrations a graduate would take by looking at the proportion of graduates that took at least one course within a concentration.\nThe table below shows that a third of all graduates took a CTE course in Transportation, Distribution & Logistics, and agriculture, food and natural resources, followed by 32% in Human Services, and a quarter in Health science and Business, Management and Administrative.\n\n\ncte.cf.prop &lt;- master.4 %&gt;%\n  gather(key = \"CareerCluster\", value = \"n.courses\", `ACTE-SPED`:`Youth Apprenticeship`) %&gt;%\n  mutate(cte.cf.taken = ifelse(n.courses &gt; 0, \"Yes\", \"No\")) %&gt;%\n  tabyl(CareerCluster, cte.cf.taken) %&gt;%\n  mutate(pct.taken.cf = Yes / (Yes + No)) %&gt;% \n  arrange(desc(pct.taken.cf))\n\ndatatable(cte.cf.prop, class = \"cell-border stripe\", filter = \"top\", rownames = FALSE,\n          options = list(scrollX = TRUE)) %&gt;%\n  formatCurrency(2:3, \"\", digits = 0) %&gt;%\n  formatPercentage(4)\n\n\n\n\n\n\nNow we will take a look at the breakdown of the number of times a CTE courses has been taken within a CareerCluster for each PersonID. I expect there to be a lot of variation in this data since different schools might focus on different types of CTE offerings depending on the local employment makeup.\nFirst, lets look at the concentrations of courses taken across CareerClusters.\nSurprisingly, agriculture, food and natural resources was the careercluster with the highest percentage of courses taken with 22.4%. This was followed by transportation, distribution and logistics with 13.3% and human services with 12.3%.\n\n\n\n\n\n\n\n\nLets see how this looks broken down by county.\nThe county maps do show some differences in percentages across career clusters. Agriculture, food and natural resources had higher percentages taken in the more rural counties. The more urban counties had higher percentages of health science and human services.\n\n\n\n\n\n\n\n\nwrite_csv(master.4, \"Data/SLEDS/Masters/Master-4.csv\")"
  },
  {
    "objectID": "nscenrollment.html",
    "href": "nscenrollment.html",
    "title": "National Student Clearinghouse - Enrollment",
    "section": "",
    "text": "Data Prep\nOkay, lets check out the National Student Clearinghouse enrollment data. I will first import the entire dataset, clean it up, and then merge it with the master / Southern graduate dataset.\n\n\nnsc.enrollment.original &lt;- read_csv('/Users/kellyasche/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/SLEDS/NSCEnrollment/NSC_Enrollments.csv') %&gt;%\n  mutate(PersonID = as.integer(PersonID),\n         OPEID = str_pad(OPEID, width = 8, side = \"left\", pad = \"0\"),\n         OPEID.6 = str_sub(OPEID, 1, 6)) %&gt;%\n  drop_na(PersonID) %&gt;%\n  drop_na(OPEID)\n  \nkable(head(nsc.enrollment.original))\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nEnrollmentBeginTimeID\nEnrollmentEndTimeID\nOPEID\nEnrollmentStatus\nOPEID.6\n\n\n\n\n10025234\n20120103\n20120126\n00235400\nH\n002354\n\n\n11364693\n20130122\n20130517\n00238881\nF\n002388\n\n\n3090532\n20090824\n20091218\n00238300\nF\n002383\n\n\n11127041\n20200601\n20200819\n00238200\nL\n002382\n\n\n4465956\n20100823\n20101217\n00299700\nF\n002997\n\n\n9191392\n20110110\n20110513\n00553400\nL\n005534\n\n\n\n\nkable(names(nsc.enrollment.original))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nEnrollmentBeginTimeID\n\n\nEnrollmentEndTimeID\n\n\nOPEID\n\n\nEnrollmentStatus\n\n\nOPEID.6\n\n\n\n\n\n\nThe dataset has 3,010,265 rows and 6 columns. Here are the columns and their definitions.\n\nEnrollmentBeginTimeID: Begin date for the student’s period of attendance.\nEnrollmentEndTimeID: End date for the student’s period of attendance.\nOPEID: Office of Postsecondary Education (OPE)/FICE code of the college that the student attended (Foreign Key to IPEDSCharacteristics).\nInstitutionName: Name of institution\nEnrollmentStatus: The last enrollment status reported for the student. This field will have ‘N/A’ or “NULL” if the reporting college has not defined the student’s enrollment status as directory information. Here are the code definitions;\n\nF: Full-time\nQ: Three-quarter time\nH: Half-time\nL: Less than half-time\nA: Leave of absence\nW: Withdrawn\nD: Deceased\n\n\nEssentially, this dataset provides semester-based information - each observation is a semester/single period with the institutional information and beginning and end time of that single period (usually a semester). For example, if an individual attended South Dakota State University, attended in a “typical” fashion (fall and spring semesters), and graduated in 4 years, there would be 8 observations for that PersonID - one observation per semester.\nThere are a few pieces of information that I want to consolidate from this dataset;\n\nDid the PersonID in the master dataset attend a college - yes or no?\nDid the PersonID attend college during high school (PSEO), immediately after graduation or wait?\nDid the PersonID attend multiple colleges - yes or no?\nWhat type of college did the PersonID attend first?\nDid the PersonID attend a public, private not-for-profit, or private or, for-profit college(s)?\nAt any point during their college career, did the PersonID attend a college(s) inside or outside of the Southwest Region or outside the EDR of their high school?\n\nI was going to include the length of time that a PersonID attended college, but due to differences in how institutions report enrollment periods, it didn’t seem like it would be a great indicator.\nThe pieces of information missing in the original dataset is location and type of institution attended.To do this we will need to join the original dataset with an IPEDS dataset using opeid.\nThe IPEDS data and the NSC data will only match using the first 6 digits of the IPEDS OPEID values. So I will change that in the NSC data. Then I can join.\n\n\nipeds.original &lt;- read_csv('/Users/kellyasche/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/SLEDS/IPEDS/IPEDS.csv') \n\nipeds.sector &lt;- ipeds.original %&gt;%\n  filter(!is.na(OPEID)) %&gt;%\n  mutate(OPEID = str_pad(OPEID, width = 8, side = \"left\", pad = \"0\"),\n         OPEID.6 = str_sub(OPEID, 1, 6)) %&gt;%\n  select(Unitid, OPEID.6, City, State, FIPS, GeographicRegion, CountyCode, InstitutionSector, InstitutionName)  %&gt;%\n  mutate(CountyCode = str_pad(CountyCode, width = 5, side = \"left\", pad = \"0\"))\n\nnsc.enrollment.ipeds&lt;- nsc.enrollment.original %&gt;%\n  left_join(ipeds.sector, by = \"OPEID.6\") %&gt;%\n  drop_na(Unitid) %&gt;%\n  mutate(EnrollmentStatus = as_factor(EnrollmentStatus))\n\nkable(head(nsc.enrollment.ipeds))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nEnrollmentBeginTimeID\nEnrollmentEndTimeID\nOPEID\nEnrollmentStatus\nOPEID.6\nUnitid\nCity\nState\nFIPS\nGeographicRegion\nCountyCode\nInstitutionSector\nInstitutionName\n\n\n\n\n10025234\n20120103\n20120126\n00235400\nH\n002354\n173665\nSaint Paul\nMN\n27\n4\n27123\n2\nHamline University\n\n\n11364693\n20130122\n20130517\n00238881\nF\n002388\n174233\nDuluth\nMN\n27\n4\n27137\n1\nUniversity of Minnesota-Duluth\n\n\n3090532\n20090824\n20091218\n00238300\nF\n002383\n174862\nSaint Bonifacius\nMN\n27\n4\n27019\n2\nCrown College\n\n\n11127041\n20200601\n20200819\n00238200\nL\n002382\n174844\nNorthfield\nMN\n27\n4\n27131\n2\nSt Olaf College\n\n\n4465956\n20100823\n20101217\n00299700\nF\n002997\n200332\nFargo\nND\n38\n4\n38017\n1\nNorth Dakota State University-Main Campus\n\n\n9191392\n20110110\n20110513\n00553400\nL\n005534\n174756\nSaint Cloud\nMN\n27\n4\n27145\n4\nSt Cloud Technical and Community College\n\n\n\n\nkable(names(nsc.enrollment.ipeds))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nEnrollmentBeginTimeID\n\n\nEnrollmentEndTimeID\n\n\nOPEID\n\n\nEnrollmentStatus\n\n\nOPEID.6\n\n\nUnitid\n\n\nCity\n\n\nState\n\n\nFIPS\n\n\nGeographicRegion\n\n\nCountyCode\n\n\nInstitutionSector\n\n\nInstitutionName\n\n\n\n\n\n\nAfter joining these we now have 3,009,843 rows and 14 columns. This is a few less than the original enrollment document due to a few OPEIDs not aligning. But overall, the data now has the institution sector that the individual attended as well as location.\nFirst, we will create a dataset with a column confirming their post-secondary attendance for each unique PersonID in the nsc.enrollment.ipeds.\n\n\nnsc.enrollment.confirm &lt;- nsc.enrollment.ipeds %&gt;%\n  filter(!EnrollmentStatus %in% c(\"A\", \"W\", \"D\")) %&gt;%\n  distinct(PersonID) %&gt;%\n  mutate(attended.ps = \"Yes\")\n\nkable(head(nsc.enrollment.confirm))\n\n\n\n\nPersonID\nattended.ps\n\n\n\n\n10025234\nYes\n\n\n11364693\nYes\n\n\n3090532\nYes\n\n\n11127041\nYes\n\n\n4465956\nYes\n\n\n9191392\nYes\n\n\n\n\nkable(names(nsc.enrollment.confirm))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nattended.ps\n\n\n\n\n\n\nThere are 388,959 rows and 2 columns in the dataset. The columns provide the unique PersonID along with a newly created column confirming that they attended post-secondary education.\nNext we will extract the first month and year each PersonID attended a post-secondary institution which will help us figure out how long after high school graduation did they wait until they attended a post-secondary institution.\n\n\nnsc.enrollment.first.attend &lt;- nsc.enrollment.ipeds %&gt;%\n  mutate(first.year = as.integer(str_sub(EnrollmentBeginTimeID, 1,4)),\n         first.month = as.integer(str_sub(EnrollmentBeginTimeID, 5,6)),\n         first.day = as.integer(str_sub(EnrollmentBeginTimeID, 7, 8))) %&gt;%\n  group_by(PersonID) %&gt;%\n  filter(first.year == min(first.year)) %&gt;%\n  mutate(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(PersonID) %&gt;%\n  filter(first.month == min(first.month)) %&gt;%\n  ungroup() %&gt;%\n  group_by(PersonID) %&gt;%\n  filter(first.day == min(first.day)) %&gt;%\n  ungroup() %&gt;%\n  distinct(PersonID, .keep_all = TRUE) %&gt;%\n  mutate(first.month = str_pad(first.month, width = 2, side = \"left\", pad = \"0\"),\n         first.day = str_pad(first.day, width = 2, side = \"left\", pad = \"0\"),\n         first.attend.ps = paste(first.year, first.month, first.day, sep = \"\")) %&gt;%\n  select(PersonID, first.attend.ps)\n\nkable(head(nsc.enrollment.first.attend))\n\n\n\n\nPersonID\nfirst.attend.ps\n\n\n\n\n3090532\n20090824\n\n\n6790768\n20080825\n\n\n9172836\n20060906\n\n\n1597967\n20060905\n\n\n5583982\n20100823\n\n\n5456903\n20230109\n\n\n\n\nkable(names(nsc.enrollment.first.attend))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nfirst.attend.ps\n\n\n\n\n\n\nThis dataset has 397,372 rows and 2 columns. Essentially, this dataset provides each unique PersonID with the earliest begin time for post-secondary education.\nNext we will determine how many different institiutions the PersonID attended during their post-secondary career.\n\n\nnsc.enrollment.n.institutions &lt;- nsc.enrollment.ipeds %&gt;%\n  group_by(PersonID) %&gt;%\n  distinct(OPEID.6, .keep_all = TRUE) %&gt;%\n  ungroup() %&gt;%\n  group_by(PersonID) %&gt;%\n  summarize(n.institutions = n()) %&gt;%\n  ungroup()\n\nkable(head(nsc.enrollment.n.institutions))\n\n\n\n\nPersonID\nn.institutions\n\n\n\n\n14\n1\n\n\n98\n1\n\n\n141\n1\n\n\n198\n2\n\n\n208\n1\n\n\n227\n2\n\n\n\n\nkable(names(nsc.enrollment.n.institutions))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nn.institutions\n\n\n\n\n\n\nAs expected, we have 397,372 rows and 2 columns. Each PersonID in the dataset has the number of unique post-secondary institutions they attended.\nNext, we will create a dataset indicating the type of college the PersonID attended first. I will use the IPEDS sector data. Here are the definitions of the institution sector;\n\n0 - Administrative Unit\n\n1 - Public, 4-year or above\n\n2 - Private not-for-profit, 4-year or above\n\n3 - Private for-profit, 4-year or above\n\n4 - Public, 2-year\n\n5 - Private not-for-profit, 2-year\n\n6 - Private for-profit, 2-year\n\n7 - Public, less-than 2-year\n\n8 - Private not-for-profit, less-than 2-year\n\n9 - Private for-profit, less-than 2-year\n\n99 - Sector unknown (not active)\n\n\n\nnsc.enrollment.first.institution &lt;- nsc.enrollment.ipeds %&gt;%\n  mutate(EnrollmentBeginTimeID = ymd(EnrollmentBeginTimeID)) %&gt;%\n  group_by(PersonID) %&gt;%\n  filter(EnrollmentBeginTimeID == min(EnrollmentBeginTimeID)) %&gt;%\n  ungroup() %&gt;%\n  distinct(PersonID, .keep_all = TRUE) %&gt;%\n  select(PersonID, InstitutionSector) %&gt;%\n  rename(first.InstitutionSector = InstitutionSector)\n\nkable(head(nsc.enrollment.first.institution))\n\n\n\n\nPersonID\nfirst.InstitutionSector\n\n\n\n\n3090532\n2\n\n\n6790768\n4\n\n\n9172836\n2\n\n\n1597967\n1\n\n\n5583982\n4\n\n\n5456903\n4\n\n\n\n\nkable(names(nsc.enrollment.first.institution))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nfirst.InstitutionSector\n\n\n\n\n\n\nAs expected, we have 397,372 rows and 2 columns. This dataset now provides the sector of the first post-secondary institution they attended immediately after college.\nNext we will determine thy type(s) of college(s) they attended during their post-secondary career. To do this we will first create a dataset with columns for each institution sector and a confirmation indicator on whether the PersonID attended that particular sector at some point in their career. I will then create a new category indicating that attended more than one type of institution sector. Once completed, I will be left with a dataset that has a column for each unique PersonID and what sector they attended, as well as a newly created code for “attended more than 1 type of sector”.\n\n\ngrad.list &lt;- read_csv(\"Data/SLEDS/Masters/Master-8.csv\") %&gt;%\n  select(PersonID)\n\nnsc.enrollment.institution.types &lt;- nsc.enrollment.ipeds %&gt;%\n  distinct(PersonID, InstitutionSector) %&gt;%\n  mutate(attended = 1) %&gt;%\n  complete(PersonID, InstitutionSector, fill = list(attended = 0)) %&gt;%\n  mutate(label = paste(\"ps.sector.\", InstitutionSector, sep = \"\")) %&gt;%\n  select(PersonID, label, attended) %&gt;%\n  spread(label, attended) %&gt;%\n  right_join(grad.list, by = \"PersonID\") %&gt;%\n  gather(key = \"key\", value = \"value\", 2:10) %&gt;%\n  mutate(value = ifelse(is.na(value), 0, value)) %&gt;%\n  spread(key, value)\n\nkable(head(nsc.enrollment.institution.types))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nps.sector.1\nps.sector.2\nps.sector.3\nps.sector.4\nps.sector.5\nps.sector.6\nps.sector.7\nps.sector.8\nps.sector.9\n\n\n\n\n55\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n181\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n280\n1\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n301\n1\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n304\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n412\n1\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n\n\nkable(names(nsc.enrollment.institution.types))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nps.sector.1\n\n\nps.sector.2\n\n\nps.sector.3\n\n\nps.sector.4\n\n\nps.sector.5\n\n\nps.sector.6\n\n\nps.sector.7\n\n\nps.sector.8\n\n\nps.sector.9\n\n\n\n\n\n\nAs expected, we have 122,938 rows and 10 columns. This dataset provides each unique PersonID with the institution sector they attended using the codes listed above. For PersonID’s that attended multiple sectors, they were coded as “10”.\nNext we will determine whether they attended a post-secondary institution inside or outside of the planning region, outside their EDR, or outside of Minnesota. Since many of the PersonID in the dataset have attended multiple institutions, we will categorize it in the following way in order to capture the combinations of attendance;\n\nAttended inside region only (planning region, EDR, RUCA, State)\nAttended inside and outside region (planning region, EDR, RUCA, state)\nAttended outside region only (planning region, EDR, RUCA, state)\n\nIn order to do this we will need to combine our planning region and EDR joining documents with the nsc.enrollment.ipeds dataset. I need to remember that the way I arranged the regions are going to be different than the official planning region. We will also need to join the master dataset with it to determine the location of the PersonID’s high school graduation location. Lastly, we will need to join up the RUCA categories for counties outside of Minnesota. Then we can start the categorization process.\n\n\ndem.desc.county &lt;- read_csv(\"Data/Join docs/Master-ruca-county.csv\")\n\ngrad.location &lt;- read_csv(\"Data/SLEDS/Masters/Master-8.csv\") %&gt;%\n  select(PersonID, edr, Dem_Desc) %&gt;%\n  rename(grad.edr = 2,\n         grad.ruca = 3) %&gt;%\n  mutate(grad.pr = \"Southern\")\n\nnsc.enrollment.location.join &lt;- nsc.enrollment.ipeds %&gt;%\n  select(PersonID, InstitutionName, CountyCode) %&gt;%\n  left_join(dem.desc.county, by = c(\"CountyCode\" = \"State-County FIPS Code\")) %&gt;%\n  left_join(grad.location, by = \"PersonID\") %&gt;%\n  drop_na(grad.ruca) %&gt;%\n  mutate(countyfp = str_sub(CountyCode, 3, 5),\n         statefp = str_sub(CountyCode, 1, 2)) %&gt;%\n  left_join(counties.regions.1[,c(1,5,10,9)], by = c(\"countyfp\", \"statefp\")) %&gt;%\n  rename(ps.Dem_Desc = 4,\n         ps.countyfp = 8,\n         ps.statefp = 9,\n         ps.edr = 10,\n         ps.pr = 11) \n\nkable(head(nsc.enrollment.location.join))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nInstitutionName\nCountyCode\nps.Dem_Desc\ngrad.edr\ngrad.ruca\ngrad.pr\nps.countyfp\nps.statefp\nps.edr\nps.pr\n\n\n\n\n10025234\nHamline University\n27123\nUrban/town/rural mix\nEDR 10 - Southeast\nEntirely urban\nSouthern\n123\n27\nEDR 11 - 7 County Twin Cities\nSeven County Mpls-St Paul\n\n\n3090532\nCrown College\n27019\nEntirely urban\nEDR 10 - Southeast\nEntirely urban\nSouthern\n019\n27\nEDR 11 - 7 County Twin Cities\nSeven County Mpls-St Paul\n\n\n5943119\nUniversity of Minnesota-Twin Cities\n27053\nEntirely urban\nEDR 10 - Southeast\nUrban/town/rural mix\nSouthern\n053\n27\nEDR 11 - 7 County Twin Cities\nSeven County Mpls-St Paul\n\n\n7693352\nAzusa Pacific University\n06037\nUrban/town/rural mix\nEDR 10 - Southeast\nTown/rural mix\nSouthern\n037\n06\nNA\nNA\n\n\n289664\nNorthwestern College\n19167\nTown/rural mix\nEDR 9 - South Central\nUrban/town/rural mix\nSouthern\n167\n19\nNA\nNA\n\n\n9116706\nSouthwest Minnesota State University\n27083\nTown/rural mix\nEDR 10 - Southeast\nUrban/town/rural mix\nSouthern\n083\n27\nEDR 8 - Southwest\nSouthwest\n\n\n\n\nkable(names(nsc.enrollment.location.join))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nInstitutionName\n\n\nCountyCode\n\n\nps.Dem_Desc\n\n\ngrad.edr\n\n\ngrad.ruca\n\n\ngrad.pr\n\n\nps.countyfp\n\n\nps.statefp\n\n\nps.edr\n\n\nps.pr\n\n\n\n\n\n\nThis joined dataset gives us 694,684 rows and 11 columns. The columns beginning with “ps” are the ruca category and regions of the post-secondary institution attended. The columns beginning with “grad” are the ruca category and regions of the high school from which the PersonID graduated.\nOne thing that’s important is to realize that joining the nsc.enrollment dataset with the Southern graduates dataset means we will have some NAs. Some of the students listed in the nsc.enrollment dataset aren’t in the Southern graduates dataset since they may have graduated before 2008 or didn’t actually meet the criteria in the Southern graduates dataset. Therefore, as we move forward, I will need to make sure to remove those NAs.\nFrom here we can start creating new columns beginning with the RUCA category. to create this column we will gather each PersonID to examine whether or they attended a post-secondary institution in the same RUCA category, or if they attended multiple post-secondary institutions with one institution in the same category and another not the same.\n\n\nnsc.enrollment.same.ruca &lt;- nsc.enrollment.location.join %&gt;% \n  mutate(ps.in.same.ruca = ifelse(ps.Dem_Desc == grad.ruca, \"In same RUCA\", \"Outside RUCA\")) %&gt;%\n  select(PersonID, ps.Dem_Desc, grad.ruca, ps.in.same.ruca) %&gt;%\n  select(PersonID, ps.in.same.ruca) %&gt;%\n  distinct(PersonID, ps.in.same.ruca) %&gt;%\n  mutate(code = ifelse(ps.in.same.ruca == \"In same RUCA\", 1, 2)) %&gt;%\n  group_by(PersonID) %&gt;%\n  summarize(code = sum(code)) %&gt;%\n  ungroup() %&gt;%\n  mutate(ps.in.same.ruca = ifelse(code == 1, \"In same RUCA\",\n                                  ifelse(code == 2, \"Outside RUCA\", \"Inside and outside same RUCA\"))) %&gt;%\n  select(PersonID, ps.in.same.ruca)\n\nkable(head(nsc.enrollment.same.ruca))\n\n\n\n\nPersonID\nps.in.same.ruca\n\n\n\n\n280\nIn same RUCA\n\n\n301\nOutside RUCA\n\n\n412\nOutside RUCA\n\n\n513\nOutside RUCA\n\n\n687\nOutside RUCA\n\n\n710\nIn same RUCA\n\n\n\n\nkable(names(nsc.enrollment.same.ruca))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nps.in.same.ruca\n\n\n\n\n\n\nSo there are fewer observations in this dataset than previous subsets. Why? This is due to dropping a PersonID that wasn’t in the Southern graduate dataset. I did not do that for the previous subsets. However, those previous subsets will be filtered down once we join it with the master dataset.\nThis dataset provides the PersonID and whether they attended a post secondary institution in a location with the same, outside, or both outside and inside (if attended multiple post-secondary institutions) RUCA categories of their high school from which they graduated. There are 90,596 rows and 2 columns.\nUp next we will create a dataset indicating whether a PersonID that graduated from a Southern MN high school attended a post-secondary institution in their high school’s EDR.\n\n\nnsc.enrollment.same.edr &lt;- nsc.enrollment.location.join %&gt;%\n  mutate(ps.in.same.edr = ifelse(ps.edr == grad.edr, \"In same EDR\", \"Outside EDR\"),\n         ps.in.same.edr = ifelse(is.na(ps.in.same.edr), \"Outside EDR\", ps.in.same.edr)) %&gt;%\n  select(PersonID, ps.edr, grad.edr, ps.in.same.edr) %&gt;%\n  select(PersonID, ps.in.same.edr) %&gt;%\n  distinct(PersonID, ps.in.same.edr) %&gt;%\n  mutate(code = ifelse(ps.in.same.edr == \"In same EDR\", 1, 2)) %&gt;%\n  group_by(PersonID) %&gt;%\n  summarize(code = sum(code)) %&gt;%\n  ungroup() %&gt;%\n  mutate(ps.in.same.edr = ifelse(code == 1, \"In same EDR\",\n                                  ifelse(code == 2, \"Outside EDR\", \"Inside and outside same EDR\"))) %&gt;%\n  select(PersonID, ps.in.same.edr)\n\nkable(head(nsc.enrollment.same.edr))\n\n\n\n\nPersonID\nps.in.same.edr\n\n\n\n\n280\nOutside EDR\n\n\n301\nOutside EDR\n\n\n412\nOutside EDR\n\n\n513\nIn same EDR\n\n\n687\nOutside EDR\n\n\n710\nOutside EDR\n\n\n\n\nkable(names(nsc.enrollment.same.edr))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nps.in.same.edr\n\n\n\n\n\n\nAs expected there are 90,596 rows and 2 columns.\nNext we will determine which Southern MN graduates attended a post-secondary institution in the same project region (Southern project region).\n\n\nnsc.enrollment.same.pr &lt;- nsc.enrollment.location.join %&gt;%\n  mutate(ps.in.same.pr = ifelse(ps.pr == grad.pr, \"In same PR\", \"Outside PR\"),\n         ps.in.same.pr = ifelse(is.na(ps.in.same.pr), \"Outside PR\", ps.in.same.pr)) %&gt;%\n  select(PersonID, ps.pr, grad.pr, ps.in.same.pr) %&gt;%\n  select(PersonID, ps.in.same.pr) %&gt;%\n  distinct(PersonID, ps.in.same.pr) %&gt;%\n  mutate(code = ifelse(ps.in.same.pr == \"In same PR\", 1, 2)) %&gt;%\n  group_by(PersonID) %&gt;%\n  summarize(code = sum(code)) %&gt;%\n  ungroup() %&gt;%\n  mutate(ps.in.same.pr = ifelse(code == 1, \"In same PR\",\n                                  ifelse(code == 2, \"Outside PR\", \"Inside and outside same PR\"))) %&gt;%\n  select(PersonID, ps.in.same.pr)\n\nkable(head(nsc.enrollment.same.pr))\n\n\n\n\nPersonID\nps.in.same.pr\n\n\n\n\n280\nOutside PR\n\n\n301\nOutside PR\n\n\n412\nIn same PR\n\n\n513\nIn same PR\n\n\n687\nOutside PR\n\n\n710\nOutside PR\n\n\n\n\nkable(names(nsc.enrollment.same.pr))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nps.in.same.pr\n\n\n\n\n\n\nAs expected, there are 90,596 rows and 2 columns. This dataset provides whether the post-secondary institution(s) attended were in the same planning region as the high school from which they graduates, outside of the planning region, or both (attended multiple institutions).\nNext we want to see how many of the students leave the state to attend post-secondary education.\n\n\nnsc.enrollment.in.MN &lt;- nsc.enrollment.location.join %&gt;%\n  mutate(ps.in.MN = ifelse(ps.statefp == \"27\", \"In MN\", \"Outside MN\")) %&gt;%\n  select(PersonID, ps.in.MN) %&gt;%\n  distinct(PersonID, ps.in.MN) %&gt;%\n  mutate(code = ifelse(ps.in.MN == \"In MN\", 1, 2)) %&gt;%\n  group_by(PersonID) %&gt;%\n  summarize(code = sum(code)) %&gt;%\n  ungroup() %&gt;%\n  mutate(ps.in.MN = ifelse(code == 1, \"In MN\",\n                                  ifelse(code == 2, \"Outside MN\", \"Inside and outside MN\"))) %&gt;%\n  select(PersonID, ps.in.MN)\n\nkable(head(nsc.enrollment.in.MN))\n\n\n\n\nPersonID\nps.in.MN\n\n\n\n\n280\nIn MN\n\n\n301\nOutside MN\n\n\n412\nIn MN\n\n\n513\nIn MN\n\n\n687\nOutside MN\n\n\n710\nOutside MN\n\n\n\n\nkable(names(nsc.enrollment.in.MN))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nps.in.MN\n\n\n\n\n\n\nAs expected we have 90,596 rows and 2 columns. This dataset provides each distinct PersonID with whether they attended post secondary institutions inside MN, outside MN, or both.\nOkay, now it’s time to join all of these with the master dataset. I will also create a new column that confirms whether they attended a college immediately (within the first year) after graduating high school.\n\n\nmaster &lt;- read_csv(\"Data/SLEDS/Masters/Master-8.csv\") %&gt;%\n  mutate(PersonID = as.numeric(PersonID)) \n\nmaster.9 &lt;- master %&gt;%\n  left_join(nsc.enrollment.confirm, by = \"PersonID\") %&gt;%\n  mutate(attended.ps = ifelse(is.na(attended.ps), \"No\", attended.ps)) %&gt;%\n  left_join(nsc.enrollment.first.attend, by = \"PersonID\") %&gt;%\n  mutate(attended.ps.first.year = as.integer(str_sub(first.attend.ps, 1, 4)),\n         attended.ps.years.hsgrad = attended.ps.first.year - grad.year,\n         attended.ps.within.first.year.hsgrad = ifelse(attended.ps.years.hsgrad &lt; 2, \"Yes\", \"No\")) %&gt;%\n  left_join(nsc.enrollment.n.institutions, by = \"PersonID\") %&gt;%\n  left_join(nsc.enrollment.first.institution, by = \"PersonID\") %&gt;%\n  left_join(nsc.enrollment.institution.types, by = \"PersonID\") %&gt;%\n  left_join(nsc.enrollment.same.ruca, by = \"PersonID\") %&gt;%\n  left_join(nsc.enrollment.same.edr, by = \"PersonID\") %&gt;%\n  left_join(nsc.enrollment.same.pr, by = \"PersonID\") %&gt;%\n  left_join(nsc.enrollment.in.MN, by = \"PersonID\") %&gt;%\n  mutate(n.institutions = ifelse(is.na(n.institutions), 0, n.institutions),\n         attended.ps.years.hsgrad = ifelse(attended.ps.years.hsgrad == -14, -1, attended.ps.years.hsgrad),\n         Dem_Desc = fct_relevel(Dem_Desc, \"Town/rural mix\", \"Urban/town/rural mix\", \"Entirely urban\"))\n\nnscenrollment.master &lt;- read_csv(\"Data/SLEDS/Masters/Master-1.csv\") %&gt;%\n  select(PersonID, grad.year) %&gt;%\n  left_join(nsc.enrollment.confirm, by = \"PersonID\") %&gt;%\n  mutate(attended.ps = ifelse(is.na(attended.ps), \"No\", attended.ps)) %&gt;%\n  left_join(nsc.enrollment.first.attend, by = \"PersonID\") %&gt;%\n  mutate(attended.ps.first.year = as.integer(str_sub(first.attend.ps, 1, 4)),\n         attended.ps.years.hsgrad = attended.ps.first.year - grad.year,\n         attended.ps.within.first.year.hsgrad = ifelse(attended.ps.years.hsgrad &lt; 2, \"Yes\", \"No\")) %&gt;%\n  left_join(nsc.enrollment.n.institutions, by = \"PersonID\") %&gt;%\n  left_join(nsc.enrollment.first.institution, by = \"PersonID\") %&gt;%\n  left_join(nsc.enrollment.institution.types, by = \"PersonID\") %&gt;%\n  left_join(nsc.enrollment.same.ruca, by = \"PersonID\") %&gt;%\n  left_join(nsc.enrollment.same.edr, by = \"PersonID\") %&gt;%\n  left_join(nsc.enrollment.same.pr, by = \"PersonID\") %&gt;%\n  left_join(nsc.enrollment.in.MN, by = \"PersonID\") %&gt;%\n  mutate(n.institutions = ifelse(is.na(n.institutions), 0, n.institutions)) %&gt;%\n  select(-grad.year) \n\nwrite_csv(nscenrollment.master, \"Data/SLEDS/Masters/nscenrollment_master.csv\")\n\nkable(head(master.9))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nK12OrganizationID\nOrganizationName\ncounty.name\ncountyfp\nDem_Desc\nedr\ngrad.year\ngrad.year.covid\nGender\nLimitedEnglishProficiencyIndicator\nHomelessIndicator\neconomic.status\npseo.participant\nSpecialEdStatus\nnon.english.home\nRaceEthnicity\nn.years.attended\nACTCompositeScore\nap.exam\ntotal.cte.courses.taken\nACTE-SPED\nAgriculture, Food, and Natural Resources\nArchitecture & Construction\nArts, A/V Technology & Communication\nBusiness, Management & Administrative\nDiversified\nEducation & Training\nFinance\nGovernment & Public Administration\nHealth Science\nHospitality & Tourism\nHuman Services\nInformation Technology\nLaw, Public Safety & Security\nManufacturing\nMarketing\nProgram Area (Diversified)\nScience, Technology, Engineering, & Mathematics\nSTEM\nTransportation, Distribution & Logistics\nWork Experience-Handicapped\nWork Experience-Handicapped (16-20+ on IEP)\nWork Experience/Career Exploration (age 14-15 on I\nWork-Experience-Disadvantaged\nYouth Apprenticeship\ncte.achievement\nenglish.learner\nMCA.M\nMCA.R\nMCA.S\nsat.taken\nattended.ps\nfirst.attend.ps\nattended.ps.first.year\nattended.ps.years.hsgrad\nattended.ps.within.first.year.hsgrad\nn.institutions\nfirst.InstitutionSector\nps.sector.1\nps.sector.2\nps.sector.3\nps.sector.4\nps.sector.5\nps.sector.6\nps.sector.7\nps.sector.8\nps.sector.9\nps.in.same.ruca\nps.in.same.edr\nps.in.same.pr\nps.in.MN\n\n\n\n\n7699638\n29705\nFILLMORE CENTRAL SENIOR HIGH\nFillmore\n045\nUrban/town/rural mix\nEDR 10 - Southeast\n2015\nPre-covid grad\nM\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n0\n2\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\nCTE Participant\n0\n3\n4\n3\n0\nYes\n20150824\n2015\n0\nYes\n3\n1\n1\n0\n0\n1\n0\n0\n0\n0\n0\nInside and outside same RUCA\nInside and outside same EDR\nInside and outside same PR\nInside and outside MN\n\n\n2225025\n132298\nMAYO SENIOR HIGH\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2017\nPre-covid grad\nM\nN\nN\n0\n0\n0\n0\nWhite\n3\n29\n0\n1\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nNo CTE\n0\n4\n4\n4\n1\nYes\n20170905\n2017\n0\nYes\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\nIn same RUCA\nOutside EDR\nOutside PR\nIn MN\n\n\n10400093\n62\nCannon Falls Secondary\nGoodhue\n049\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n20\n1\n2\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\nCTE Participant\n0\n4\n4\n3\n0\nYes\n20140825\n2014\n0\nYes\n2\n4\n0\n1\n0\n1\n0\n0\n0\n0\n0\nIn same RUCA\nOutside EDR\nOutside PR\nIn MN\n\n\n8786746\n128661\nLINCOLN SECONDARY\nWabasha\n157\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n24\n1\n2\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nCTE Participant\n0\n4\n4\n3\n0\nYes\n20140902\n2014\n0\nYes\n1\n2\n0\n1\n0\n0\n0\n0\n0\n0\n0\nIn same RUCA\nOutside EDR\nIn same PR\nIn MN\n\n\n11122574\n109999\nAUSTIN SENIOR HIGH\nMower\n099\nUrban/town/rural mix\nEDR 10 - Southeast\n2011\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nNo CTE\n0\n3\n4\n3\n0\nYes\n20110822\n2011\n0\nYes\n2\n4\n1\n0\n0\n1\n0\n0\n0\n0\n0\nIn same RUCA\nInside and outside same EDR\nInside and outside same PR\nIn MN\n\n\n10181573\n155484\nCHATFIELD SECONDARY\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2010\nPre-covid grad\nM\nN\nN\n0\nNA\n0\n0\nWhite\n3\n33\n1\n1\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nCTE Participant\n0\n4\n4\n4\n0\nYes\n20120827\n2012\n2\nNo\n2\n4\n1\n0\n0\n1\n0\n0\n0\n0\n0\nIn same RUCA\nOutside EDR\nOutside PR\nIn MN\n\n\n\n\nkable(names(master.9))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nK12OrganizationID\n\n\nOrganizationName\n\n\ncounty.name\n\n\ncountyfp\n\n\nDem_Desc\n\n\nedr\n\n\ngrad.year\n\n\ngrad.year.covid\n\n\nGender\n\n\nLimitedEnglishProficiencyIndicator\n\n\nHomelessIndicator\n\n\neconomic.status\n\n\npseo.participant\n\n\nSpecialEdStatus\n\n\nnon.english.home\n\n\nRaceEthnicity\n\n\nn.years.attended\n\n\nACTCompositeScore\n\n\nap.exam\n\n\ntotal.cte.courses.taken\n\n\nACTE-SPED\n\n\nAgriculture, Food, and Natural Resources\n\n\nArchitecture & Construction\n\n\nArts, A/V Technology & Communication\n\n\nBusiness, Management & Administrative\n\n\nDiversified\n\n\nEducation & Training\n\n\nFinance\n\n\nGovernment & Public Administration\n\n\nHealth Science\n\n\nHospitality & Tourism\n\n\nHuman Services\n\n\nInformation Technology\n\n\nLaw, Public Safety & Security\n\n\nManufacturing\n\n\nMarketing\n\n\nProgram Area (Diversified)\n\n\nScience, Technology, Engineering, & Mathematics\n\n\nSTEM\n\n\nTransportation, Distribution & Logistics\n\n\nWork Experience-Handicapped\n\n\nWork Experience-Handicapped (16-20+ on IEP)\n\n\nWork Experience/Career Exploration (age 14-15 on I\n\n\nWork-Experience-Disadvantaged\n\n\nYouth Apprenticeship\n\n\ncte.achievement\n\n\nenglish.learner\n\n\nMCA.M\n\n\nMCA.R\n\n\nMCA.S\n\n\nsat.taken\n\n\nattended.ps\n\n\nfirst.attend.ps\n\n\nattended.ps.first.year\n\n\nattended.ps.years.hsgrad\n\n\nattended.ps.within.first.year.hsgrad\n\n\nn.institutions\n\n\nfirst.InstitutionSector\n\n\nps.sector.1\n\n\nps.sector.2\n\n\nps.sector.3\n\n\nps.sector.4\n\n\nps.sector.5\n\n\nps.sector.6\n\n\nps.sector.7\n\n\nps.sector.8\n\n\nps.sector.9\n\n\nps.in.same.ruca\n\n\nps.in.same.edr\n\n\nps.in.same.pr\n\n\nps.in.MN\n\n\n\n\n\n\nAs expected, we have the same number of rows as the original master dataset - 122,938 rows. Here are the explanations of all the new columns added to the master dataset.\n\nattended.ps - this is a confirmation that the PersonID attended a post-secondary institution at some point after graduating high school.\nattended.ps.years.hsgrad - the number of years after graduation that a PersonID attended a post-secondary education. In some cases, the value is negative indicating that the PersonID attended a post-secondary institution before graduating high school.\nattended.ps.within.first.year.hsgrad - did the PersonID attend a post-secondary education institution within 1 year or less from graduating high school.\nn.institutions - how many post-secondary institutions the PersonID attended\nfirst.InstitutionSector - the sector of the first post-secondary institution attended.\nInstitutionSector - The sector of the post-secondary institution attended (could be multiple)\nps.in.same.ruca - did the PersonID attend a post-secondary institution in the same RUCA category as their high school\nps.in.same.edr - did the PersonID attend a post-secondary institution in the same economic development region as high school\nps.in.same.pr - did the PersonID attend a post-secondary institution in the same planning region as high school\nps.in.MN = did the PersonID attend a post-secondary institution in Minnesota.\n\n\n\n\nSummary of students attending post-secondary\nLets summarize the percentage of students that attended a post-secondary institution and compare across RUCA categories.\nBelow is the percentage of students that attended a post-secondary institution from the entire dataset. 72% of the PersonIDs in the dataset attended a post-secondary institution at some point between 2007 and 2024.\n\n\nattending.ps.pct.total &lt;- master.9 %&gt;%\n  group_by(attended.ps) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  mutate(pct = n / sum(n)) \n\ndatatable(attending.ps.pct.total, class = \"cell-border stripe\", filter = \"top\", rownames = FALSE,\n          options = list(columnDefs = list(list(className = \"dt-center\", targets = 1:2)))) %&gt;%\n  formatCurrency(2, \"\", digits = 0) %&gt;%\n  formatPercentage(3)\n\n\n\n\n\n\nNow lets check to see if this percentage is statistically significantly different by RUCA group.\nThe crosstabs do indicate that there is a statistically significant difference in the percentage of graduates that attend a post-secondary institution by high school RUCA category. Entirely urban districts have the highest percentage of graduates attend a post-secondary institution - 75% compared to 70% for the other RUCA categories.\n\n\nChart - RUCACross-tabs - RUCA\n\n\n\nattending.ps.pct.ruca &lt;- master.9 %&gt;%\n  group_by(Dem_Desc, attended.ps) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(Dem_Desc) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = as.character(seq(n())))\n\nattending.ps.pct.ruca.plot &lt;- ggplot(attending.ps.pct.ruca, aes(Dem_Desc, pct, fill = attended.ps, group = attended.ps)) +\n    geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(Dem_Desc, \"\\nAttended a post-secondary intitution: \", attended.ps, \"\\nNumber: \", comma(n, accuracy = 1), \"\\nPercent of students: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(aes(label = percent(pct, accuracy = .1),), position = position_dodge(width = .9), show.legend = FALSE, color = \"white\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Attended a post-secondary institution\")+\n    scale_y_continuous(labels=scales::percent)+\n    scale_x_discrete(guide = guide_axis(n.dodge = 1)) +\n    theme_bar+\n    scale_fill_manual(values = brewer.pal(n = 5, \"RdYlBu\"),\n                       guide = guide_legend(ncol = 3)) +\n    theme(legend.position = \"bottom\",\n          text = element_text(size = 16))\n\n\ngirafe(ggobj = attending.ps.pct.ruca.plot) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nCrossTable(master.9$Dem_Desc, master.9$attended.ps, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                     | master.9$attended.ps \n   master.9$Dem_Desc |        No |       Yes | Row Total | \n---------------------|-----------|-----------|-----------|\n      Town/rural mix |      6322 |     15801 |     22123 | \n                     |  6129.722 | 15993.278 |           | \n                     |     0.286 |     0.714 |     0.180 | \n---------------------|-----------|-----------|-----------|\nUrban/town/rural mix |     17175 |     41824 |     58999 | \n                     | 16347.126 | 42651.874 |           | \n                     |     0.291 |     0.709 |     0.480 | \n---------------------|-----------|-----------|-----------|\n      Entirely urban |     10566 |     31250 |     41816 | \n                     | 11586.152 | 30229.848 |           | \n                     |     0.253 |     0.747 |     0.340 | \n---------------------|-----------|-----------|-----------|\n        Column Total |     34063 |     88875 |    122938 | \n---------------------|-----------|-----------|-----------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  190.5888     d.f. =  2     p =  4.113063e-42 \n\n\n \n\n\n\n\n\n\n\n\nSummary of years between graduation and attending post-secondary\nNow lets take a look at the number of years between high school graduation and attending post-secondary. We will begin with the total number of students before diving into differences across RUCA categories and regions.\nA huge majority of students that attended a post secondary institution waited less than 1 year after graduating high school (87%)\n\n\nSummary StatsDistribution\n\n\n\nyears.between.grad.ps.total &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\") %&gt;%\n  select(PersonID, first.attend.ps, attended.ps.first.year, attended.ps.within.first.year.hsgrad, attended.ps.years.hsgrad, grad.year) %&gt;%\n  summarize(`Number attended post-secondary` = comma(n()),\n            `Mean years` = mean(attended.ps.years.hsgrad),\n            `Median years` = median(attended.ps.years.hsgrad),\n            `Max years` = max(attended.ps.years.hsgrad),\n            `Min years` = min(attended.ps.years.hsgrad),\n            `Standard deviation` = sd(attended.ps.years.hsgrad)) \n\ndatatable(years.between.grad.ps.total, class = \"cell-border stripe\", filter = \"top\", rownames = FALSE,\n          options = list(columnDefs = list(list(className = \"dt-center\", targets = 0:5)))) %&gt;%\n  formatCurrency(2, \"\", digits = 3) %&gt;%\n  formatCurrency(6, \"\", digits = 4)\n\n\n\n\n\n\n\n\nyears.between.grad.ps.dist.total &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\") %&gt;%\n  mutate(attended.ps.years.hsgrad.bins = cut(attended.ps.years.hsgrad,\n                                             breaks = c(-1.1, .1, 1, 2, 3, 100),\n                                             labels = c(\"Less than one year\", \"1 year\", \"2 years\", \"3 years\", \"4 years or more\")),\n         data_id = as.character(seq(n()))) %&gt;%\n  group_by(attended.ps.years.hsgrad.bins) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  mutate(pct = n / sum(n),\n         data_id = as.character(seq(n())))\n  \n\nyears.between.grad.ps.dist.total.plot &lt;- ggplot(years.between.grad.ps.dist.total, aes(attended.ps.years.hsgrad.bins, pct)) +\n    geom_col_interactive(aes(data_id = data_id, tooltip = paste(\"\\nNumber of years between high school graduation and attending post secondary: \", attended.ps.years.hsgrad.bins, \"\\nNumber of students: \", comma(n, accuracy = 1), \"\\nPercent of students: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color =  \"black\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Percent of students and the number of years between high school and attending post secondary\")+\n    scale_y_continuous(labels=scales::percent)+\n    scale_x_discrete(guide = guide_axis(n.dodge = 1)) +\n    theme_bar+\n  theme(legend.position = \"none\",\n          text = element_text(size = 16),\n        axis.text.x = element_text(angle = 25, hjust = .9))\n\ngirafe(ggobj = years.between.grad.ps.dist.total.plot) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\n\n\n\nSummary of number of colleges attended\nNext we will summarize the number of colleges attended by producing the summary statistics and distribution.\nThe table and distribution chart below show that a large majority (60%) of individuals attended only one post secondary institutions followed by 27.4% attending two.\n\n\nSummary StatsDistribution\n\n\n\nn.colleges.total &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\") %&gt;%\n  summarize(`Number` = n(),\n            `Mean` = mean(n.institutions),\n            `Median` = median(n.institutions),\n            `Max` = max(n.institutions),\n            `Min` = min(n.institutions),\n            `Standard deviation` = sd(n.institutions))\n\ndatatable(n.colleges.total, class = \"cell-border stripe\", filter = \"top\", rownames = FALSE,\n          options = list(columnDefs = list(list(className = \"dt-center\", targets = 1:5)))) %&gt;%\n  formatCurrency(2, \"\", digits = 2) %&gt;%\n  formatCurrency(6, \"\", digits = 2)\n\n\n\n\n\n\n\n\nn.colleges.dist.total &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\") %&gt;%\n  mutate(n.institutions.bins = cut(n.institutions,\n                               breaks = c(0, 1, 2, 3, 4, 20),\n                               labels = c(\"One\", \"Two\", \"Three\", \"Four\", \"More than 4\"))) %&gt;%\n  group_by(n.institutions) %&gt;%\n  summarise(n = n()) %&gt;%\n  ungroup() %&gt;%\n  mutate(pct = n / sum(n),\n         data_id = as.character(seq(n())))\n\n\nn.colleges.dist.total.plot &lt;- ggplot(n.colleges.dist.total, aes(n.institutions, pct)) +\n  geom_col_interactive(aes(data_id = data_id, tooltip = paste(\"Number of institutions attended: \", comma(n.institutions, accuracy = 1), \"\\nNumber of students: \", comma(n, accuracy = 1), \"\\nPercent of students: \", percent(pct, accuracy = .1), sep = \"\"))) +\n  geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"black\", size = 5) +\n  labs(x=\"\", y = \"\", color=\"\", title = \"Percent of students by number of post secondary institutions attended\")+\n    scale_y_continuous(labels=scales::percent)+\n    theme_bar+\n    theme(legend.position = \"none\",\n          text = element_text(size = 16))\n\n\ngirafe(ggobj = n.colleges.dist.total.plot) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\n\nI’m not sure it’s all that important knowing whether there are differences in the percentage of students and the number of institutions they’ve attended across RUCA categories or regions. So we will skip that analysis for now.\n\n\n\nSummary of types of first college attended\nI think this will be very interesting - we want to see what they breakdown is of students attending different types of colleges. We will start by summarizing the total dataset before looking at differences across RUCA categories and regions.\nThe chart below provides the percentage of students in the entire dataset that attended each institution sector. By far, a huge majority attend either a public 4-year (44%) or public 2-year (38%).\n\n\nsectors &lt;- read_xlsx('/Users/kellyasche/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/SLEDS/NSC/IPEDS/institution-sectors.xlsx')\n\ncollege.type.summary.total &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\") %&gt;%\n  group_by(first.InstitutionSector) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  left_join(sectors, by = c(\"first.InstitutionSector\" = \"Code\")) %&gt;%\n  mutate(data_id = as.character(seq(n())))\n\ncollege.type.summary.total.plot &lt;- ggplot(college.type.summary.total, aes(x = fct_rev(fct_reorder(Sector, pct)), pct)) +\n    geom_col_interactive(aes(data_id = data_id, tooltip = paste(\"College sector: \", Sector, \"\\nNumber of students in college sector: \", comma(n, accuracy = 1), \"\\nPercent of students in college sector: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"black\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Percent of students first college sector\")+\n    scale_y_continuous(labels=scales::percent)+\n    scale_x_discrete(guide = guide_axis(n.dodge = 1)) +\n    theme_bar+\n    theme(legend.position = \"none\",\n          text = element_text(size = 18),\n          axis.text.x = element_text(angle = 45, hjust = 1))\n\n\ngirafe(ggobj = college.type.summary.total.plot, width_svg = 10, height_svg = 6) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\nNext we will check to see if those percentages are significantly different by RUCA category of the graduates high school.\nThe crosstabs indicate that there is a significant difference in the percentage of students attending different institution sectors depending on the RUCA category of their high school. The p-value was near zero.\nThe primary difference is the graduates from town/rural mix districts attend 2-year colleges at a higher percentage and attend public, 4-year colleges at a lower level.\n\n\nChart - RUCACross-tabs - RUCA\n\n\n\nfirst.college.sector.ruca &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\") %&gt;%\n  group_by(Dem_Desc, first.InstitutionSector) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(Dem_Desc) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  left_join(sectors, by = c(\"first.InstitutionSector\" = \"Code\")) %&gt;%\n  mutate(data_id = as.character(seq(n()))) %&gt;%\n  mutate(total.pct = n / sum(n))\n\nfirst.college.sector.ruca.plot &lt;- ggplot(first.college.sector.ruca, aes(fct_rev(fct_reorder(Sector, pct)), pct, fill = Dem_Desc, group = Dem_Desc)) +\n    geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(Dem_Desc, \"\\nInstitution sector: \", Sector, \"\\nNumber of graduates attending: \", comma(n, accuracy = 1), \"\\nPercent of students attending: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(position = position_dodge(width = .9), aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"black\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Percent of students and first college attended\\nby RUCA category\")+\n    scale_y_continuous(labels=scales::percent)+\n    theme_bar+\n    scale_fill_manual(values= color.ruca,\n                       guide = guide_legend(ncol = 3)) +\n    theme(legend.position = \"bottom\",\n          text = element_text(size = 16),\n          axis.text.x = element_text(angle = 45, hjust = 1))\n\n\ngirafe(ggobj = first.college.sector.ruca.plot) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nfirst.college.sector.ct.1.ruca &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\") %&gt;%\n  select(Dem_Desc, first.InstitutionSector) %&gt;%\n  left_join(sectors, by = c(\"first.InstitutionSector\" = \"Code\")) %&gt;%\n  filter(Sector %in% c(\"Public, 4-year or above\", \"Public, 2-year\", \"Private not-for-profit, 4-year or above\", \"Private for-profit, 4-year or above\")) %&gt;%\n  mutate(Sector = as_factor(Sector))\n\nCrossTable(first.college.sector.ct.1.ruca$Dem_Desc, first.college.sector.ct.1.ruca$first.InstitutionSector, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  88752 \n\n \n                                        | first.college.sector.ct.1.ruca$first.InstitutionSector \nfirst.college.sector.ct.1.ruca$Dem_Desc |         1 |         2 |         3 |         4 | Row Total | \n----------------------------------------|-----------|-----------|-----------|-----------|-----------|\n                         Town/rural mix |      6899 |      2456 |       262 |      6162 |     15779 | \n                                        |  6880.022 |  2632.678 |   195.211 |  6071.089 |           | \n                                        |     0.437 |     0.156 |     0.017 |     0.391 |     0.178 | \n----------------------------------------|-----------|-----------|-----------|-----------|-----------|\n                   Urban/town/rural mix |     17411 |      7320 |       503 |     16514 |     41748 | \n                                        | 18203.129 |  6965.526 |   516.488 | 16062.857 |           | \n                                        |     0.417 |     0.175 |     0.012 |     0.396 |     0.470 | \n----------------------------------------|-----------|-----------|-----------|-----------|-----------|\n                         Entirely urban |     14388 |      5032 |       333 |     11472 |     31225 | \n                                        | 13614.849 |  5209.796 |   386.302 | 12014.054 |           | \n                                        |     0.461 |     0.161 |     0.011 |     0.367 |     0.352 | \n----------------------------------------|-----------|-----------|-----------|-----------|-----------|\n                           Column Total |     38698 |     14808 |      1098 |     34148 |     88752 | \n----------------------------------------|-----------|-----------|-----------|-----------|-----------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  183.4382     d.f. =  6     p =  6.313396e-37 \n\n\n \n\n\n\n\n\n\nNext we will check to see if those percentages are significantly different by EDR of the graduates high school.\nThe crosstabs indicate that there is a significant difference in the percentage of students attending different institution sectors depending on the EDR of their high school. The p-value was near zero.\nThe biggest difference is that EDR 9 attends 4-year public institution at a much higher rate while attending a 2-year public at a much lower rate. EDR 10 was the opposite.\n\n\nChart - EDRCross-tabs - edr\n\n\n\nfirst.college.sector.edr &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\") %&gt;%\n  group_by(edr, first.InstitutionSector) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(edr) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  left_join(sectors, by = c(\"first.InstitutionSector\" = \"Code\")) %&gt;%\n  mutate(data_id = as.character(seq(n()))) %&gt;%\n  mutate(total.pct = n / sum(n))\n\nfirst.college.sector.edr.plot &lt;- ggplot(first.college.sector.edr, aes(fct_rev(fct_reorder(Sector, pct)), pct, fill = edr, group = edr)) +\n    geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(edr, \"\\nInstitution sector: \", Sector, \"\\nNumber of graduates attending: \", comma(n, accuracy = 1), \"\\nPercent of students attending: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(position = position_dodge(width = .9), aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"black\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Percent of students and first college attended\\nby edr category\")+\n    scale_y_continuous(labels=scales::percent)+\n    theme_bar+\n    scale_fill_manual(values= color.edr,\n                       guide = guide_legend(ncol = 3)) +\n    theme(legend.position = \"bottom\",\n          text = element_text(size = 16),\n          axis.text.x = element_text(angle = 45, hjust = 1))\n\n\ngirafe(ggobj = first.college.sector.edr.plot, height_svg = 10) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nfirst.college.sector.ct.1.edr &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\") %&gt;%\n  select(edr, first.InstitutionSector) %&gt;%\n  left_join(sectors, by = c(\"first.InstitutionSector\" = \"Code\")) %&gt;%\n  filter(Sector %in% c(\"Public, 4-year or above\", \"Public, 2-year\", \"Private not-for-profit, 4-year or above\", \"Private for-profit, 4-year or above\")) %&gt;%\n  mutate(Sector = as_factor(Sector))\n\nCrossTable(first.college.sector.ct.1.edr$edr, first.college.sector.ct.1.edr$first.InstitutionSector, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  88752 \n\n \n                                  | first.college.sector.ct.1.edr$first.InstitutionSector \nfirst.college.sector.ct.1.edr$edr |         1 |         2 |         3 |         4 | Row Total | \n----------------------------------|-----------|-----------|-----------|-----------|-----------|\n               EDR 10 - Southeast |     26359 |     10619 |       686 |     25620 |     63284 | \n                                  | 27593.341 | 10558.742 |   782.921 | 24348.995 |           | \n                                  |     0.417 |     0.168 |     0.011 |     0.405 |     0.713 | \n----------------------------------|-----------|-----------|-----------|-----------|-----------|\n            EDR 9 - South Central |     12339 |      4189 |       412 |      8528 |     25468 | \n                                  | 11104.659 |  4249.258 |   315.079 |  9799.005 |           | \n                                  |     0.484 |     0.164 |     0.016 |     0.335 |     0.287 | \n----------------------------------|-----------|-----------|-----------|-----------|-----------|\n                     Column Total |     38698 |     14808 |      1098 |     34148 |     88752 | \n----------------------------------|-----------|-----------|-----------|-----------|-----------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  466.635     d.f. =  3     p =  8.106745e-101 \n\n\n \n\n\n\n\n\n\n\n\nSummary of attending college with same RUCA category\nUp next is determining how many students attended a post-secondary institution located in a county with the same RUCA category as their high school. First we will look at the percentages of the total dataset and then we will break it up.\nThe chart below shows that 37% of students graduating from a Southern MN high school attended a post secondary institution that was located in a county with the same RUCA category as their high school.\n\n\nps.same.ruca.total &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\") %&gt;%\n  group_by(ps.in.same.ruca) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  mutate(pct = n / sum(n),\n         data_id = as.character(seq(n())))\n\nps.same.ruca.total.plot &lt;- ggplot(ps.same.ruca.total, aes(fct_rev(fct_reorder(ps.in.same.ruca, pct)), pct)) +\n    geom_col_interactive(aes(data_id = data_id, tooltip = paste(\"Location of post-secondary institution: \", ps.in.same.ruca, \"\\nNumber of students: \", comma(n, accuracy = 1), \"\\nPercent of students: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"black\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Percent of students attending post secondary in RUCA category\")+\n    scale_y_continuous(labels=scales::percent)+\n    scale_x_discrete(guide = guide_axis(n.dodge = 1)) +\n    theme_bar+\n    theme(legend.position = \"none\",\n          text = element_text(size = 18))\n\n\ngirafe(ggobj = ps.same.ruca.total.plot, width_svg = 10, height_svg = 6) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\nNext, lets check to see if the type of RUCA category they graduated from is related to whether the college they attend is in the same or different RUCA category.\nThe crosstabs indicate that there is a relationship in the location of the individuals high school graduation and the RUCA category of their post-secondary institution(s). The p-value was 0.\nA significantly higher percentage of town/rural mix graduates attended a post-secondary institution outside their RUCA category.\n\n\nChart - RUCACross-tabs - RUCA\n\n\n\nps.same.ruca.ruca &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\") %&gt;%\n  group_by(Dem_Desc, ps.in.same.ruca) %&gt;%\n  summarise(n = n()) %&gt;%\n  ungroup() %&gt;%\n  complete(ps.in.same.ruca, Dem_Desc) %&gt;%\n  mutate(n = ifelse(is.na(n), 0, n)) %&gt;%\n  group_by(Dem_Desc) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = as.character(seq(n())))\n\nps.same.ruca.ruca.plot &lt;- ggplot(ps.same.ruca.ruca, aes(ps.in.same.ruca, pct, group = Dem_Desc, fill = Dem_Desc)) +\n    geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(\"RUCA category comparison between high school and college: \", \"\\nNumber of students: \", comma(n, accuracy = 1), \"\\nPercent of students: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(position = position_dodge(width = .9), aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"black\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Percent of students attending post-secondary of same RUCA\\ncategory by RUCA category of high school\")+\n    scale_y_continuous(labels=scales::percent)+\n    theme_bar+\n    scale_fill_manual(values= color.ruca,\n                       guide = guide_legend(ncol = 3),\n                      breaks = c(\"Entirely urban\", \"Town/rural mix\", \"Urban/town/rural mix\")) +\n    theme(legend.position = \"bottom\",\n          text = element_text(size = 16),\n          axis.text.x = element_text(angle = 25, hjust = .9))\n\n\ngirafe(ggobj = ps.same.ruca.ruca.plot) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nps.same.ruca.ct.ruca &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\")\n\nCrossTable(ps.same.ruca.ct.ruca$Dem_Desc, ps.same.ruca.ct.ruca$ps.in.same.ruca, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  88868 \n\n \n                              | ps.same.ruca.ct.ruca$ps.in.same.ruca \nps.same.ruca.ct.ruca$Dem_Desc |                 In same RUCA | Inside and outside same RUCA |                 Outside RUCA |                    Row Total | \n------------------------------|------------------------------|------------------------------|------------------------------|------------------------------|\n               Town/rural mix |                         2338 |                         1986 |                        11477 |                        15801 | \n                              |                     5793.712 |                     3565.840 |                     6441.448 |                              | \n                              |                        0.148 |                        0.126 |                        0.726 |                        0.178 | \n------------------------------|------------------------------|------------------------------|------------------------------|------------------------------|\n         Urban/town/rural mix |                        18267 |                         9940 |                        13614 |                        41821 | \n                              |                    15334.398 |                     9437.820 |                    17048.782 |                              | \n                              |                        0.437 |                        0.238 |                        0.326 |                        0.471 | \n------------------------------|------------------------------|------------------------------|------------------------------|------------------------------|\n               Entirely urban |                        11980 |                         8129 |                        11137 |                        31246 | \n                              |                    11456.890 |                     7051.341 |                    12737.769 |                              | \n                              |                        0.383 |                        0.260 |                        0.356 |                        0.352 | \n------------------------------|------------------------------|------------------------------|------------------------------|------------------------------|\n                 Column Total |                        32585 |                        20055 |                        36228 |                        88868 | \n------------------------------|------------------------------|------------------------------|------------------------------|------------------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  8366.953     d.f. =  4     p =  0 \n\n\n \n\n\n\n\n\n\nNext, lets check to see if the EDR they graduated from is related to whether the college they attend is in the same or different EDR.\nThe crosstabs indicate that there is a relationship in the location of the individuals high school graduation and the EDR their post-secondary institution(s). The p-value was 0.\nThe differences are minimal.\n\n\nChart - EDRCross-tabs - EDR\n\n\n\nps.same.edr.edr &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\") %&gt;%\n  group_by(edr, ps.in.same.edr) %&gt;%\n  summarise(n = n()) %&gt;%\n  ungroup() %&gt;%\n  complete(ps.in.same.edr, edr) %&gt;%\n  mutate(n = ifelse(is.na(n), 0, n)) %&gt;%\n  group_by(edr) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = as.character(seq(n())))\n\nps.same.edr.edr.plot &lt;- ggplot(ps.same.edr.edr, aes(ps.in.same.edr, pct, group = edr, fill = edr)) +\n    geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(\"EDR comparison between high school and college: \", \"\\nNumber of students: \", comma(n, accuracy = 1), \"\\nPercent of students: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(position = position_dodge(width = .9), aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"black\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Percent of students attending post-secondary of same EDR\\nby EDR of high school\")+\n    scale_y_continuous(labels=scales::percent)+\n    theme_bar+\n    scale_fill_manual(values= color.edr,\n                       guide = guide_legend(ncol = 3)) +\n    theme(legend.position = \"bottom\",\n          text = element_text(size = 16),\n          axis.text.x = element_text(angle = 25, hjust = .9))\n\n\ngirafe(ggobj = ps.same.edr.edr.plot) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nps.same.ruca.ct.edr &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\")\n\nCrossTable(ps.same.ruca.ct.edr$edr, ps.same.ruca.ct.edr$ps.in.same.edr, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  88875 \n\n \n                        | ps.same.ruca.ct.edr$ps.in.same.edr \nps.same.ruca.ct.edr$edr |                 In same EDR | Inside and outside same EDR |                 Outside EDR |                   Row Total | \n------------------------|-----------------------------|-----------------------------|-----------------------------|-----------------------------|\n     EDR 10 - Southeast |                       17127 |                       12207 |                       34036 |                       63370 | \n                        |                   17623.812 |                   12196.274 |                   33549.914 |                             | \n                        |                       0.270 |                       0.193 |                       0.537 |                       0.713 | \n------------------------|-----------------------------|-----------------------------|-----------------------------|-----------------------------|\n  EDR 9 - South Central |                        7590 |                        4898 |                       13017 |                       25505 | \n                        |                    7093.188 |                    4908.726 |                   13503.086 |                             | \n                        |                       0.298 |                       0.192 |                       0.510 |                       0.287 | \n------------------------|-----------------------------|-----------------------------|-----------------------------|-----------------------------|\n           Column Total |                       24717 |                       17105 |                       47053 |                       88875 | \n------------------------|-----------------------------|-----------------------------|-----------------------------|-----------------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  73.37579     d.f. =  2     p =  1.165866e-16 \n\n\n \n\n\n\n\n\n\n\n\nSummary of attending college in same planning region as high school\nNow we want to see how many students attend a college that is located in the same planning region as their high school.\nThe chart below shows that nearly 45% of students graduating from Southern MN High schools leave the region to attend post secondary education.\n\n\nps.same.pr.total &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\") %&gt;%\n  group_by(ps.in.same.pr) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  mutate(pct = n / sum(n),\n         data_id = as.character(seq(n())))\n\nps.same.pr.total.plot &lt;- ggplot(ps.same.pr.total, aes(fct_rev(fct_reorder(ps.in.same.pr, pct)), pct)) +\n    geom_col_interactive(aes(data_id = data_id, tooltip = paste(\"College planning region location: \", ps.in.same.pr, \"\\nNumber of students: \", comma(n, accuracy = 1), \"\\nPercent of students: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"black\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Percent of students attending college within\\nsame planning region\")+\n    scale_y_continuous(labels=scales::percent)+\n    theme_bar+\n    theme(legend.position = \"none\",\n          text = element_text(size = 16),\n          axis.text.x = element_text(angle = 25, hjust = .9))\n\n\ngirafe(ggobj = ps.same.pr.total.plot) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nSummary of attending college in Minnesota\nNow we want to see how many students stay or leave Minnesota to attend college.\nThe chart below shows that 62% of students graduating from Southern MN high schools attend a post secondary institution in Minnesota.\n\n\nps.in.MN.total &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\") %&gt;%\n  group_by(ps.in.MN) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  mutate(pct = n / sum(n),\n         data_id = as.character(seq(n())))\n\nps.in.MN.total.plot &lt;- ggplot(ps.in.MN.total, aes(fct_rev(fct_reorder(ps.in.MN, pct)), pct)) +\n    geom_col_interactive(aes(data_id = data_id, tooltip = paste(\"College planning region location: \", ps.in.MN, \"\\nNumber of students: \", comma(n, accuracy = 1), \"\\nPercent of students: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"black\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Percent of students attending college in\\nMinnesota\")+\n    scale_y_continuous(labels=scales::percent)+\n    scale_x_discrete(guide = guide_axis(n.dodge = 1)) +\n    theme_bar+\n    theme(legend.position = \"none\",\n          text = element_text(size = 16),\n          axis.text.x = element_text(angle = 25, hjust = .9))\n\n\ngirafe(ggobj = ps.in.MN.total.plot) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\nNext, lets check to see if the RUCA category of their high school is related to whether they attend a college inside or outside Minnesota.\nThe crosstabs below indicate that there is a relationship between the RUCA category of a student’s high school and whether they attend a college inside or outside of Minnesota. The p-value was near zero.\nThe differences are minimal.\n\n\nChart - RUCACross-tabs - RUCA\n\n\n\nps.in.MN.ruca &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\") %&gt;%\n  group_by(Dem_Desc, ps.in.MN) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(Dem_Desc) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = as.character(seq(n())))\n\nps.in.MN.ruca.plot &lt;- ggplot(ps.in.MN.ruca, aes(ps.in.MN, pct, fill = Dem_Desc, group = Dem_Desc)) +\n    geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(Dem_Desc, \"\\nCollege in Minnesota or not: \", ps.in.MN, \"\\nNumber of students: \", comma(n, accuracy = 1), \"\\nPercent of students: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(position = position_dodge(width = .9), aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"black\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Percent of students attending college in\\nMinnesota\")+\n    scale_y_continuous(labels=scales::percent)+\n    theme_bar+\n    scale_fill_manual(values= color.ruca,\n                       guide = guide_legend(ncol = 3)) +\n    theme(legend.position = \"bottom\",\n          text = element_text(size = 16),\n          axis.text.x = element_text(angle = 25, hjust = .9))\n\n\ngirafe(ggobj = ps.in.MN.ruca.plot) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nps.in.MN.ct.ruca &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\")\n\nCrossTable(ps.in.MN.ct.ruca$Dem_Desc, ps.in.MN.ct.ruca$ps.in.MN, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  88875 \n\n \n                          | ps.in.MN.ct.ruca$ps.in.MN \nps.in.MN.ct.ruca$Dem_Desc |                 In MN | Inside and outside MN |            Outside MN |             Row Total | \n--------------------------|-----------------------|-----------------------|-----------------------|-----------------------|\n           Town/rural mix |                  9693 |                  2430 |                  3678 |                 15801 | \n                          |              9815.377 |              2465.934 |              3519.689 |                       | \n                          |                 0.613 |                 0.154 |                 0.233 |                 0.178 | \n--------------------------|-----------------------|-----------------------|-----------------------|-----------------------|\n     Urban/town/rural mix |                 26232 |                  6433 |                  9159 |                 41824 | \n                          |             25980.528 |              6527.132 |              9316.340 |                       | \n                          |                 0.627 |                 0.154 |                 0.219 |                 0.471 | \n--------------------------|-----------------------|-----------------------|-----------------------|-----------------------|\n           Entirely urban |                 19283 |                  5007 |                  6960 |                 31250 | \n                          |             19412.096 |              4876.934 |              6960.970 |                       | \n                          |                 0.617 |                 0.160 |                 0.223 |                 0.352 | \n--------------------------|-----------------------|-----------------------|-----------------------|-----------------------|\n             Column Total |                 55208 |                 13870 |                 19797 |                 88875 | \n--------------------------|-----------------------|-----------------------|-----------------------|-----------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  19.94633     d.f. =  4     p =  0.0005117295 \n\n\n \n\n\n\n\n\n\nNext, lets check to see if the EDR of their high school is related to whether they attend a college inside or outside Minnesota.\nThe crosstabs below indicate that there is a relationship between the EDR category of a student’s high school and whether they attend a college inside or outside of Minnesota. The p-value was near zero.\nEDR 9 has a signifcantly higher percentage of graduates attend college in Minnesota. EDR 9 had 67% of their graduates attend college in Minnesota while 60% of EDR 10 attended in Minnesota.\n\n\nChart - EDRTabset - EDR\n\n\n\nps.in.MN.edr &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\") %&gt;%\n  group_by(edr, ps.in.MN) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(edr) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = as.character(seq(n())))\n\nps.in.MN.edr.plot &lt;- ggplot(ps.in.MN.edr, aes(ps.in.MN, pct, fill = edr, group = edr)) +\n    geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(edr, \"\\nCollege in Minnesota or not: \", ps.in.MN, \"\\nNumber of students: \", comma(n, accuracy = 1), \"\\nPercent of students: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(position = position_dodge(width = .9), aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"black\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Percent of students attending college in\\nMinnesota\")+\n    scale_y_continuous(labels=scales::percent)+\n    theme_bar+\n    scale_fill_manual(values= color.edr,\n                       guide = guide_legend(ncol = 3)) +\n    theme(legend.position = \"bottom\",\n          text = element_text(size = 16),\n          axis.text.x = element_text(angle = 25, hjust = .9))\n\n\ngirafe(ggobj = ps.in.MN.edr.plot) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nps.in.MN.ct.edr &lt;- master.9 %&gt;%\n  filter(attended.ps == \"Yes\")\n\nCrossTable(ps.in.MN.ct.edr$edr, ps.in.MN.ct.edr$ps.in.MN, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  88875 \n\n \n                      | ps.in.MN.ct.edr$ps.in.MN \n  ps.in.MN.ct.edr$edr |                 In MN | Inside and outside MN |            Outside MN |             Row Total | \n----------------------|-----------------------|-----------------------|-----------------------|-----------------------|\n   EDR 10 - Southeast |                 38120 |                 10198 |                 15052 |                 63370 | \n                      |             39364.624 |              9889.642 |             14115.734 |                       | \n                      |                 0.602 |                 0.161 |                 0.238 |                 0.713 | \n----------------------|-----------------------|-----------------------|-----------------------|-----------------------|\nEDR 9 - South Central |                 17088 |                  3672 |                  4745 |                 25505 | \n                      |             15843.376 |              3980.358 |              5681.266 |                       | \n                      |                 0.670 |                 0.144 |                 0.186 |                 0.287 | \n----------------------|-----------------------|-----------------------|-----------------------|-----------------------|\n         Column Total |                 55208 |                 13870 |                 19797 |                 88875 | \n----------------------|-----------------------|-----------------------|-----------------------|-----------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  387.0265     d.f. =  2     p =  9.083746e-85 \n\n\n \n\n\n\n\n\n\n\n\nWhat states are students going to college\nThe last piece here is to provide a map of the United States to see where students are going for college.\nOutside of Minnesota, Southern MN graduates attend colleges in Wisconsin at the highest rate - 10.5%. This is followed by Iowa at 5.5%.\n\n\nus_boundary &lt;- read_sf('/Users/kellyasche/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Data Prep/R Projects/Shapefiles/US shapefiles/cb_2018_us_state_500k.shp', quiet = TRUE) %&gt;%\n  tigris::shift_geometry()\n  \nps.state &lt;- nsc.enrollment.location.join %&gt;%\n  select(PersonID, ps.statefp) %&gt;%\n  distinct(PersonID, ps.statefp) %&gt;%\n  group_by(ps.statefp) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  mutate(pct = n / sum(n),\n         pct.bins = cut(pct,\n                        breaks = c(-1, 0, .01, .05, .10, 1),\n                        labels = c(\"0\", \"0% - 1%\", \"1% - 5%\", \"5% - 10%\", \"More than 10%\"))) %&gt;% \n  right_join(us_boundary[,c(1,6,10)], by = c(\"ps.statefp\" = \"STATEFP\")) %&gt;%\n  filter(!ps.statefp %in% c(\"60\", \"66\", \"69\", \"72\", \"78\"))\n\n\nps.state.map &lt;- ggplot(ps.state) +\n  geom_sf_interactive(color = \"grey85\", aes(geometry = geometry, fill = pct.bins, data_id = NAME, tooltip = paste(NAME, \"\\nNumber of students enrolled in college from SW MN: \", comma(n, accuracy = 1), \"\\nPercent of students: \", percent(pct, accuracy = .1), sep = \"\"))) +\n  coord_sf(crs = 'ESRI:102003') + \n  theme_sf+\n  scale_fill_manual(values = brewer.pal(n = 4, \"PuBu\")) +\n  labs(title = \"Percent of students attending colleges in states\") +\n  theme(text = element_text(size = 18))\n\ngirafe(ggobj = ps.state.map, height_svg = 10, width_svg = 10) %&gt;%\n  girafe_options(opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\nwrite_csv(master.9, \"Data/SLEDS/Masters/Master-9.csv\")"
  },
  {
    "objectID": "ap.html",
    "href": "ap.html",
    "title": "AP",
    "section": "",
    "text": "Data prep\nThe next dataset to merge with the master is the enrollment in AP courses. I’m first going to load the entire AP dataset, clean it up, and then merge it with my master/Southern graduate dataset.\n\n\nap.original &lt;- read_csv('/Users/kellyasche/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/SLEDS/AP/AdvancedPlacementSATPSAT_AP.csv') %&gt;%\n  mutate(PersonID = as.integer(PersonID)) %&gt;%\n  drop_na(PersonID)\n\nkable(head(ap.original))\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nTestTimeID\nTestType\nExamSubject\nExamGrade\n\n\n\n\n3066282\n20150630\nAP\nUnitedStatesHistory\n2\n\n\n1058834\n20130630\nAP\nStatistics\n4\n\n\n10408742\n20090630\nAP\nEnglishLiteratureAndComposition\n4\n\n\n6430656\n20110630\nAP\nBiology\n5\n\n\n956925\n20100630\nAP\nStatistics\n4\n\n\n872685\n20120630\nAP\nHumanGeography\n4\n\n\n\n\nkable(names(ap.original))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nTestTimeID\n\n\nTestType\n\n\nExamSubject\n\n\nExamGrade\n\n\n\n\n\n\nThe AP dataset has 283,151 observations and 5 columns. Each observation represents an AP exam taken so this means that a PersonID can be listed multiple times if the individual took multiple AP exams. The ExamGrade is on a 1 - 5 scale with the highest scores being better. According to Meredith at OHE, colleges give credit if the score is 3 or higher.\nI’m a bit torn here. There seems to be three approaches to how I can utilize this data in the model.\n\nI could either just create a category of whether an individual took an AP exam and not care what the grade was.\nI could only use individuals who scored 3 or higher.\nI could keep all the data and change it so that each observation represents a PersonID and new columns created for each AP exam and their score.\n\nFor now, I think I’m going to just utilize option 1 - whether they took an AP exam or not.\n\n\nap.tookexam &lt;- ap.original %&gt;%\n  distinct(PersonID) %&gt;%\n  mutate(ap.exam = 1)\n\nkable(head(ap.tookexam))\n\n\n\n\nPersonID\nap.exam\n\n\n\n\n3066282\n1\n\n\n1058834\n1\n\n\n10408742\n1\n\n\n6430656\n1\n\n\n956925\n1\n\n\n872685\n1\n\n\n\n\nkable(names(ap.tookexam))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nap.exam\n\n\n\n\n\n\nThe updated AP dataset shows that 108,858 took at least one AP exam. Now it’s time to merge it with the master list. For the PersonID that didn’t take an AP exam, they will receive a value of 0 in that column.\n\n\nmaster.3 &lt;- read_csv(\"Data/SLEDS/Masters/master-2.csv\") %&gt;%\n  left_join(ap.tookexam, by = \"PersonID\") %&gt;%\n  mutate(ap.exam = ifelse(is.na(ap.exam), 0, ap.exam),\n         Dem_Desc = fct_relevel(Dem_Desc, \"Town/rural mix\", \"Urban/town/rural mix\", \"Entirely urban\"))\n\nap.master &lt;- read_csv(\"Data/SLEDS/Masters/master-2.csv\") %&gt;%\n  select(PersonID) %&gt;%\n  left_join(ap.tookexam, by = \"PersonID\") %&gt;%\n  mutate(ap.exam = ifelse(is.na(ap.exam), 0, ap.exam))\n\nwrite_csv(ap.master, \"Data/SLEDS/Masters/ap.master.csv\")\n\nkable(head(master.3))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nK12OrganizationID\nOrganizationName\ncounty.name\ncountyfp\nDem_Desc\nedr\ngrad.year\ngrad.year.covid\nGender\nLimitedEnglishProficiencyIndicator\nHomelessIndicator\neconomic.status\npseo.participant\nSpecialEdStatus\nnon.english.home\nRaceEthnicity\nn.years.attended\nACTCompositeScore\nap.exam\n\n\n\n\n7699638\n29705\nFILLMORE CENTRAL SENIOR HIGH\nFillmore\n045\nUrban/town/rural mix\nEDR 10 - Southeast\n2015\nPre-covid grad\nM\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n0\n\n\n2225025\n132298\nMAYO SENIOR HIGH\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2017\nPre-covid grad\nM\nN\nN\n0\n0\n0\n0\nWhite\n3\n29\n0\n\n\n10400093\n62\nCannon Falls Secondary\nGoodhue\n049\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n20\n1\n\n\n8786746\n128661\nLINCOLN SECONDARY\nWabasha\n157\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n24\n1\n\n\n11122574\n109999\nAUSTIN SENIOR HIGH\nMower\n099\nUrban/town/rural mix\nEDR 10 - Southeast\n2011\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n0\n\n\n10181573\n155484\nCHATFIELD SECONDARY\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2010\nPre-covid grad\nM\nN\nN\n0\nNA\n0\n0\nWhite\n3\n33\n1\n\n\n\n\nkable(names(master.3))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nK12OrganizationID\n\n\nOrganizationName\n\n\ncounty.name\n\n\ncountyfp\n\n\nDem_Desc\n\n\nedr\n\n\ngrad.year\n\n\ngrad.year.covid\n\n\nGender\n\n\nLimitedEnglishProficiencyIndicator\n\n\nHomelessIndicator\n\n\neconomic.status\n\n\npseo.participant\n\n\nSpecialEdStatus\n\n\nnon.english.home\n\n\nRaceEthnicity\n\n\nn.years.attended\n\n\nACTCompositeScore\n\n\nap.exam\n\n\n\n\n\n\nThe updated master spreadsheet continues to have 122,938 observations and now has 20 columns.\n\n\n\nSummary of AP data\nSimilar to ACT, lets check on whether the rates of students taking an AP exam differ across regions, RUCA groups or counties.\nFrom the table below we can see that out of the total observations in our dataset, 23% have taken an AP exam.\n\n\n\n\n\n\n\n\nNow lets check to see if there are any statistically significant differences by RUCA category.\nInterestingly, there was significant difference between the percentage of students who took an AP exam by their RUCA categories. The trend shows that the more urban a district is, the larger percentage of their graduates have taken the AP test - 16% for town/rural mix schools vs. 28% for entirely urban schools.\n\n\nRUCA TableRUCA Cross-tabs\n\n\n\n\n\n\n\n\n\n\n\nap.crosstabs.ruca &lt;- master.3 %&gt;%\n  select(Dem_Desc, ap.exam) %&gt;%\n  mutate(ap.exam = ifelse(ap.exam == 0, \"Did not take AP exam\", \"Took AP exam\")) \n\nCrossTable(ap.crosstabs.ruca$Dem_Desc, ap.crosstabs.ruca$ap.exam, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                           | ap.crosstabs.ruca$ap.exam \nap.crosstabs.ruca$Dem_Desc | Did not take AP exam |         Took AP exam |            Row Total | \n---------------------------|----------------------|----------------------|----------------------|\n            Town/rural mix |                18588 |                 3535 |                22123 | \n                           |            17062.916 |             5060.084 |                      | \n                           |                0.840 |                0.160 |                0.180 | \n---------------------------|----------------------|----------------------|----------------------|\n      Urban/town/rural mix |                46093 |                12906 |                58999 | \n                           |            45504.451 |            13494.549 |                      | \n                           |                0.781 |                0.219 |                0.480 | \n---------------------------|----------------------|----------------------|----------------------|\n            Entirely urban |                30138 |                11678 |                41816 | \n                           |            32251.633 |             9564.367 |                      | \n                           |                0.721 |                0.279 |                0.340 | \n---------------------------|----------------------|----------------------|----------------------|\n              Column Total |                94819 |                28119 |               122938 | \n---------------------------|----------------------|----------------------|----------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  1234.857     d.f. =  2     p =  7.147709e-269 \n\n\n \n\n\n\n\n\n\nNow lets check to see if there are any statistically significant differences by EDR.\nThe p-value indicates that we can reject the null hypothesis, however the difference between the two EDRs are minimal - EDR 10 had 24% of their graduates take the AP test while EDR 9 had 21%.\n\n\nEDR TableEDR Cross-tabs\n\n\n\n\n\n\n\n\n\n\n\nap.crosstabs.edr &lt;- master.3 %&gt;%\n  select(edr, ap.exam) %&gt;%\n  mutate(ap.exam = ifelse(ap.exam == 0, \"Did not take AP exam\", \"Took AP exam\")) \n\nCrossTable(ap.crosstabs.edr$edr, ap.crosstabs.edr$ap.exam, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                      | ap.crosstabs.edr$ap.exam \n ap.crosstabs.edr$edr | Did not take AP exam |         Took AP exam |            Row Total | \n----------------------|----------------------|----------------------|----------------------|\n   EDR 10 - Southeast |                66637 |                20709 |                87346 | \n                      |            67367.782 |            19978.218 |                      | \n                      |                0.763 |                0.237 |                0.710 | \n----------------------|----------------------|----------------------|----------------------|\nEDR 9 - South Central |                28182 |                 7410 |                35592 | \n                      |            27451.218 |             8140.782 |                      | \n                      |                0.792 |                0.208 |                0.290 | \n----------------------|----------------------|----------------------|----------------------|\n         Column Total |                94819 |                28119 |               122938 | \n----------------------|----------------------|----------------------|----------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  119.7136     d.f. =  1     p =  7.308748e-28 \n\nPearson's Chi-squared test with Yates' continuity correction \n------------------------------------------------------------\nChi^2 =  119.5498     d.f. =  1     p =  7.937713e-28 \n\n \n\n\n\n\n\n\nThere is significant variation in the percent of students who’ve taken an AP exam across counties. The highest percentage was in Blue Earth with 35% while it was followed by two counties just north of Olmstead - Wabasha had 34% and Goodhue had 31%.\n\n\nCounty mapCounty Cross-tabs\n\n\n\n\n\n\n\n\n\n\n\nap.crosstabs.county &lt;- master.3 %&gt;%\n  select(county.name, ap.exam) %&gt;%\n  mutate(ap.exam = ifelse(ap.exam == 0, \"Did not take AP exam\", \"Took AP exam\")) \n\nCrossTable(ap.crosstabs.county$county.name, ap.crosstabs.county$ap.exam, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                                | ap.crosstabs.county$ap.exam \nap.crosstabs.county$county.name | Did not take AP exam |         Took AP exam |            Row Total | \n--------------------------------|----------------------|----------------------|----------------------|\n                     Blue Earth |                 7348 |                 3920 |                11268 | \n                                |             8690.726 |             2577.274 |                      | \n                                |                0.652 |                0.348 |                0.092 | \n--------------------------------|----------------------|----------------------|----------------------|\n                          Brown |                 3827 |                  651 |                 4478 | \n                                |             3453.769 |             1024.231 |                      | \n                                |                0.855 |                0.145 |                0.036 | \n--------------------------------|----------------------|----------------------|----------------------|\n                          Dodge |                 3928 |                  499 |                 4427 | \n                                |             3414.434 |             1012.566 |                      | \n                                |                0.887 |                0.113 |                0.036 | \n--------------------------------|----------------------|----------------------|----------------------|\n                      Faribault |                 1790 |                  209 |                 1999 | \n                                |             1541.779 |              457.221 |                      | \n                                |                0.895 |                0.105 |                0.016 | \n--------------------------------|----------------------|----------------------|----------------------|\n                       Fillmore |                 2678 |                  366 |                 3044 | \n                                |             2347.761 |              696.239 |                      | \n                                |                0.880 |                0.120 |                0.025 | \n--------------------------------|----------------------|----------------------|----------------------|\n                       Freeborn |                 3827 |                  688 |                 4515 | \n                                |             3482.306 |             1032.694 |                      | \n                                |                0.848 |                0.152 |                0.037 | \n--------------------------------|----------------------|----------------------|----------------------|\n                        Goodhue |                 6327 |                 2841 |                 9168 | \n                                |             7071.049 |             2096.951 |                      | \n                                |                0.690 |                0.310 |                0.075 | \n--------------------------------|----------------------|----------------------|----------------------|\n                        Houston |                 4770 |                  772 |                 5542 | \n                                |             4274.406 |             1267.594 |                      | \n                                |                0.861 |                0.139 |                0.045 | \n--------------------------------|----------------------|----------------------|----------------------|\n                       Le Sueur |                 4329 |                  330 |                 4659 | \n                                |             3593.370 |             1065.630 |                      | \n                                |                0.929 |                0.071 |                0.038 | \n--------------------------------|----------------------|----------------------|----------------------|\n                         Martin |                 3103 |                  571 |                 3674 | \n                                |             2833.664 |              840.336 |                      | \n                                |                0.845 |                0.155 |                0.030 | \n--------------------------------|----------------------|----------------------|----------------------|\n                          Mower |                 5171 |                 1243 |                 6414 | \n                                |             4946.958 |             1467.042 |                      | \n                                |                0.806 |                0.194 |                0.052 | \n--------------------------------|----------------------|----------------------|----------------------|\n                       Nicollet |                 2174 |                  607 |                 2781 | \n                                |             2144.916 |              636.084 |                      | \n                                |                0.782 |                0.218 |                0.023 | \n--------------------------------|----------------------|----------------------|----------------------|\n                        Olmsted |                18862 |                 7259 |                26121 | \n                                |            20146.473 |             5974.527 |                      | \n                                |                0.722 |                0.278 |                0.212 | \n--------------------------------|----------------------|----------------------|----------------------|\n                           Rice |                 7589 |                 2698 |                10287 | \n                                |             7934.105 |             2352.895 |                      | \n                                |                0.738 |                0.262 |                0.084 | \n--------------------------------|----------------------|----------------------|----------------------|\n                         Sibley |                 2321 |                  291 |                 2612 | \n                                |             2014.570 |              597.430 |                      | \n                                |                0.889 |                0.111 |                0.021 | \n--------------------------------|----------------------|----------------------|----------------------|\n                         Steele |                 6041 |                 1416 |                 7457 | \n                                |             5751.397 |             1705.603 |                      | \n                                |                0.810 |                0.190 |                0.061 | \n--------------------------------|----------------------|----------------------|----------------------|\n                        Wabasha |                 2666 |                 1355 |                 4021 | \n                                |             3101.297 |              919.703 |                      | \n                                |                0.663 |                0.337 |                0.033 | \n--------------------------------|----------------------|----------------------|----------------------|\n                         Waseca |                 3290 |                  831 |                 4121 | \n                                |             3178.424 |              942.576 |                      | \n                                |                0.798 |                0.202 |                0.034 | \n--------------------------------|----------------------|----------------------|----------------------|\n                         Winona |                 4778 |                 1572 |                 6350 | \n                                |             4897.596 |             1452.404 |                      | \n                                |                0.752 |                0.248 |                0.052 | \n--------------------------------|----------------------|----------------------|----------------------|\n                   Column Total |                94819 |                28119 |               122938 | \n--------------------------------|----------------------|----------------------|----------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  4346.221     d.f. =  18     p =  0"
  },
  {
    "objectID": "employment.html#who-has-an-employment-record",
    "href": "employment.html#who-has-an-employment-record",
    "title": "Employment",
    "section": "Who has an employment record?",
    "text": "Who has an employment record?\nFirst, we want to figure out who from our master dataset has a MN employment record at each of the time instances being measured - graduation year, and graduation year +2, graduation year +7. Here are the columns I want when finished;\n\nPersonID has no MN employment record (Grad year, grad year +2, grad year +7)\n\nNo MN emp record - Has never worked in Minnesota\nAfter 2023 - the grad year +X is after 2023.\n\n\n\n\ngrad.years &lt;- read_csv(\"Data/SLEDS/Masters/Master-10.csv\") %&gt;%\n  select(PersonID, hs.grad.year) %&gt;%\n  mutate(hs.grad.year.2 = hs.grad.year + 2,\n         hs.grad.year.7 = hs.grad.year + 7) %&gt;%\n  gather(key = \"hs.grad.year\", value = \"year\", 2:4)\n\nmn.emp.record.year &lt;- employment.updated %&gt;%\n  mutate(CalendarYear = as.integer(str_sub(TimeID, 1,4))) %&gt;%\n  select(PersonID, CalendarYear) %&gt;%\n  distinct(PersonID, CalendarYear) %&gt;%\n  mutate(mn.emp.record = \"MN emp record\")\n\nmn.emp.record &lt;- grad.years %&gt;%\n  left_join(mn.emp.record.year, by = c(\"PersonID\", \"year\" = \"CalendarYear\")) %&gt;%\n  mutate(mn.emp.record = ifelse(year &gt; 2023, \"After 2023\", mn.emp.record),\n         mn.emp.record = ifelse(is.na(mn.emp.record), \"No MN emp record\", mn.emp.record),\n         label = paste(\"mn.emp.record.\", hs.grad.year, sep = \"\")) %&gt;%\n  select(PersonID, label, mn.emp.record) %&gt;%\n  pivot_wider(names_from = label, values_from = mn.emp.record)\n\nkable(names(mn.emp.record))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nmn.emp.record.hs.grad.year\n\n\nmn.emp.record.hs.grad.year.2\n\n\nmn.emp.record.hs.grad.year.7\n\n\n\n\nkable(head(mn.emp.record))\n\n\n\n\n\n\n\n\n\n\nPersonID\nmn.emp.record.hs.grad.year\nmn.emp.record.hs.grad.year.2\nmn.emp.record.hs.grad.year.7\n\n\n\n\n7699638\nMN emp record\nMN emp record\nNo MN emp record\n\n\n2225025\nMN emp record\nNo MN emp record\nAfter 2023\n\n\n10400093\nMN emp record\nMN emp record\nMN emp record\n\n\n8786746\nNo MN emp record\nMN emp record\nMN emp record\n\n\n11122574\nMN emp record\nMN emp record\nMN emp record\n\n\n10181573\nMN emp record\nMN emp record\nMN emp record\n\n\n\n\n\n\nThe dataset above provides each unique PersonID from our master list along with a confirmation column on whether they had a Minnesota employment record on graduation year, and graduation year +2 and +7. As expected, there are 122,938 individuals that had an MN employment record in our master list."
  },
  {
    "objectID": "employment.html#filter-for-meaningful-employment",
    "href": "employment.html#filter-for-meaningful-employment",
    "title": "Employment",
    "section": "Filter for “meaningful” employment",
    "text": "Filter for “meaningful” employment\nThe biggest issue is how do we get a meaningful indicator on whether they were employed in the region and whether they are employed in an industry that matches their CTE experience that wasn’t just a “summer job”. We need to filter out summer jobs between college years, as well as adapt to different paths that students take.\nWe will define “meaningful employment” as an employment experience in which an individual works for one particular employer for 1,000 hours worked in any given year.\nHowever, this isn’t going to just be checking to see if an individual has worked at an employer for 1,000 hours at graduation year, grad year +2, grad year +7 and grad year +12. Rather, it’s going to be checking on whether they are working at an employer at grad year, grad year +2, grad year +7 and grad year +12 for which they worked 1,000 hours for an given year.\nFor example, a person may be employed with an employer for a few years working full-time, but part-way through grad year +7, they decide to move on. I want to make sure we capture that that individual was employed in meaningful employment even though it wasn’t full-time that particular year.\nThe same can go the other way. Perhaps an individual just starts employment at grad year +7 but does work full-time with that particular employer form multiple years. We will want to count that as well.\nIn addition, I want to capture if someone is working at an employer but isn’t quite “meaningful” but turns into meaningful later on. We will count that as well.\nThis will be a couple step process.\n\nFirst, we will filter out the employment.original data so that only meaningful employment for each PersonID is included along with the years worked at EmploymentOrganizationID.\nCollect EmploymentOrganizationID for all the years that each PersonID worked meaningful employment.\nCreate a new datalist of each PersonID in the master datalist with grad year, grad year +2, and +7.\nThen, we will cross reference the grad year list with employment year to see if meaningful employment matches.\n\nWe will end with the following columns and labels;\n\nPersonID has had meaningful employment since graduating high school (Grad year, grad year +2, grad year +7)\n\nNo MN emp record - Has no MN emp record\nNo meaningful emp - Has MN emp record but never\nMeaningful emp - Has MN emp record and is meaningful\nAfter 2023 - the grad year +X is after 2023.\n\n\n\n\nmeaningful.employer &lt;- employment.updated %&gt;%\n  mutate(CalendarYear = as.integer(str_sub(TimeID, 1, 4))) %&gt;%\n  group_by(PersonID, EmploymentOrganizationID, CalendarYear) %&gt;%\n  summarize(EmployeeQuarterlyHoursWorked = sum(EmployeeQuarterlyHoursWorked)) %&gt;%\n  ungroup() %&gt;%\n  group_by(PersonID) %&gt;%\n  filter(EmployeeQuarterlyHoursWorked &gt; 999) %&gt;%\n  ungroup() %&gt;%\n  distinct(PersonID, EmploymentOrganizationID) %&gt;%\n  right_join(mn.emp.record[,c(1)], by = \"PersonID\")\n\nkable(head(meaningful.employer))\n\n\n\n\nPersonID\nEmploymentOrganizationID\n\n\n\n\n55\n288905\n\n\n412\n274146\n\n\n412\n279540\n\n\n513\n32623\n\n\n513\n69558\n\n\n519\n308220\n\n\n\n\nkable(names(meaningful.employer))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nEmploymentOrganizationID\n\n\n\n\n\n\nThis dataset has 210,863 rows which represents an PersonID and EmploymentOrganizationID with which they worked 1,000 or more hours had been worked in any given year of employment with that organization. Each PersonID is also in our master datalist. If the EmploymentOrganizationID is vacant, then it means they have a MN employment record but didn’t reach the 1,000 hour threshold.\nNext, we need to make sure we are not missing any years in which a PersonID had meaningful employment with an OrganizationID but for other years they may not have been “meaningful”.\n\n\nmeaningful.emp &lt;- employment.updated %&gt;%\n  mutate(CalendarYear = as.integer(str_sub(TimeID, 1, 4))) %&gt;%\n  select(PersonID, CalendarYear, EmploymentOrganizationID) %&gt;%\n  right_join(meaningful.employer, by = c(\"PersonID\", \"EmploymentOrganizationID\")) %&gt;%\n  distinct(PersonID, EmploymentOrganizationID, CalendarYear) %&gt;%\n  drop_na(EmploymentOrganizationID)\n\nkable(names(meaningful.emp))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nEmploymentOrganizationID\n\n\nCalendarYear\n\n\n\n\nkable(head(meaningful.emp))\n\n\n\n\nPersonID\nEmploymentOrganizationID\nCalendarYear\n\n\n\n\n2225025\n374852\n2021\n\n\n2225025\n130095\n2024\n\n\n2225025\n130095\n2023\n\n\n2225025\n374852\n2020\n\n\n2225025\n374852\n2022\n\n\n10400093\n327987\n2020\n\n\n\n\n\n\nAfter filling in any missing years where an PersonID may have had non-meaningful employment with an employer that they one time had/will have meaningful employment the data set grew to 644,762 rows and 3 columns.\nNext, we want to collect the PersonID from the master datalist along with the graduation year, grad year +2, and grad year +7.\n\n\ngrad.years &lt;- read_csv(\"Data/SLEDS/Masters/Master-10.csv\") %&gt;%\n  select(PersonID, hs.grad.year) %&gt;%\n  mutate(hs.grad.year.2 = hs.grad.year + 2,\n         hs.grad.year.7 = hs.grad.year + 7)\n\nkable(head(grad.years))\n\n\n\n\nPersonID\nhs.grad.year\nhs.grad.year.2\nhs.grad.year.7\n\n\n\n\n7699638\n2015\n2017\n2022\n\n\n2225025\n2017\n2019\n2024\n\n\n10400093\n2014\n2016\n2021\n\n\n8786746\n2014\n2016\n2021\n\n\n11122574\n2011\n2013\n2018\n\n\n10181573\n2010\n2012\n2017\n\n\n\n\nkable(names(grad.years))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nhs.grad.year\n\n\nhs.grad.year.2\n\n\nhs.grad.year.7\n\n\n\n\n\n\nAs expected, the dataset has 122,938 rows and 4 columns.\nNow, we will cross-reference these lists to confirm whether the PersonID from the grad.years datalist were working “meaningful employment” (as defined in above section) in each of grad year times.\n\n\nmeaningful.emp.grad.years &lt;- grad.years %&gt;%\n  gather(key = \"grad.years\", value= \"year\", 2:4) %&gt;%\n  left_join(meaningful.emp, by = c(\"PersonID\", \"year\" = \"CalendarYear\")) %&gt;%\n  mutate(EmploymentOrganizationID = ifelse(year &gt; 2023, \"After 2023\", EmploymentOrganizationID)) %&gt;%\n  filter(!is.na(EmploymentOrganizationID)) %&gt;%\n  filter(EmploymentOrganizationID != \"After 2023\") %&gt;%\n  mutate(EmploymentOrganizationID = as.integer(EmploymentOrganizationID),\n         meaningful.emp = \"Yes\")\n\nkable(names(meaningful.emp.grad.years))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\ngrad.years\n\n\nyear\n\n\nEmploymentOrganizationID\n\n\nmeaningful.emp\n\n\n\n\nkable(head(meaningful.emp.grad.years))\n\n\n\n\n\n\n\n\n\n\n\nPersonID\ngrad.years\nyear\nEmploymentOrganizationID\nmeaningful.emp\n\n\n\n\n6630638\nhs.grad.year\n2022\n114316\nYes\n\n\n7101816\nhs.grad.year\n2012\n66816\nYes\n\n\n3859668\nhs.grad.year\n2018\n32060\nYes\n\n\n11140960\nhs.grad.year\n2010\n126931\nYes\n\n\n2555571\nhs.grad.year\n2017\n197506\nYes\n\n\n7005265\nhs.grad.year\n2009\n2698\nYes\n\n\n\n\n\n\nThe dataset above provides only PersonIDs that had meaningful employment for at least one hs.grad.year along with the EmploymentOrganizationID for which meaningful employment was gained. This leaves us with 122,374 rows.\nNow we want to merge this with all the PersonID from the master dataset so we end up with a list that has each PersonID, a column that represents grad year, and grad year +2 and +7, and confirmation on whether they had meaninful employment during those years.\n\n\nmaster.personid.meaningful.emp &lt;- meaningful.emp.grad.years %&gt;%\n  select(PersonID, grad.years, meaningful.emp) %&gt;%\n  distinct(PersonID, grad.years) %&gt;%\n  mutate(meaningful.emp = \"Meaningful emp\") %&gt;%\n  right_join(grad.years[,c(1)], by = \"PersonID\") %&gt;%\n  complete(PersonID, grad.years, fill = list(meaningful.emp = \"No meaningful emp\")) %&gt;%\n  filter(!is.na(grad.years)) %&gt;%\n  mutate(label = paste(\"meaningful.emp.\", grad.years, sep = \"\")) %&gt;%\n  select(PersonID, label, meaningful.emp) %&gt;%\n  pivot_wider(names_from = label, values_from = meaningful.emp) %&gt;%\n  left_join(mn.emp.record, by = \"PersonID\") %&gt;%\n  select(PersonID, 5,6,7,2,3,4) %&gt;%\n  mutate(meaningful.emp.hs.grad.year = ifelse(mn.emp.record.hs.grad.year == \"No MN emp record\", \"No MN emp record\", meaningful.emp.hs.grad.year),\n         meaningful.emp.hs.grad.year = ifelse(mn.emp.record.hs.grad.year == \"After 2023\", \"After 2023\", meaningful.emp.hs.grad.year),\n         meaningful.emp.hs.grad.year.2 = ifelse(mn.emp.record.hs.grad.year.2 == \"No MN emp record\", \"No MN emp record\", meaningful.emp.hs.grad.year.2),\n         meaningful.emp.hs.grad.year.2 = ifelse(mn.emp.record.hs.grad.year.2 == \"After 2023\", \"After 2023\", meaningful.emp.hs.grad.year.2),\n          meaningful.emp.hs.grad.year.7 = ifelse(mn.emp.record.hs.grad.year.7 == \"No MN emp record\", \"No MN emp record\", meaningful.emp.hs.grad.year.7),\n         meaningful.emp.hs.grad.year.7 = ifelse(mn.emp.record.hs.grad.year.7 == \"After 2023\", \"After 2023\", meaningful.emp.hs.grad.year.7))\n\nkable(names(master.personid.meaningful.emp))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nmn.emp.record.hs.grad.year\n\n\nmn.emp.record.hs.grad.year.2\n\n\nmn.emp.record.hs.grad.year.7\n\n\nmeaningful.emp.hs.grad.year\n\n\nmeaningful.emp.hs.grad.year.2\n\n\nmeaningful.emp.hs.grad.year.7\n\n\n\n\nkable(head(master.personid.meaningful.emp))\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nmn.emp.record.hs.grad.year\nmn.emp.record.hs.grad.year.2\nmn.emp.record.hs.grad.year.7\nmeaningful.emp.hs.grad.year\nmeaningful.emp.hs.grad.year.2\nmeaningful.emp.hs.grad.year.7\n\n\n\n\n55\nMN emp record\nNo MN emp record\nMN emp record\nNo meaningful emp\nNo MN emp record\nMeaningful emp\n\n\n181\nMN emp record\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\n\n\n280\nMN emp record\nMN emp record\nAfter 2023\nNo meaningful emp\nNo meaningful emp\nAfter 2023\n\n\n301\nMN emp record\nAfter 2023\nAfter 2023\nNo meaningful emp\nAfter 2023\nAfter 2023\n\n\n304\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\n\n\n412\nNo MN emp record\nNo MN emp record\nMN emp record\nNo MN emp record\nNo MN emp record\nNo meaningful emp\n\n\n\n\n\n\nThe dataset above provides each PersonID in our Master datalist along with a confirmation on whether they had meaningful employment on their graduation year, and grad year +2 and +7. As expected, there are 122,938 rows."
  },
  {
    "objectID": "employment.html#match-meaningful-employment-and-high-school-locationsregions.",
    "href": "employment.html#match-meaningful-employment-and-high-school-locationsregions.",
    "title": "Employment",
    "section": "Match meaningful employment and high school locations/regions.",
    "text": "Match meaningful employment and high school locations/regions.\nNow, we want to determine if the locations of meaningful employment match the counties and regions from which they graduated high school. To do this, we will import the latest master dataset so we can compare their high school locations with meaningful employment locations.\nHere are the columns and labels that I need;\n\nPersonID has had meaningful employment within the county/region (Grad year, grad year +2, grad year +7)\n\nNo MN emp record - has no MN employment record\nNo meaningful emp - Has MN emp record but not meaningful\nNo location match - Has MN emp record, had meaningful employment, but no match with region\nLocation match - Has MN emp record, had meaningful employment, and had meaningful employment in county/region\nAfter 2023 - the grad year +X is After 2023\n\n\n\n\nemp.original.locations &lt;- employment.original %&gt;%\n  mutate(CalendarYear = as.integer(str_sub(TimeID, 1, 4)),\n         CountyName = str_replace(CountyName, \" County\", \"\"),\n         CountyName = str_replace(CountyName, \"Saint Louis\", \"St. Louis\"),\n         CountyName = str_replace(CountyName, \"City of Duluth\", \"St. Louis\"),\n         CountyName = str_replace(CountyName, \"City of Minneapolis\", \"Hennepin\"),\n         CountyName = str_replace(CountyName, \"City of St. Paul\", \"Ramsey\"),\n         CountyName = str_replace(CountyName, \"Shakopee Mdewakanton Community\", \"Scott\"),\n         CountyName = str_replace(CountyName, \"White Earth Tribal Counci\", \"Mahnomen\")) %&gt;%\n  left_join(counties.regions.1, by = c(\"CountyName\" = \"Name\")) %&gt;%\n  rename(EconomicDevelopmentRegionName = edr) %&gt;%\n  select(PersonID, CalendarYear, EmploymentOrganizationID, EconomicDevelopmentRegionName, CountyName, project.pr) %&gt;%\n  distinct(PersonID, CalendarYear, EmploymentOrganizationID, EconomicDevelopmentRegionName, CountyName, project.pr) %&gt;%\n  rename(employment.county = CountyName,\n         emp.edr = EconomicDevelopmentRegionName,\n         emp.pr = project.pr) %&gt;%\n  mutate(emp.edr = str_replace(emp.edr, \"  \", \" \"),\n         emp.edr = as.factor(emp.edr),\n         employment.county = str_replace(employment.county, \" County\", \"\"),\n         employment.county = str_replace(employment.county, \"City of Duluth\", \"St. Louis\"),\n         employment.county = str_replace(employment.county, \"Saint Louis\", \"St. Louis\"),\n         employment.county = str_replace(employment.county, \"City of Minneapolis\", \"Hennepin\"),\n         employment.county = str_replace(employment.county, \"City of St. Paul\", \"Ramsey\"),\n         employment.county = str_replace(employment.county, \"White Earth Tribal Counci\", \"Mahnomen\"),\n         employment.county = as.factor(employment.county)) %&gt;%\n  left_join(counties.regions[,c(2,4)], by = c(\"employment.county\" = \"Name\")) %&gt;%\n  rename(emp.Dem_Desc = Dem_Desc) \n\nmeaningful.emp.locations &lt;- meaningful.emp.grad.years %&gt;%\n  left_join(emp.original.locations, by = c(\"PersonID\", \"year\" = \"CalendarYear\", \"EmploymentOrganizationID\")) %&gt;%\n  mutate(emp.edr = ifelse(employment.county == \"Statewide (i.e. no fixed location)\", \"Unknown\", as.character(emp.edr)),\n         emp.Dem_Desc = ifelse(employment.county == \"Statewide (i.e. no fixed location)\", \"Unknown\", as.character(emp.Dem_Desc)),\n         emp.edr = ifelse(employment.county == \"Hennepin\", \"EDR 11 - 7 County Twin Cities\", emp.edr),\n         emp.edr = ifelse(employment.county == \"Ramsey\", \"EDR 11 - 7 County Twin Cities\", emp.edr),\n         emp.edr = ifelse(employment.county == \"St. Louis\", \"EDR 3 - Arrowhead\", emp.edr),\n         emp.edr = ifelse(employment.county == \"Unknown\", \"Unknown\", emp.edr),\n         emp.Dem_Desc = ifelse(employment.county == \"Unknown\", \"Unknown\", as.character(emp.Dem_Desc)),\n         emp.Dem_Desc = ifelse(employment.county == \"NULL\", \"NULL\", as.character(emp.Dem_Desc)),\n         emp.edr = ifelse(employment.county == \"Mahnomen\", \"EDR 2 - Headwaters\", emp.edr))\n\ngrad.locations &lt;- read_csv(\"Data/SLEDS/Masters/Master-10.csv\") %&gt;%\n  mutate(planning.region = \"Southern\") %&gt;%\n  select(PersonID, county.name, Dem_Desc, edr, planning.region) %&gt;%\n  rename(hs.county.name = county.name,\n         hs.Dem_Desc = Dem_Desc,\n         hs.edr = edr,\n         hs.planning.region = planning.region)\n\ngrad.emp.location.match &lt;- grad.locations %&gt;%\n  right_join(meaningful.emp.locations, by = \"PersonID\") %&gt;%\n  mutate(county.match = ifelse(employment.county == hs.county.name, 1,\n                               ifelse(employment.county %in%  c(\"Unknown\", \"Statewide (i.e. no fixed location)\"), 0, -1)),\n         edr.match = ifelse(emp.edr == hs.edr, 1,\n                            ifelse(emp.edr == \"Unknown\", 0, -1)),\n         region.match = ifelse(emp.pr %in% c(\"Southern\"), 1,\n                               ifelse(emp.edr == \"Unknown\", 0, -1)),\n         state.match = 1) %&gt;% \n  group_by(PersonID, grad.years) %&gt;%\n  summarize(county.match = max(county.match),\n         edr.match = max(edr.match),\n         region.match = max(region.match),\n         state.match = max(state.match)) %&gt;%\n  ungroup() %&gt;%\n  gather(key = \"region.match\", value = \"confirm\", 3:6) %&gt;%\n  mutate(confirm = ifelse(confirm == -1, \"No location match\",\n                          ifelse(confirm == 0, \"Unknown\", \"Location match\")),\n         grad.years.region.emp.match = paste(grad.years, \".\", region.match, sep = \"\")) %&gt;%\n  select(PersonID, grad.years.region.emp.match, confirm) %&gt;%\n  pivot_wider(names_from = grad.years.region.emp.match, values_from = confirm, values_fill = \"No meaningful employment\") %&gt;%\n  select(PersonID, hs.grad.year.county.match, hs.grad.year.2.county.match, hs.grad.year.7.county.match, hs.grad.year.edr.match, hs.grad.year.2.edr.match, hs.grad.year.7.edr.match, hs.grad.year.region.match, hs.grad.year.2.region.match, hs.grad.year.7.region.match, hs.grad.year.state.match, hs.grad.year.2.state.match, hs.grad.year.7.state.match)\n\nmaster.personid.grad.emp.location.match &lt;- master.personid.meaningful.emp %&gt;%\n  left_join(grad.emp.location.match, by = \"PersonID\") %&gt;%\n  mutate(hs.grad.year.county.match = ifelse(mn.emp.record.hs.grad.year == \"No MN emp record\", \"No MN emp record\", hs.grad.year.county.match),\n         hs.grad.year.county.match = ifelse(meaningful.emp.hs.grad.year == \"No meaningful emp\", \"No meaningful emp\", hs.grad.year.county.match),\n         hs.grad.year.2.county.match = ifelse(mn.emp.record.hs.grad.year.2 == \"No MN emp record\", \"No MN emp record\", hs.grad.year.2.county.match),\n         hs.grad.year.2.county.match = ifelse(meaningful.emp.hs.grad.year.2 == \"No meaningful emp\", \"No meaningful emp\", hs.grad.year.2.county.match),\n         hs.grad.year.2.county.match = ifelse(mn.emp.record.hs.grad.year.2 == \"After 2023\", \"After 2023\", hs.grad.year.2.county.match),\n         hs.grad.year.7.county.match = ifelse(mn.emp.record.hs.grad.year.7 == \"No MN emp record\", \"No MN emp record\", hs.grad.year.7.county.match),\n         hs.grad.year.7.county.match = ifelse(meaningful.emp.hs.grad.year.7 == \"No meaningful emp\", \"No meaningful emp\", hs.grad.year.7.county.match),\n         hs.grad.year.7.county.match = ifelse(mn.emp.record.hs.grad.year.7 == \"After 2023\", \"After 2023\", hs.grad.year.7.county.match),\n         hs.grad.year.edr.match = ifelse(mn.emp.record.hs.grad.year == \"No MN emp record\", \"No MN emp record\", hs.grad.year.edr.match),\n         hs.grad.year.edr.match = ifelse(meaningful.emp.hs.grad.year == \"No meaningful emp\", \"No meaningful emp\", hs.grad.year.edr.match),\n         hs.grad.year.edr.match = ifelse(hs.grad.year.county.match == \"Unknown\", \"Unknown\", hs.grad.year.edr.match),\n         hs.grad.year.2.edr.match = ifelse(mn.emp.record.hs.grad.year.2 == \"No MN emp record\", \"No MN emp record\", hs.grad.year.2.edr.match),\n         hs.grad.year.2.edr.match = ifelse(meaningful.emp.hs.grad.year.2 == \"No meaningful emp\", \"No meaningful emp\", hs.grad.year.2.edr.match),\n         hs.grad.year.2.edr.match = ifelse(mn.emp.record.hs.grad.year.2 == \"After 2023\", \"After 2023\", hs.grad.year.2.edr.match),\n         hs.grad.year.2.edr.match = ifelse(hs.grad.year.2.county.match == \"Unknown\", \"Unknown\", hs.grad.year.2.edr.match),\n         hs.grad.year.7.edr.match = ifelse(mn.emp.record.hs.grad.year.7 == \"No MN emp record\", \"No MN emp record\", hs.grad.year.7.edr.match),\n         hs.grad.year.7.edr.match = ifelse(meaningful.emp.hs.grad.year.7 == \"No meaningful emp\", \"No meaningful emp\", hs.grad.year.7.edr.match),\n         hs.grad.year.7.edr.match = ifelse(mn.emp.record.hs.grad.year.7 == \"After 2023\", \"After 2023\", hs.grad.year.7.edr.match),\n         hs.grad.year.7.edr.match = ifelse(hs.grad.year.7.county.match == \"Unknown\", \"Unknown\", hs.grad.year.7.edr.match),\n         hs.grad.year.state.match = ifelse(mn.emp.record.hs.grad.year == \"No MN emp record\", \"No MN emp record\", hs.grad.year.state.match),\n         hs.grad.year.state.match = ifelse(meaningful.emp.hs.grad.year == \"No meaningful emp\", \"No meaningful emp\", hs.grad.year.state.match),\n         hs.grad.year.state.match = ifelse(hs.grad.year.county.match == \"Unknown\", \"Unknown\", hs.grad.year.state.match),\n         hs.grad.year.2.state.match = ifelse(mn.emp.record.hs.grad.year.2 == \"No MN emp record\", \"No MN emp record\", hs.grad.year.2.state.match),\n         hs.grad.year.2.state.match = ifelse(meaningful.emp.hs.grad.year.2 == \"No meaningful emp\", \"No meaningful emp\", hs.grad.year.2.state.match),\n         hs.grad.year.2.state.match = ifelse(mn.emp.record.hs.grad.year.2 == \"After 2023\", \"After 2023\", hs.grad.year.2.state.match),\n         hs.grad.year.2.state.match = ifelse(hs.grad.year.2.county.match == \"Unknown\", \"Unknown\", hs.grad.year.2.state.match),\n         hs.grad.year.7.state.match = ifelse(mn.emp.record.hs.grad.year.7 == \"No MN emp record\", \"No MN emp record\", hs.grad.year.7.state.match),\n         hs.grad.year.7.state.match = ifelse(meaningful.emp.hs.grad.year.7 == \"No meaningful emp\", \"No meaningful emp\", hs.grad.year.7.state.match),\n         hs.grad.year.7.state.match = ifelse(mn.emp.record.hs.grad.year.7 == \"After 2023\", \"After 2023\", hs.grad.year.7.state.match),\n         hs.grad.year.7.state.match = ifelse(hs.grad.year.7.county.match == \"Unknown\", \"Unknown\", hs.grad.year.7.state.match),\n         hs.grad.year.region.match = ifelse(mn.emp.record.hs.grad.year == \"No MN emp record\", \"No MN emp record\", hs.grad.year.region.match),\n         hs.grad.year.region.match = ifelse(meaningful.emp.hs.grad.year == \"No meaningful emp\", \"No meaningful emp\", hs.grad.year.region.match),\n         hs.grad.year.region.match = ifelse(hs.grad.year.county.match == \"Unknown\", \"Unknown\", hs.grad.year.region.match),\n         hs.grad.year.2.region.match = ifelse(mn.emp.record.hs.grad.year.2 == \"No MN emp record\", \"No MN emp record\", hs.grad.year.2.region.match),\n         hs.grad.year.2.region.match = ifelse(meaningful.emp.hs.grad.year.2 == \"No meaningful emp\", \"No meaningful emp\", hs.grad.year.2.region.match),\n         hs.grad.year.2.region.match = ifelse(mn.emp.record.hs.grad.year.2 == \"After 2023\", \"After 2023\", hs.grad.year.2.region.match),\n         hs.grad.year.2.region.match = ifelse(hs.grad.year.2.county.match == \"Unknown\", \"Unknown\", hs.grad.year.2.region.match),\n         hs.grad.year.7.region.match = ifelse(mn.emp.record.hs.grad.year.7 == \"No MN emp record\", \"No MN emp record\", hs.grad.year.7.region.match),\n         hs.grad.year.7.region.match = ifelse(meaningful.emp.hs.grad.year.7 == \"No meaningful emp\", \"No meaningful emp\", hs.grad.year.7.region.match),\n         hs.grad.year.7.region.match = ifelse(mn.emp.record.hs.grad.year.7 == \"After 2023\", \"After 2023\", hs.grad.year.7.region.match),\n         hs.grad.year.7.region.match = ifelse(hs.grad.year.7.county.match == \"Unknown\", \"Unknown\", hs.grad.year.7.region.match))\n\nkable(names(master.personid.grad.emp.location.match))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nmn.emp.record.hs.grad.year\n\n\nmn.emp.record.hs.grad.year.2\n\n\nmn.emp.record.hs.grad.year.7\n\n\nmeaningful.emp.hs.grad.year\n\n\nmeaningful.emp.hs.grad.year.2\n\n\nmeaningful.emp.hs.grad.year.7\n\n\nhs.grad.year.county.match\n\n\nhs.grad.year.2.county.match\n\n\nhs.grad.year.7.county.match\n\n\nhs.grad.year.edr.match\n\n\nhs.grad.year.2.edr.match\n\n\nhs.grad.year.7.edr.match\n\n\nhs.grad.year.region.match\n\n\nhs.grad.year.2.region.match\n\n\nhs.grad.year.7.region.match\n\n\nhs.grad.year.state.match\n\n\nhs.grad.year.2.state.match\n\n\nhs.grad.year.7.state.match\n\n\n\n\nkable(head(master.personid.grad.emp.location.match))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nmn.emp.record.hs.grad.year\nmn.emp.record.hs.grad.year.2\nmn.emp.record.hs.grad.year.7\nmeaningful.emp.hs.grad.year\nmeaningful.emp.hs.grad.year.2\nmeaningful.emp.hs.grad.year.7\nhs.grad.year.county.match\nhs.grad.year.2.county.match\nhs.grad.year.7.county.match\nhs.grad.year.edr.match\nhs.grad.year.2.edr.match\nhs.grad.year.7.edr.match\nhs.grad.year.region.match\nhs.grad.year.2.region.match\nhs.grad.year.7.region.match\nhs.grad.year.state.match\nhs.grad.year.2.state.match\nhs.grad.year.7.state.match\n\n\n\n\n55\nMN emp record\nNo MN emp record\nMN emp record\nNo meaningful emp\nNo MN emp record\nMeaningful emp\nNo meaningful emp\nNo MN emp record\nNo location match\nNo meaningful emp\nNo MN emp record\nNo location match\nNo meaningful emp\nNo MN emp record\nNo location match\nNo meaningful emp\nNo MN emp record\nLocation match\n\n\n181\nMN emp record\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\n\n\n280\nMN emp record\nMN emp record\nAfter 2023\nNo meaningful emp\nNo meaningful emp\nAfter 2023\nNo meaningful emp\nNo meaningful emp\nAfter 2023\nNo meaningful emp\nNo meaningful emp\nAfter 2023\nNo meaningful emp\nNo meaningful emp\nAfter 2023\nNo meaningful emp\nNo meaningful emp\nAfter 2023\n\n\n301\nMN emp record\nAfter 2023\nAfter 2023\nNo meaningful emp\nAfter 2023\nAfter 2023\nNo meaningful emp\nAfter 2023\nAfter 2023\nNo meaningful emp\nAfter 2023\nAfter 2023\nNo meaningful emp\nAfter 2023\nAfter 2023\nNo meaningful emp\nAfter 2023\nAfter 2023\n\n\n304\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\n\n\n412\nNo MN emp record\nNo MN emp record\nMN emp record\nNo MN emp record\nNo MN emp record\nNo meaningful emp\nNo MN emp record\nNo MN emp record\nNo meaningful emp\nNo MN emp record\nNo MN emp record\nNo meaningful emp\nNo MN emp record\nNo MN emp record\nNo meaningful emp\nNo MN emp record\nNo MN emp record\nNo meaningful emp"
  },
  {
    "objectID": "employment.html#match-employment-industry-with-career-cluster",
    "href": "employment.html#match-employment-industry-with-career-cluster",
    "title": "Employment",
    "section": "Match employment industry with career cluster",
    "text": "Match employment industry with career cluster\nNext we need to find a way to compare the CTE careerclusters with the actual industry from which they work. We are not able to compare majors which is a bummer. But, the careerclusters from CTE coursework does align somewhat with NAICS codes. Here’s what it looks like;\n\n\ncareercluster.naics.cw &lt;- read_xlsx('/Users/kellyasche/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/SLEDS/Employment/career-cluster-naics.xlsx') %&gt;%\n  rename(cw.CareerCluster = `Career cluster code`,\n         cw.CareerClusterName = `Career Cluster`,\n         cw.emp.ind.code = 3,\n         cw.emp.ind.name = 4)\n\n\ndatatable(careercluster.naics.cw, class = \"cell-border stripe\", filter = \"top\", rownames = FALSE,\n          options = list(columnDefs = list(list(className = \"dt-center\", targets = 1:3)))) \n\n\n\n\n\n\nThere is one industry in which two career clusters will have to be marged - Human Services and Health Science & Health Occupations. Due to this, we will create a new column with an “updated” careercluster code that includes the merged cluster.\nHere are the columns and labels that I will use;\n\nPersonID has had meaningful employment in industry from a CTE course taken (Grad year, grad year +2, grad year +7)\n\nNo MN emp record - has no MN employment record\nNo meaningful emp - Has MN emp record nut not meaningful\nNo ind match - Has MN emp record, was meaningful, but industry does not match CTE course taken\nInd match - Has MN emp record, was meaningful, and industry and cTE course match.\nAfter 2023 - the grad year +X is After 2023\n\n\nStep 1 is to determine the industry codes for each PersonID that experienced meaningful employment for each of their “grad years”.\n\n\nemp.original.for.cw &lt;- employment.updated %&gt;%\n  mutate(CalendarYear = as.integer(str_sub(TimeID, 1, 4))) %&gt;%\n  select(PersonID, CalendarYear, EmploymentOrganizationID, GroupCode) %&gt;%\n  distinct(PersonID, CalendarYear, EmploymentOrganizationID, GroupCode) \n\ncc.cw.meaningful.emp &lt;- meaningful.emp.grad.years %&gt;%\n  left_join(emp.original.for.cw, by = c(\"PersonID\", \"EmploymentOrganizationID\", \"year\" = \"CalendarYear\")) %&gt;%\n  mutate(ind.code = ifelse(GroupCode == \"6215\", \"6215\", str_sub(GroupCode, 1, 2)),\n         ind.code = as.integer(ind.code)) %&gt;%\n  left_join(careercluster.naics.cw, by = c(\"ind.code\" = \"cw.emp.ind.code\"))\n\n\nkable(head(cc.cw.meaningful.emp))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\ngrad.years\nyear\nEmploymentOrganizationID\nmeaningful.emp\nGroupCode\nind.code\ncw.CareerCluster\ncw.CareerClusterName\ncw.emp.ind.name\n\n\n\n\n6630638\nhs.grad.year\n2022\n114316\nYes\n6241\n62\n10 & 11\nHealth Science AND Human Services\nHealth Care and Social Assistance\n\n\n7101816\nhs.grad.year\n2012\n66816\nYes\n2362\n23\n2\nArchitecture & Construction\nConstruction\n\n\n3859668\nhs.grad.year\n2018\n32060\nYes\n4244\n42\n9\nBusiness Management & Administration AND Marketing\nWholesale Trade\n\n\n11140960\nhs.grad.year\n2010\n126931\nYes\n4451\n44\n9\nBusiness Management & Administration AND Marketing\nRetail Trade\n\n\n2555571\nhs.grad.year\n2017\n197506\nYes\n6216\n62\n10 & 11\nHealth Science AND Human Services\nHealth Care and Social Assistance\n\n\n7005265\nhs.grad.year\n2009\n2698\nYes\n6231\n62\n10 & 11\nHealth Science AND Human Services\nHealth Care and Social Assistance\n\n\n\n\nkable(names(cc.cw.meaningful.emp))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\ngrad.years\n\n\nyear\n\n\nEmploymentOrganizationID\n\n\nmeaningful.emp\n\n\nGroupCode\n\n\nind.code\n\n\ncw.CareerCluster\n\n\ncw.CareerClusterName\n\n\ncw.emp.ind.name\n\n\n\n\n\n\nThe dataset above provides each of the meaningful employment instances during the grad years for each PersonID in the master dataset along with the GroupCode and matching CTE careercluster crosswalk for each of those employment instances. There are 122,374 rows/instances with 10 columns.\nStep 2 is to merge each PersonID’s cte courses taken. with the meaningful employment dataset so we can compare if the CTE courses match the industries.\n\n\ngrad.cc &lt;- read_csv(\"Data/SLEDS/Masters/Master-10.csv\") %&gt;%\n  select(PersonID, 22:46) %&gt;%\n  gather(key = \"cte\", value = \"n.courses\", 2:ncol(.)) %&gt;%\n  filter(n.courses &gt; 0) %&gt;%\n  rename(cte.cw = cte) %&gt;%\n  select(PersonID, cte.cw, n.courses)\n\ngrad.cc.cw.naics &lt;- cc.cw.meaningful.emp %&gt;%\n  left_join(grad.cc, by = \"PersonID\") %&gt;%\n  mutate(cc.ind.match = ifelse(is.na(n.courses), -1,\n                               ifelse(cw.CareerCluster == cte.cw, 1, 0)),\n         cc.ind.match = ifelse(ind.code == 54, 1, cc.ind.match)) %&gt;%\n  group_by(PersonID, grad.years) %&gt;%\n  summarize(max.match = max(cc.ind.match)) %&gt;%\n  ungroup() %&gt;%\n  mutate(cc.ind.match = ifelse(max.match == -1, \"No CTE\",\n                               ifelse(max.match == 0, \"No ind match\", \"Ind match\")),\n         cc.ind.match = ifelse(is.na(cc.ind.match), \"No crosswalk\", cc.ind.match)) %&gt;%\n  select(PersonID, grad.years, cc.ind.match) %&gt;%\n  complete(PersonID, grad.years) %&gt;%\n  mutate(label = paste(\"ind.match.\", grad.years, sep = \"\")) %&gt;%\n  select(PersonID, label, cc.ind.match) %&gt;%\n  pivot_wider(names_from = label, values_from = cc.ind.match)\n\nmaster.personid.grad.cc.cw.naics &lt;- master.personid.grad.emp.location.match %&gt;%\n  left_join(grad.cc.cw.naics, by = \"PersonID\") %&gt;%\n  mutate(ind.match.hs.grad.year = ifelse(mn.emp.record.hs.grad.year == \"No MN emp record\", \"No MN emp record\", ind.match.hs.grad.year),\n         ind.match.hs.grad.year = ifelse(mn.emp.record.hs.grad.year == \"After 2023\", \"After 2023\", ind.match.hs.grad.year),\n         ind.match.hs.grad.year = ifelse(meaningful.emp.hs.grad.year == \"No meaningful emp\", \"No meaningful emp\", ind.match.hs.grad.year),\n         ind.match.hs.grad.year.2 = ifelse(mn.emp.record.hs.grad.year.2 == \"No MN emp record\", \"No MN emp record\", ind.match.hs.grad.year.2),\n         ind.match.hs.grad.year.2 = ifelse(mn.emp.record.hs.grad.year.2 == \"After 2023\", \"After 2023\", ind.match.hs.grad.year.2),\n         ind.match.hs.grad.year.2 = ifelse(meaningful.emp.hs.grad.year.2 == \"No meaningful emp\", \"No meaningful emp\", ind.match.hs.grad.year.2),\n         ind.match.hs.grad.year.7 = ifelse(mn.emp.record.hs.grad.year.7 == \"No MN emp record\", \"No MN emp record\", ind.match.hs.grad.year.7),\n         ind.match.hs.grad.year.7 = ifelse(mn.emp.record.hs.grad.year.7 == \"After 2023\", \"After 2023\", ind.match.hs.grad.year.7),\n         ind.match.hs.grad.year.7 = ifelse(meaningful.emp.hs.grad.year.7 == \"No meaningful emp\", \"No meaningful emp\", ind.match.hs.grad.year.7))\n\n\nkable(names(master.personid.grad.cc.cw.naics))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nmn.emp.record.hs.grad.year\n\n\nmn.emp.record.hs.grad.year.2\n\n\nmn.emp.record.hs.grad.year.7\n\n\nmeaningful.emp.hs.grad.year\n\n\nmeaningful.emp.hs.grad.year.2\n\n\nmeaningful.emp.hs.grad.year.7\n\n\nhs.grad.year.county.match\n\n\nhs.grad.year.2.county.match\n\n\nhs.grad.year.7.county.match\n\n\nhs.grad.year.edr.match\n\n\nhs.grad.year.2.edr.match\n\n\nhs.grad.year.7.edr.match\n\n\nhs.grad.year.region.match\n\n\nhs.grad.year.2.region.match\n\n\nhs.grad.year.7.region.match\n\n\nhs.grad.year.state.match\n\n\nhs.grad.year.2.state.match\n\n\nhs.grad.year.7.state.match\n\n\nind.match.hs.grad.year\n\n\nind.match.hs.grad.year.2\n\n\nind.match.hs.grad.year.7\n\n\n\n\nkable(head(master.personid.grad.cc.cw.naics))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nmn.emp.record.hs.grad.year\nmn.emp.record.hs.grad.year.2\nmn.emp.record.hs.grad.year.7\nmeaningful.emp.hs.grad.year\nmeaningful.emp.hs.grad.year.2\nmeaningful.emp.hs.grad.year.7\nhs.grad.year.county.match\nhs.grad.year.2.county.match\nhs.grad.year.7.county.match\nhs.grad.year.edr.match\nhs.grad.year.2.edr.match\nhs.grad.year.7.edr.match\nhs.grad.year.region.match\nhs.grad.year.2.region.match\nhs.grad.year.7.region.match\nhs.grad.year.state.match\nhs.grad.year.2.state.match\nhs.grad.year.7.state.match\nind.match.hs.grad.year\nind.match.hs.grad.year.2\nind.match.hs.grad.year.7\n\n\n\n\n55\nMN emp record\nNo MN emp record\nMN emp record\nNo meaningful emp\nNo MN emp record\nMeaningful emp\nNo meaningful emp\nNo MN emp record\nNo location match\nNo meaningful emp\nNo MN emp record\nNo location match\nNo meaningful emp\nNo MN emp record\nNo location match\nNo meaningful emp\nNo MN emp record\nLocation match\nNo meaningful emp\nNo MN emp record\nNo ind match\n\n\n181\nMN emp record\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\n\n\n280\nMN emp record\nMN emp record\nAfter 2023\nNo meaningful emp\nNo meaningful emp\nAfter 2023\nNo meaningful emp\nNo meaningful emp\nAfter 2023\nNo meaningful emp\nNo meaningful emp\nAfter 2023\nNo meaningful emp\nNo meaningful emp\nAfter 2023\nNo meaningful emp\nNo meaningful emp\nAfter 2023\nNo meaningful emp\nNo meaningful emp\nAfter 2023\n\n\n301\nMN emp record\nAfter 2023\nAfter 2023\nNo meaningful emp\nAfter 2023\nAfter 2023\nNo meaningful emp\nAfter 2023\nAfter 2023\nNo meaningful emp\nAfter 2023\nAfter 2023\nNo meaningful emp\nAfter 2023\nAfter 2023\nNo meaningful emp\nAfter 2023\nAfter 2023\nNo meaningful emp\nAfter 2023\nAfter 2023\n\n\n304\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\n\n\n412\nNo MN emp record\nNo MN emp record\nMN emp record\nNo MN emp record\nNo MN emp record\nNo meaningful emp\nNo MN emp record\nNo MN emp record\nNo meaningful emp\nNo MN emp record\nNo MN emp record\nNo meaningful emp\nNo MN emp record\nNo MN emp record\nNo meaningful emp\nNo MN emp record\nNo MN emp record\nNo meaningful emp\nNo MN emp record\nNo MN emp record\nNo meaningful emp\n\n\n\n\n\n\nThe dataset above provides each PersonID with meaningful employment in the master dataset and whether they took a CTE course that matches the industry in which they worked at any of the grad years. There are 65,764 rows and 4 columns.\n\n\nmaster.10 &lt;- read_csv(\"Data/SLEDS/Masters/Master-10.csv\")\n\nmaster.11 &lt;- master.10 %&gt;%\n  left_join(master.personid.grad.cc.cw.naics, by = \"PersonID\") %&gt;%\n  mutate(Dem_Desc = fct_relevel(Dem_Desc, \"Town/rural mix\", \"Urban/town/rural mix\", \"Entirely urban\"))\n\nkable(names(master.11))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nK12OrganizationID\n\n\nOrganizationName\n\n\ncounty.name\n\n\ncountyfp\n\n\nDem_Desc\n\n\nedr\n\n\nhs.grad.year\n\n\ngrad.year.covid\n\n\nGender\n\n\nLimitedEnglishProficiencyIndicator\n\n\nHomelessIndicator\n\n\neconomic.status\n\n\npseo.participant\n\n\nSpecialEdStatus\n\n\nnon.english.home\n\n\nRaceEthnicity\n\n\nn.years.attended\n\n\nACTCompositeScore\n\n\nap.exam\n\n\ntotal.cte.courses.taken\n\n\nACTE-SPED\n\n\nAgriculture, Food, and Natural Resources\n\n\nArchitecture & Construction\n\n\nArts, A/V Technology & Communication\n\n\nBusiness, Management & Administrative\n\n\nDiversified\n\n\nEducation & Training\n\n\nFinance\n\n\nGovernment & Public Administration\n\n\nHealth Science\n\n\nHospitality & Tourism\n\n\nHuman Services\n\n\nInformation Technology\n\n\nLaw, Public Safety & Security\n\n\nManufacturing\n\n\nMarketing\n\n\nProgram Area (Diversified)\n\n\nScience, Technology, Engineering, & Mathematics\n\n\nSTEM\n\n\nTransportation, Distribution & Logistics\n\n\nWork Experience-Handicapped\n\n\nWork Experience-Handicapped (16-20+ on IEP)\n\n\nWork Experience/Career Exploration (age 14-15 on I\n\n\nWork-Experience-Disadvantaged\n\n\nYouth Apprenticeship\n\n\ncte.achievement\n\n\nenglish.learner\n\n\nMCA.M\n\n\nMCA.R\n\n\nMCA.S\n\n\nsat.taken\n\n\nattended.ps\n\n\nfirst.attend.ps\n\n\nattended.ps.first.year\n\n\nattended.ps.years.hsgrad\n\n\nattended.ps.within.first.year.hsgrad\n\n\nn.institutions\n\n\nfirst.InstitutionSector\n\n\nps.sector.1\n\n\nps.sector.2\n\n\nps.sector.3\n\n\nps.sector.4\n\n\nps.sector.5\n\n\nps.sector.6\n\n\nps.sector.7\n\n\nps.sector.8\n\n\nps.sector.9\n\n\nps.attended.in.same.ruca\n\n\nps.attended.in.same.edr\n\n\nps.attended.in.same.pr\n\n\nps.attended.in.MN\n\n\nps.grad\n\n\nmin.ps.grad.year\n\n\nmax.ps.grad.year\n\n\nyears.between.grads\n\n\nps.grad.InstitutionSector\n\n\nhighest.cred.level\n\n\nps.grad.in.same.ruca\n\n\nps.grad.in.same.edr\n\n\nps.grad.in.same.pr\n\n\nps.grad.in.MN\n\n\nmn.emp.record.hs.grad.year\n\n\nmn.emp.record.hs.grad.year.2\n\n\nmn.emp.record.hs.grad.year.7\n\n\nmeaningful.emp.hs.grad.year\n\n\nmeaningful.emp.hs.grad.year.2\n\n\nmeaningful.emp.hs.grad.year.7\n\n\nhs.grad.year.county.match\n\n\nhs.grad.year.2.county.match\n\n\nhs.grad.year.7.county.match\n\n\nhs.grad.year.edr.match\n\n\nhs.grad.year.2.edr.match\n\n\nhs.grad.year.7.edr.match\n\n\nhs.grad.year.region.match\n\n\nhs.grad.year.2.region.match\n\n\nhs.grad.year.7.region.match\n\n\nhs.grad.year.state.match\n\n\nhs.grad.year.2.state.match\n\n\nhs.grad.year.7.state.match\n\n\nind.match.hs.grad.year\n\n\nind.match.hs.grad.year.2\n\n\nind.match.hs.grad.year.7\n\n\n\n\nemployment.master &lt;- read_csv(\"Data/SLEDS/Masters/Master-1.csv\") %&gt;%\n  select(PersonID) %&gt;%\n  left_join(master.personid.grad.cc.cw.naics, by = \"PersonID\")\n\nwrite_csv(employment.master, \"Data/SLEDS/Masters/employment_master.csv\")"
  },
  {
    "objectID": "employment.html#county-employment-match",
    "href": "employment.html#county-employment-match",
    "title": "Employment",
    "section": "County employment match",
    "text": "County employment match\nFirst, let’s look what percentage of individuals had an employment instance where the employer was located in the same county as their high school.\nThe table below shows that 13% of the individuals in the master dataset had meaningful employment in the same county as their high school the year they graduated. It increased to 19% two years after graduation and then 21% seven years after graduation. These percentages are after filtering out all of the “After 2023” category.\n\n\nmatch.region.summary.total.county &lt;- master.11 %&gt;%\n  select(PersonID, hs.grad.year.county.match, hs.grad.year.2.county.match, hs.grad.year.7.county.match) %&gt;%\n  gather(key = \"hs.grad.year\", value = \"county.match\", 2:4) %&gt;%\n  filter(county.match != \"After 2023\") %&gt;%\n  group_by(hs.grad.year, county.match) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(hs.grad.year) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = seq(n()),\n         hs.grad.year = str_sub(hs.grad.year, 1, 14),\n         hs.grad.year = str_replace(hs.grad.year, \"hs.grad.year.c\", \"hs.grad.year\"))\n\nmatch.region.summary.total.county.plot &lt;- ggplot(match.region.summary.total.county, aes(hs.grad.year, pct, fill = county.match, group = county.match)) +\n  geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(hs.grad.year, \"\\nEmployment match high school county? - \", county.match, sep = \"\"))) +\n  geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"white\", size = 5, position = position_dodge(width = .9)) +\n  coord_flip() +\n  labs(x=\"\", y = \"\", color=\"\", title = \"Percent of individuals with meaningful employment in high school\\ncounty\")+\n  scale_y_continuous(labels=scales::percent)+\n  theme_bar+\n  scale_fill_manual(values = brewer.pal(n = 6, \"RdYlBu\"),\n                    guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"bottom\",\n        text = element_text(size = 18))\n\n\ngirafe(ggobj = match.region.summary.total.county.plot, width_svg = 10, height_svg = 10) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))      \n\n\n\n\n\n\nNext, let’s check the differences by RUCA category.\nCrosstabs indicate a relationship. The primary difference is that town/rural mix districts tend to have a lower percentage of individuals with meaningful employment in the same county as their high school.\n\n\nRUCA Cross tabs\n\nRUCA - Chart pctRUCA - cross-tabs\n\n\n\nmatch.region.summary.total.county.ruca &lt;- master.11 %&gt;%\n  select(Dem_Desc, hs.grad.year.county.match, hs.grad.year.2.county.match, hs.grad.year.7.county.match) %&gt;%\n  gather(key = \"hs.grad.year\", value = \"county.match\", 2:4) %&gt;%\n  filter(county.match != \"After 2023\") %&gt;%\n  group_by(Dem_Desc, hs.grad.year, county.match) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(Dem_Desc, hs.grad.year) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = seq(n()),\n         hs.grad.year = str_sub(hs.grad.year, 1, 14),\n         hs.grad.year = str_replace(hs.grad.year, \"hs.grad.year.c\", \"hs.grad.year\"))\n\nmatch.region.summary.total.county.ruca.plot &lt;- ggplot(match.region.summary.total.county.ruca, aes(hs.grad.year, pct, fill = county.match, group = county.match)) +\n  facet_wrap(~Dem_Desc, ncol = 2) +\n  geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(Dem_Desc, \"\\n\", hs.grad.year, \"\\nEmployment match high school county? - \", county.match, sep = \"\"))) +\n  geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"white\", size = 5, position = position_dodge(width = .9)) +\n  coord_flip() +\n  labs(x=\"\", y = \"\", color=\"\", title = \"Percent of individuals with meaningful employment in high school county\")+\n  scale_y_continuous(labels=scales::percent)+\n  theme_bar+\n  scale_fill_manual(values = brewer.pal(n = 6, \"RdYlBu\"),\n                    guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"bottom\",\n        text = element_text(size = 18))\n\n\ngirafe(ggobj = match.region.summary.total.county.ruca.plot, width_svg = 10, height_svg = 10) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE)) \n\n\n\n\n\n\n\n\ndata &lt;- master.11 %&gt;%\n  select(Dem_Desc, hs.grad.year.county.match) %&gt;%\n  filter(hs.grad.year.county.match != \"After 2023\")\n\ndata.2 &lt;- master.11 %&gt;%\n  select(Dem_Desc, hs.grad.year.2.county.match) %&gt;%\n  filter(hs.grad.year.2.county.match != \"After 2023\")\n\ndata.7 &lt;- master.11 %&gt;%\n  select(Dem_Desc, hs.grad.year.7.county.match) %&gt;%\n  filter(hs.grad.year.7.county.match != \"After 2023\")\n\nCrossTable(data$Dem_Desc, data$hs.grad.year.county.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                     | data$hs.grad.year.county.match \n       data$Dem_Desc |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Town/rural mix |              3308 |              1574 |             13097 |              4041 |               103 |             22123 | \n                     |          2899.934 |          1728.624 |         12683.772 |          4710.796 |            99.874 |                   | \n                     |             0.150 |             0.071 |             0.592 |             0.183 |             0.005 |             0.180 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nUrban/town/rural mix |              7369 |              4979 |             32842 |             13555 |               254 |             58999 | \n                     |          7733.727 |          4610.002 |         33825.876 |         12563.047 |           266.349 |                   | \n                     |             0.125 |             0.084 |             0.557 |             0.230 |             0.004 |             0.480 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Entirely urban |              5438 |              3053 |             24545 |              8582 |               198 |             41816 | \n                     |          5481.339 |          3267.375 |         23974.352 |          8904.157 |           188.777 |                   | \n                     |             0.130 |             0.073 |             0.587 |             0.205 |             0.005 |             0.340 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n        Column Total |             16115 |              9606 |             70484 |             26178 |               555 |            122938 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  374.3927     d.f. =  8     p =  5.589502e-76 \n\n\n \n\nCrossTable(data.2$Dem_Desc, data.2$hs.grad.year.2.county.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  106980 \n\n \n                     | data.2$hs.grad.year.2.county.match \n     data.2$Dem_Desc |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Town/rural mix |              3853 |              3497 |              7807 |              4083 |               145 |             19385 | \n                     |          3644.518 |          3459.692 |          7628.427 |          4509.395 |           142.968 |                   | \n                     |             0.199 |             0.180 |             0.403 |             0.211 |             0.007 |             0.181 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nUrban/town/rural mix |              8922 |             10281 |             19605 |             12387 |               375 |             51570 | \n                     |          9695.526 |          9203.833 |         20293.937 |         11996.364 |           380.340 |                   | \n                     |             0.173 |             0.199 |             0.380 |             0.240 |             0.007 |             0.482 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Entirely urban |              7338 |              5315 |             14687 |              8416 |               269 |             36025 | \n                     |          6772.956 |          6429.476 |         14176.636 |          8380.241 |           265.692 |                   | \n                     |             0.204 |             0.148 |             0.408 |             0.234 |             0.007 |             0.337 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n        Column Total |             20113 |             19093 |             42099 |             24886 |               789 |            106980 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  539.707     d.f. =  8     p =  2.10956e-111 \n\n\n \n\nCrossTable(data.7$Dem_Desc, data.7$hs.grad.year.7.county.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  68975 \n\n \n                     | data.7$hs.grad.year.7.county.match \n     data.7$Dem_Desc |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Town/rural mix |              2765 |              4878 |              1245 |              3810 |               144 |             12842 | \n                     |          2637.846 |          4837.976 |          1310.545 |          3913.761 |           141.872 |                   | \n                     |             0.215 |             0.380 |             0.097 |             0.297 |             0.011 |             0.186 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nUrban/town/rural mix |              5601 |             13928 |              3418 |             10209 |               376 |             33532 | \n                     |          6887.733 |         12632.534 |          3421.990 |         10219.299 |           370.444 |                   | \n                     |             0.167 |             0.415 |             0.102 |             0.304 |             0.011 |             0.486 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Entirely urban |              5802 |              7179 |              2376 |              7002 |               242 |             22601 | \n                     |          4642.421 |          8514.491 |          2306.465 |          6887.939 |           249.684 |                   | \n                     |             0.257 |             0.318 |             0.105 |             0.310 |             0.011 |             0.328 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n        Column Total |             14168 |             25985 |              7039 |             21021 |               762 |             68975 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  889.1817     d.f. =  8     p =  1.217085e-186 \n\n\n \n\n\n\n\n\n\n\n\nEDR Cross tabs\nNext, let’s check the differences by EDR.\nCrosstabs indicate a relationship. The biggest differnce is that EDR 9 tends to have slightly lower percentages of individuals with meaningful employment in the county.\n\n\n\n\nEDR - Chart pctEDR - cross-tabs\n\n\n\nmatch.region.summary.total.county.edr &lt;- master.11 %&gt;%\n  select(edr, hs.grad.year.county.match, hs.grad.year.2.county.match, hs.grad.year.7.county.match) %&gt;%\n  gather(key = \"hs.grad.year\", value = \"county.match\", 2:4) %&gt;%\n  filter(county.match != \"After 2023\") %&gt;%\n  group_by(edr, hs.grad.year, county.match) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(edr, hs.grad.year) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = seq(n()),\n         hs.grad.year = str_sub(hs.grad.year, 1, 14),\n         hs.grad.year = str_replace(hs.grad.year, \"hs.grad.year.c\", \"hs.grad.year\"))\n\nmatch.region.summary.total.county.edr.plot &lt;- ggplot(match.region.summary.total.county.edr, aes(hs.grad.year, pct, fill = county.match, group = county.match)) +\n  facet_wrap(~edr, ncol = 2) +\n  geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(edr, \"\\n\", hs.grad.year, \"\\nEmployment match high school county? - \", county.match, sep = \"\"))) +\n  geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"white\", size = 5, position = position_dodge(width = .9)) +\n  coord_flip() +\n  labs(x=\"\", y = \"\", color=\"\", title = \"Percent of individuals with meaningful employment in high school county\")+\n  scale_y_continuous(labels=scales::percent)+\n  theme_bar+\n  scale_fill_manual(values = brewer.pal(n = 6, \"RdYlBu\"),\n                    guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"bottom\",\n        text = element_text(size = 18))\n\n\ngirafe(ggobj = match.region.summary.total.county.edr.plot, width_svg = 10, height_svg = 10) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE)) \n\n\n\n\n\n\n\n\ndata &lt;- master.11 %&gt;%\n  select(edr, hs.grad.year.county.match) %&gt;%\n  filter(hs.grad.year.county.match != \"After 2023\")\n\ndata.2 &lt;- master.11 %&gt;%\n  select(edr, hs.grad.year.2.county.match) %&gt;%\n  filter(hs.grad.year.2.county.match != \"After 2023\")\n\ndata.7 &lt;- master.11 %&gt;%\n  select(edr, hs.grad.year.7.county.match) %&gt;%\n  filter(hs.grad.year.7.county.match != \"After 2023\")\n\nCrossTable(data$edr, data$hs.grad.year.county.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                      | data$hs.grad.year.county.match \n             data$edr |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n   EDR 10 - Southeast |             11903 |              6359 |             49529 |             19192 |               363 |             87346 | \n                      |         11449.518 |          6824.950 |         50078.051 |         18599.160 |           394.321 |                   | \n                      |             0.136 |             0.073 |             0.567 |             0.220 |             0.004 |             0.710 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nEDR 9 - South Central |              4212 |              3247 |             20955 |              6986 |               192 |             35592 | \n                      |          4665.482 |          2781.050 |         20405.949 |          7578.840 |           160.679 |                   | \n                      |             0.118 |             0.091 |             0.589 |             0.196 |             0.005 |             0.290 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n         Column Total |             16115 |              9606 |             70484 |             26178 |               555 |            122938 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  266.5739     d.f. =  4     p =  1.746777e-56 \n\n\n \n\nCrossTable(data.2$edr, data.2$hs.grad.year.2.county.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  106980 \n\n \n                      | data.2$hs.grad.year.2.county.match \n           data.2$edr |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n   EDR 10 - Southeast |             14691 |             12401 |             29844 |             18352 |               530 |             75818 | \n                      |         14254.323 |         13531.436 |         29836.063 |         17637.005 |           559.174 |                   | \n                      |             0.194 |             0.164 |             0.394 |             0.242 |             0.007 |             0.709 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nEDR 9 - South Central |              5422 |              6692 |             12255 |              6534 |               259 |             31162 | \n                      |          5858.677 |          5561.564 |         12262.937 |          7248.995 |           229.826 |                   | \n                      |             0.174 |             0.215 |             0.393 |             0.210 |             0.008 |             0.291 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n         Column Total |             20113 |             19093 |             42099 |             24886 |               789 |            106980 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  474.8756     d.f. =  4     p =  1.817414e-101 \n\n\n \n\nCrossTable(data.7$edr, data.7$hs.grad.year.7.county.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  68975 \n\n \n                      | data.7$hs.grad.year.7.county.match \n           data.7$edr |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n   EDR 10 - Southeast |             10516 |             17303 |              4973 |             15414 |               503 |             48709 | \n                      |         10005.206 |         18350.176 |          4970.825 |         14844.681 |           538.112 |                   | \n                      |             0.216 |             0.355 |             0.102 |             0.316 |             0.010 |             0.706 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nEDR 9 - South Central |              3652 |              8682 |              2066 |              5607 |               259 |             20266 | \n                      |          4162.794 |          7634.824 |          2068.175 |          6176.319 |           223.888 |                   | \n                      |             0.180 |             0.428 |             0.102 |             0.277 |             0.013 |             0.294 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n         Column Total |             14168 |             25985 |              7039 |             21021 |               762 |             68975 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  374.2544     d.f. =  4     p =  1.014254e-79"
  },
  {
    "objectID": "employment.html#edr-employment-match",
    "href": "employment.html#edr-employment-match",
    "title": "Employment",
    "section": "EDR employment match",
    "text": "EDR employment match\nNext we will look at the percentage of individuals that have meaningful employment in the EDR the year they graduate, two years after graduating, and seven years after graduating.\nThe chart below shows that 16% of individuals in the main dataset had meaningful employment in the edr the year of graduation. The percent increases to 34% of individuals seven years after graduating. All “After 2023” individuals were taken out.\n\n\nmatch.edr.summary.total.edr &lt;- master.11 %&gt;%\n  select(PersonID, hs.grad.year.edr.match, hs.grad.year.2.edr.match, hs.grad.year.7.edr.match) %&gt;%\n  gather(key = \"hs.grad.year\", value = \"edr.match\", 2:4) %&gt;%\n  filter(edr.match != \"After 2023\") %&gt;%\n  group_by(hs.grad.year, edr.match) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(hs.grad.year) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = seq(n()),\n         hs.grad.year = str_sub(hs.grad.year, 1, 14),\n         hs.grad.year = str_replace(hs.grad.year, \"hs.grad.year.e\", \"hs.grad.year\"))\n\nmatch.edr.summary.total.edr.plot &lt;- ggplot(match.edr.summary.total.edr, aes(hs.grad.year, pct, fill = edr.match, group = edr.match)) +\n  geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(hs.grad.year, \"\\nEmployment match high school edr? - \", edr.match, sep = \"\"))) +\n  geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"white\", size = 5, position = position_dodge(width = .9)) +\n  coord_flip() +\n  labs(x=\"\", y = \"\", color=\"\", title = \"Percent of individuals with meaningful employment in edr\")+\n  scale_y_continuous(labels=scales::percent)+\n  theme_bar+\n  scale_fill_manual(values = brewer.pal(n = 6, \"RdYlBu\"),\n                    guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"bottom\",\n        text = element_text(size = 18))\n\n\ngirafe(ggobj = match.edr.summary.total.edr.plot, width_svg = 10, height_svg = 10) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))      \n\n\n\n\n\n\n\nRUCA Cross-tabs\nNext let’s analyze by RUCA.\nRelationship confirmed for each timeyearX.\nBy 7 years after graduating high school, a significantly higher percentage of graduates from entirely urban districts have meaningful employment in the same EDR as their high school - 37% compared to ~33% for the other RUCA categories.\n\n\nRUCA - chartRUCA - cross-tabs\n\n\n\nmatch.edr.summary.ruca.edr &lt;- master.11 %&gt;%\n  select(Dem_Desc, hs.grad.year.edr.match, hs.grad.year.2.edr.match, hs.grad.year.7.edr.match) %&gt;%\n  gather(key = \"hs.grad.year\", value = \"edr.match\", 2:4) %&gt;%\n  filter(edr.match != \"After 2023\") %&gt;%\n  group_by(Dem_Desc, hs.grad.year, edr.match) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(Dem_Desc, hs.grad.year) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = seq(n()),\n         hs.grad.year = str_sub(hs.grad.year, 1, 14),\n         hs.grad.year = str_replace(hs.grad.year, \"hs.grad.year.e\", \"hs.grad.year\"))\n\nmatch.edr.summary.ruca.edr.plot &lt;- ggplot(match.edr.summary.ruca.edr, aes(hs.grad.year, pct, fill = edr.match, group = edr.match)) +\n  facet_wrap(~Dem_Desc, ncol = 2) +\n  geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(hs.grad.year, \"\\nEmployment match high school edr? - \", edr.match, sep = \"\"))) +\n  geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"white\", size = 5, position = position_dodge(width = .9)) +\n  coord_flip() +\n  labs(x=\"\", y = \"\", color=\"\", title = \"Percent of individuals with meaningful employment in edr\")+\n  scale_y_continuous(labels=scales::percent)+\n  theme_bar+\n  scale_fill_manual(values = brewer.pal(n = 6, \"RdYlBu\"),\n                    guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"bottom\",\n        text = element_text(size = 18))\n\n\ngirafe(ggobj = match.edr.summary.ruca.edr.plot, width_svg = 10, height_svg = 10) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))      \n\n\n\n\n\n\n\n\ndata &lt;- master.11 %&gt;%\n  select(Dem_Desc, hs.grad.year.edr.match) %&gt;%\n  filter(hs.grad.year.edr.match != \"After 2023\")\n\ndata.2 &lt;- master.11 %&gt;%\n  select(Dem_Desc, hs.grad.year.2.edr.match) %&gt;%\n  filter(hs.grad.year.2.edr.match != \"After 2023\")\n\ndata.7 &lt;- master.11 %&gt;%\n  select(Dem_Desc, hs.grad.year.7.edr.match) %&gt;%\n  filter(hs.grad.year.7.edr.match != \"After 2023\")\n\n\nCrossTable(data$Dem_Desc, data$hs.grad.year.edr.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                     | data$hs.grad.year.edr.match \n       data$Dem_Desc |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Town/rural mix |              3859 |              1023 |             13097 |              4041 |               103 |             22123 | \n                     |          3584.474 |          1044.084 |         12683.772 |          4710.796 |            99.874 |                   | \n                     |             0.174 |             0.046 |             0.592 |             0.183 |             0.005 |             0.180 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nUrban/town/rural mix |              9499 |              2849 |             32842 |             13555 |               254 |             58999 | \n                     |          9559.299 |          2784.430 |         33825.876 |         12563.047 |           266.349 |                   | \n                     |             0.161 |             0.048 |             0.557 |             0.230 |             0.004 |             0.480 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Entirely urban |              6561 |              1930 |             24545 |              8582 |               198 |             41816 | \n                     |          6775.227 |          1973.486 |         23974.352 |          8904.157 |           188.777 |                   | \n                     |             0.157 |             0.046 |             0.587 |             0.205 |             0.005 |             0.340 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n        Column Total |             19919 |              5802 |             70484 |             26178 |               555 |            122938 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  273.0571     d.f. =  8     p =  2.205494e-54 \n\n\n \n\nCrossTable(data.2$Dem_Desc, data.2$hs.grad.year.2.edr.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  106980 \n\n \n                     | data.2$hs.grad.year.2.edr.match \n     data.2$Dem_Desc |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Town/rural mix |              5125 |              2225 |              7807 |              4083 |               145 |             19385 | \n                     |          5066.592 |          2037.618 |          7628.427 |          4509.395 |           142.968 |                   | \n                     |             0.264 |             0.115 |             0.403 |             0.211 |             0.007 |             0.181 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nUrban/town/rural mix |             13435 |              5768 |             19605 |             12387 |               375 |             51570 | \n                     |         13478.676 |          5420.683 |         20293.937 |         11996.364 |           380.340 |                   | \n                     |             0.261 |             0.112 |             0.380 |             0.240 |             0.007 |             0.482 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Entirely urban |              9401 |              3252 |             14687 |              8416 |               269 |             36025 | \n                     |          9415.732 |          3786.700 |         14176.636 |          8380.241 |           265.692 |                   | \n                     |             0.261 |             0.090 |             0.408 |             0.234 |             0.007 |             0.337 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n        Column Total |             27961 |             11245 |             42099 |             24886 |               789 |            106980 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  215.1035     d.f. =  8     p =  4.166106e-42 \n\n\n \n\nCrossTable(data.7$Dem_Desc, data.7$hs.grad.year.7.edr.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  68975 \n\n \n                     | data.7$hs.grad.year.7.edr.match \n     data.7$Dem_Desc |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Town/rural mix |              4333 |              3310 |              1245 |              3810 |               144 |             12842 | \n                     |          4368.793 |          3107.029 |          1310.545 |          3913.761 |           141.872 |                   | \n                     |             0.337 |             0.258 |             0.097 |             0.297 |             0.011 |             0.186 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nUrban/town/rural mix |             10816 |              8713 |              3418 |             10209 |               376 |             33532 | \n                     |         11407.443 |          8112.824 |          3421.990 |         10219.299 |           370.444 |                   | \n                     |             0.323 |             0.260 |             0.102 |             0.304 |             0.011 |             0.486 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Entirely urban |              8316 |              4665 |              2376 |              7002 |               242 |             22601 | \n                     |          7688.764 |          5468.148 |          2306.465 |          6887.939 |           249.684 |                   | \n                     |             0.368 |             0.206 |             0.105 |             0.310 |             0.011 |             0.328 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n        Column Total |             23465 |             16688 |              7039 |             21021 |               762 |             68975 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  268.1317     d.f. =  8     p =  2.451911e-53 \n\n\n \n\n\n\n\n\n\n\n\nEDR Cross-tabs\nNext let’s analyze by EDR.\nRelationship confirmed for each timeyearX.\nBy 7 years after graduating high school, EDR 10 graduates have a higher liklihood to have meaningful employment in the same EDR as their high school.\n\n\nEDR - chartEDR - cross-tabs\n\n\n\nmatch.edr.summary.edr.edr &lt;- master.11 %&gt;%\n  select(edr, hs.grad.year.edr.match, hs.grad.year.2.edr.match, hs.grad.year.7.edr.match) %&gt;%\n  gather(key = \"hs.grad.year\", value = \"edr.match\", 2:4) %&gt;%\n  filter(edr.match != \"After 2023\") %&gt;%\n  group_by(edr, hs.grad.year, edr.match) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(edr, hs.grad.year) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = seq(n()),\n         hs.grad.year = str_sub(hs.grad.year, 1, 14),\n         hs.grad.year = str_replace(hs.grad.year, \"hs.grad.year.e\", \"hs.grad.year\"))\n\nmatch.edr.summary.edr.edr.plot &lt;- ggplot(match.edr.summary.edr.edr, aes(hs.grad.year, pct, fill = edr.match, group = edr.match)) +\n  facet_wrap(~edr, ncol = 2) +\n  geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(hs.grad.year, \"\\nEmployment match high school edr? - \", edr.match, sep = \"\"))) +\n  geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"white\", size = 5, position = position_dodge(width = .9)) +\n  coord_flip() +\n  labs(x=\"\", y = \"\", color=\"\", title = \"Percent of individuals with meaningful employment in edr\")+\n  scale_y_continuous(labels=scales::percent)+\n  theme_bar+\n  scale_fill_manual(values = brewer.pal(n = 6, \"RdYlBu\"),\n                    guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"bottom\",\n        text = element_text(size = 18))\n\n\ngirafe(ggobj = match.edr.summary.edr.edr.plot, width_svg = 10, height_svg = 10) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))      \n\n\n\n\n\n\n\n\ndata &lt;- master.11 %&gt;%\n  select(edr, hs.grad.year.edr.match) %&gt;%\n  filter(hs.grad.year.edr.match != \"After 2023\")\n\ndata.2 &lt;- master.11 %&gt;%\n  select(edr, hs.grad.year.2.edr.match) %&gt;%\n  filter(hs.grad.year.2.edr.match != \"After 2023\")\n\ndata.7 &lt;- master.11 %&gt;%\n  select(edr, hs.grad.year.7.edr.match) %&gt;%\n  filter(hs.grad.year.7.edr.match != \"After 2023\")\n\n\nCrossTable(data$edr, data$hs.grad.year.edr.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                      | data$hs.grad.year.edr.match \n             data$edr |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n   EDR 10 - Southeast |             14477 |              3785 |             49529 |             19192 |               363 |             87346 | \n                      |         14152.215 |          4122.253 |         50078.051 |         18599.160 |           394.321 |                   | \n                      |             0.166 |             0.043 |             0.567 |             0.220 |             0.004 |             0.710 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nEDR 9 - South Central |              5442 |              2017 |             20955 |              6986 |               192 |             35592 | \n                      |          5766.785 |          1679.747 |         20405.949 |          7578.840 |           160.679 |                   | \n                      |             0.153 |             0.057 |             0.589 |             0.196 |             0.005 |             0.290 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n         Column Total |             19919 |              5802 |             70484 |             26178 |               555 |            122938 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  215.7054     d.f. =  4     p =  1.574041e-45 \n\n\n \n\nCrossTable(data.2$edr, data.2$hs.grad.year.2.edr.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  106980 \n\n \n                      | data.2$hs.grad.year.2.edr.match \n           data.2$edr |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n   EDR 10 - Southeast |             19859 |              7233 |             29844 |             18352 |               530 |             75818 | \n                      |         19816.294 |          7969.465 |         29836.063 |         17637.005 |           559.174 |                   | \n                      |             0.262 |             0.095 |             0.394 |             0.242 |             0.007 |             0.709 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nEDR 9 - South Central |              8102 |              4012 |             12255 |              6534 |               259 |             31162 | \n                      |          8144.706 |          3275.535 |         12262.937 |          7248.995 |           229.826 |                   | \n                      |             0.260 |             0.129 |             0.393 |             0.210 |             0.008 |             0.291 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n         Column Total |             27961 |             11245 |             42099 |             24886 |               789 |            106980 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  338.6998     d.f. =  4     p =  4.82636e-72 \n\n\n \n\nCrossTable(data.7$edr, data.7$hs.grad.year.7.edr.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  68975 \n\n \n                      | data.7$hs.grad.year.7.edr.match \n           data.7$edr |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n   EDR 10 - Southeast |             17144 |             10675 |              4973 |             15414 |               503 |             48709 | \n                      |         16570.593 |         11784.789 |          4970.825 |         14844.681 |           538.112 |                   | \n                      |             0.352 |             0.219 |             0.102 |             0.316 |             0.010 |             0.706 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nEDR 9 - South Central |              6321 |              6013 |              2066 |              5607 |               259 |             20266 | \n                      |          6894.407 |          4903.211 |          2068.175 |          6176.319 |           223.888 |                   | \n                      |             0.312 |             0.297 |             0.102 |             0.277 |             0.013 |             0.294 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n         Column Total |             23465 |             16688 |              7039 |             21021 |               762 |             68975 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  505.3446     d.f. =  4     p =  4.678402e-108"
  },
  {
    "objectID": "employment.html#region-employment-match",
    "href": "employment.html#region-employment-match",
    "title": "Employment",
    "section": "Region employment match",
    "text": "Region employment match\nNext we will look at the percentage of individuals that have meaningful employment in the research region the year they graduate, two years after graduating, and seven years after graduating.\nThe chart below shows that 17% of individuals in the main dataset had meaningful employment in the region the year of graduation. The percent increases to 37% of individuals seven years after graduating. All “After 2023” individuals were taken out.\n\n\nmatch.region.summary.total.region &lt;- master.11 %&gt;%\n  select(PersonID, hs.grad.year.region.match, hs.grad.year.2.region.match, hs.grad.year.7.region.match) %&gt;%\n  gather(key = \"hs.grad.year\", value = \"region.match\", 2:4) %&gt;%\n  filter(region.match != \"After 2023\") %&gt;%\n  group_by(hs.grad.year, region.match) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(hs.grad.year) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = seq(n()),\n         hs.grad.year = str_sub(hs.grad.year, 1, 14),\n         hs.grad.year = str_replace(hs.grad.year, \"hs.grad.year.r\", \"hs.grad.year\"))\n\nmatch.region.summary.total.region.plot &lt;- ggplot(match.region.summary.total.region, aes(hs.grad.year, pct, fill = region.match, group = region.match)) +\n  geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(hs.grad.year, \"\\nEmployment match high school region? - \", region.match, sep = \"\"))) +\n  geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"white\", size = 5, position = position_dodge(width = .9)) +\n  coord_flip() +\n  labs(x=\"\", y = \"\", color=\"\", title = \"Percent of individuals with meaningful employment in region\")+\n  scale_y_continuous(labels=scales::percent)+\n  theme_bar+\n  scale_fill_manual(values = brewer.pal(n = 6, \"RdYlBu\"),\n                    guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"bottom\",\n        text = element_text(size = 18))\n\n\ngirafe(ggobj = match.region.summary.total.region.plot, width_svg = 10, height_svg = 10) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))      \n\n\n\n\n\n\n\nRUCA Cross-tabs\nNext let’s analyze by RUCA.\nRelationship confirmed for two years and seven years after graduating high school.\nThe differences are minimal.\n\n\nRUCA - chartRUCA - cross-tabs\n\n\n\nmatch.region.summary.ruca.region &lt;- master.11 %&gt;%\n  select(Dem_Desc, hs.grad.year.region.match, hs.grad.year.2.region.match, hs.grad.year.7.region.match) %&gt;%\n  gather(key = \"hs.grad.year\", value = \"region.match\", 2:4) %&gt;%\n  filter(region.match != \"After 2023\") %&gt;%\n  group_by(Dem_Desc, hs.grad.year, region.match) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(Dem_Desc, hs.grad.year) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = seq(n()),\n         hs.grad.year = str_sub(hs.grad.year, 1, 14),\n         hs.grad.year = str_replace(hs.grad.year, \"hs.grad.year.r\", \"hs.grad.year\"))\n\nmatch.region.summary.ruca.region.plot &lt;- ggplot(match.region.summary.ruca.region, aes(hs.grad.year, pct, fill = region.match, group = region.match)) +\n  facet_wrap(~Dem_Desc, ncol = 2) +\n  geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(hs.grad.year, \"\\nEmployment match high school region? - \", region.match, sep = \"\"))) +\n  geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"white\", size = 5, position = position_dodge(width = .9)) +\n  coord_flip() +\n  labs(x=\"\", y = \"\", color=\"\", title = \"Percent of individuals with meaningful employment in region\")+\n  scale_y_continuous(labels=scales::percent)+\n  theme_bar+\n  scale_fill_manual(values = brewer.pal(n = 6, \"RdYlBu\"),\n                    guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"bottom\",\n        text = element_text(size = 18))\n\n\ngirafe(ggobj = match.region.summary.ruca.region.plot, width_svg = 10, height_svg = 10) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))      \n\n\n\n\n\n\n\n\ndata &lt;- master.11 %&gt;%\n  select(Dem_Desc, hs.grad.year.region.match) %&gt;%\n  filter(hs.grad.year.region.match != \"After 2023\")\n\ndata.2 &lt;- master.11 %&gt;%\n  select(Dem_Desc, hs.grad.year.2.region.match) %&gt;%\n  filter(hs.grad.year.2.region.match != \"After 2023\")\n\ndata.7 &lt;- master.11 %&gt;%\n  select(Dem_Desc, hs.grad.year.7.region.match) %&gt;%\n  filter(hs.grad.year.7.region.match != \"After 2023\")\n\n\nCrossTable(data$Dem_Desc, data$hs.grad.year.region.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                     | data$hs.grad.year.region.match \n       data$Dem_Desc |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Town/rural mix |              4049 |               833 |             13097 |              4041 |               103 |             22123 | \n                     |          3733.834 |           894.724 |         12683.772 |          4710.796 |            99.874 |                   | \n                     |             0.183 |             0.038 |             0.592 |             0.183 |             0.005 |             0.180 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nUrban/town/rural mix |             10032 |              2316 |             32842 |             13555 |               254 |             58999 | \n                     |          9957.623 |          2386.105 |         33825.876 |         12563.047 |           266.349 |                   | \n                     |             0.170 |             0.039 |             0.557 |             0.230 |             0.004 |             0.480 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Entirely urban |              6668 |              1823 |             24545 |              8582 |               198 |             41816 | \n                     |          7057.543 |          1691.171 |         23974.352 |          8904.157 |           188.777 |                   | \n                     |             0.159 |             0.044 |             0.587 |             0.205 |             0.005 |             0.340 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n        Column Total |             20749 |              4972 |             70484 |             26178 |               555 |            122938 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  307.2494     d.f. =  8     p =  1.178623e-61 \n\n\n \n\nCrossTable(data.2$Dem_Desc, data.2$hs.grad.year.2.region.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  106980 \n\n \n                     | data.2$hs.grad.year.2.region.match \n     data.2$Dem_Desc |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Town/rural mix |              5555 |              1795 |              7807 |              4083 |               145 |             19385 | \n                     |          5396.198 |          1708.011 |          7628.427 |          4509.395 |           142.968 |                   | \n                     |             0.287 |             0.093 |             0.403 |             0.211 |             0.007 |             0.181 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nUrban/town/rural mix |             14517 |              4686 |             19605 |             12387 |               375 |             51570 | \n                     |         14355.530 |          4543.829 |         20293.937 |         11996.364 |           380.340 |                   | \n                     |             0.282 |             0.091 |             0.380 |             0.240 |             0.007 |             0.482 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Entirely urban |              9708 |              2945 |             14687 |              8416 |               269 |             36025 | \n                     |         10028.272 |          3174.160 |         14176.636 |          8380.241 |           265.692 |                   | \n                     |             0.269 |             0.082 |             0.408 |             0.234 |             0.007 |             0.337 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n        Column Total |             29780 |              9426 |             42099 |             24886 |               789 |            106980 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  141.4191     d.f. =  8     p =  1.202466e-26 \n\n\n \n\nCrossTable(data.7$Dem_Desc, data.7$hs.grad.year.7.region.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  68975 \n\n \n                     | data.7$hs.grad.year.7.region.match \n     data.7$Dem_Desc |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Town/rural mix |              4827 |              2816 |              1245 |              3810 |               144 |             12842 | \n                     |          4754.193 |          2721.629 |          1310.545 |          3913.761 |           141.872 |                   | \n                     |             0.376 |             0.219 |             0.097 |             0.297 |             0.011 |             0.186 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nUrban/town/rural mix |             12015 |              7514 |              3418 |             10209 |               376 |             33532 | \n                     |         12413.768 |          7106.499 |          3421.990 |         10219.299 |           370.444 |                   | \n                     |             0.358 |             0.224 |             0.102 |             0.304 |             0.011 |             0.486 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n      Entirely urban |              8693 |              4288 |              2376 |              7002 |               242 |             22601 | \n                     |          8367.039 |          4789.872 |          2306.465 |          6887.939 |           249.684 |                   | \n                     |             0.385 |             0.190 |             0.105 |             0.310 |             0.011 |             0.328 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n        Column Total |             25535 |             14618 |              7039 |             21021 |               762 |             68975 | \n---------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  116.2284     d.f. =  8     p =  1.988971e-21 \n\n\n \n\n\n\n\n\n\n\n\nEDR Cross-tabs\nNext let’s analyze by EDR.\nRelationship confirmed for two years and seven years after graduating high school.\nThe charts show very minor differences.\n\n\nEDR - chartEDR - cross-tabs\n\n\n\nmatch.region.summary.edr.region &lt;- master.11 %&gt;%\n  select(edr, hs.grad.year.region.match, hs.grad.year.2.region.match, hs.grad.year.7.region.match) %&gt;%\n  gather(key = \"hs.grad.year\", value = \"region.match\", 2:4) %&gt;%\n  filter(region.match != \"After 2023\") %&gt;%\n  group_by(edr, hs.grad.year, region.match) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(edr, hs.grad.year) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = seq(n()),\n         hs.grad.year = str_sub(hs.grad.year, 1, 14),\n         hs.grad.year = str_replace(hs.grad.year, \"hs.grad.year.r\", \"hs.grad.year\"))\n\nmatch.region.summary.edr.region.plot &lt;- ggplot(match.region.summary.edr.region, aes(hs.grad.year, pct, fill = region.match, group = region.match)) +\n  facet_wrap(~edr, ncol = 2) +\n  geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(hs.grad.year, \"\\nEmployment match high school region? - \", region.match, sep = \"\"))) +\n  geom_label(aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"white\", size = 5, position = position_dodge(width = .9)) +\n  coord_flip() +\n  labs(x=\"\", y = \"\", color=\"\", title = \"Percent of individuals with meaningful employment in region\")+\n  scale_y_continuous(labels=scales::percent)+\n  theme_bar+\n  scale_fill_manual(values = brewer.pal(n = 6, \"RdYlBu\"),\n                    guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"bottom\",\n        text = element_text(size = 18))\n\n\ngirafe(ggobj = match.region.summary.edr.region.plot, width_svg = 10, height_svg = 10) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))      \n\n\n\n\n\n\n\n\ndata &lt;- master.11 %&gt;%\n  select(edr, hs.grad.year.region.match) %&gt;%\n  filter(hs.grad.year.region.match != \"After 2023\")\n\ndata.2 &lt;- master.11 %&gt;%\n  select(edr, hs.grad.year.2.region.match) %&gt;%\n  filter(hs.grad.year.2.region.match != \"After 2023\")\n\ndata.7 &lt;- master.11 %&gt;%\n  select(edr, hs.grad.year.7.region.match) %&gt;%\n  filter(hs.grad.year.7.region.match != \"After 2023\")\n\n\nCrossTable(data$edr, data$hs.grad.year.region.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                      | data$hs.grad.year.region.match \n             data$edr |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n   EDR 10 - Southeast |             14805 |              3457 |             49529 |             19192 |               363 |             87346 | \n                      |         14741.920 |          3532.547 |         50078.051 |         18599.160 |           394.321 |                   | \n                      |             0.169 |             0.040 |             0.567 |             0.220 |             0.004 |             0.710 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nEDR 9 - South Central |              5944 |              1515 |             20955 |              6986 |               192 |             35592 | \n                      |          6007.080 |          1439.453 |         20405.949 |          7578.840 |           160.679 |                   | \n                      |             0.167 |             0.043 |             0.589 |             0.196 |             0.005 |             0.290 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n         Column Total |             20749 |              4972 |             70484 |             26178 |               555 |            122938 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  101.1691     d.f. =  4     p =  5.545412e-21 \n\n\n \n\nCrossTable(data.2$edr, data.2$hs.grad.year.2.region.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  106980 \n\n \n                      | data.2$hs.grad.year.2.region.match \n           data.2$edr |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n   EDR 10 - Southeast |             20809 |              6283 |             29844 |             18352 |               530 |             75818 | \n                      |         21105.441 |          6680.318 |         29836.063 |         17637.005 |           559.174 |                   | \n                      |             0.274 |             0.083 |             0.394 |             0.242 |             0.007 |             0.709 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nEDR 9 - South Central |              8971 |              3143 |             12255 |              6534 |               259 |             31162 | \n                      |          8674.559 |          2745.682 |         12262.937 |          7248.995 |           229.826 |                   | \n                      |             0.288 |             0.101 |             0.393 |             0.210 |             0.008 |             0.291 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n         Column Total |             29780 |              9426 |             42099 |             24886 |               789 |            106980 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  200.1605     d.f. =  4     p =  3.470314e-42 \n\n\n \n\nCrossTable(data.7$edr, data.7$hs.grad.year.7.region.match, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  68975 \n\n \n                      | data.7$hs.grad.year.7.region.match \n           data.7$edr |    Location match | No location match | No meaningful emp |  No MN emp record |           Unknown |         Row Total | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n   EDR 10 - Southeast |             18013 |              9806 |              4973 |             15414 |               503 |             48709 | \n                      |         18032.393 |         10322.989 |          4970.825 |         14844.681 |           538.112 |                   | \n                      |             0.370 |             0.201 |             0.102 |             0.316 |             0.010 |             0.706 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\nEDR 9 - South Central |              7522 |              4812 |              2066 |              5607 |               259 |             20266 | \n                      |          7502.607 |          4295.011 |          2068.175 |          6176.319 |           223.888 |                   | \n                      |             0.371 |             0.237 |             0.102 |             0.277 |             0.013 |             0.294 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n         Column Total |             25535 |             14618 |              7039 |             21021 |               762 |             68975 | \n----------------------|-------------------|-------------------|-------------------|-------------------|-------------------|-------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  170.3058     d.f. =  4     p =  8.991451e-36 \n\n\n \n\n\n\n\n\n\n\nwrite_csv(master.11, \"Data/SLEDS/Masters/Master-11.csv\")"
  },
  {
    "objectID": "act.html",
    "href": "act.html",
    "title": "ACT",
    "section": "",
    "text": "Data Prep\nNext up is to join the ACT data. I’ll first load the entire ACT dataset, clean it up, and then join with my master/Southern graduate dataset to finalize.\n\n\nact.original &lt;- read_csv('/Users/kellyasche/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/SLEDS/ACT/ACT.csv') %&gt;%\n  mutate(PersonID = as.integer(PersonID))\n\nkable(head(act.original))\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nTimeID\nEnglishScaleScore\nMathScaleScore\nReadingScaleScore\nScienceScaleScore\nACTCompositeScore\n\n\n\n\n370432\n20151201\n21\n23\n21\n20\n21\n\n\n545720\n20061201\n22\n27\n24\n23\n24\n\n\n684494\n20140901\n23\n25\n30\n23\n25\n\n\n785539\n20141201\n15\n17\n19\n20\n18\n\n\n838550\n20090401\n15\n20\n19\n22\n19\n\n\n948802\n20150901\n28\n23\n29\n24\n26\n\n\n\n\nkable(names(act.original))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nTimeID\n\n\nEnglishScaleScore\n\n\nMathScaleScore\n\n\nReadingScaleScore\n\n\nScienceScaleScore\n\n\nACTCompositeScore\n\n\n\n\n\n\nThere are 374,256 observations in the dataset. Each observation is an ACT test taken by a student in Southern Minnesota. The unique feature here is the time it was taken. This means that a student could have taken the ACT twice and their PersonID would show up as two observations.\nOut of the scores provided, I’m just going to use the composite score. Since an individual may have taken the test multiple times I will only use the highest composite score for each individual. This is how colleges do it as well.\n\n\nact.highest.comp &lt;- act.original %&gt;%\n  select(PersonID, ACTCompositeScore) %&gt;%\n  mutate(PersonID = as.integer(PersonID)) %&gt;%\n  group_by(PersonID) %&gt;%\n  filter(ACTCompositeScore == max(ACTCompositeScore)) %&gt;%\n  ungroup() %&gt;%\n  distinct(PersonID, .keep_all = TRUE)\n\nkable(head(act.highest.comp))\n\n\n\n\nPersonID\nACTCompositeScore\n\n\n\n\n370432\n21\n\n\n684494\n25\n\n\n785539\n18\n\n\n838550\n19\n\n\n948802\n26\n\n\n1069438\n20\n\n\n\n\nkable(names(act.highest.comp))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nACTCompositeScore\n\n\n\n\n\n\nAfter filtering for only the highest ACT composite score for each PersonID, the dataset contains 346,600 observations.\nNow we will join it up with the master.\n\n\nmaster.2 &lt;- read_csv(\"Data/SLEDS/Masters/master-1.csv\") %&gt;%\n  left_join(act.highest.comp, by = \"PersonID\") %&gt;%\n  mutate(Dem_Desc = fct_relevel(Dem_Desc, \"Town/rural mix\", \"Urban/town/rural mix\", \"Entirely urban\"))\n\nact.master &lt;- read_csv(\"Data/SLEDS/Masters/master-1.csv\") %&gt;%\n  select(PersonID) %&gt;%\n  left_join(act.highest.comp, by = \"PersonID\")\n\nkable(head(master.2))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nK12OrganizationID\nOrganizationName\ncounty.name\ncountyfp\nDem_Desc\nedr\ngrad.year\ngrad.year.covid\nGender\nLimitedEnglishProficiencyIndicator\nHomelessIndicator\neconomic.status\npseo.participant\nSpecialEdStatus\nnon.english.home\nRaceEthnicity\nn.years.attended\nACTCompositeScore\n\n\n\n\n7699638\n29705\nFILLMORE CENTRAL SENIOR HIGH\nFillmore\n045\nUrban/town/rural mix\nEDR 10 - Southeast\n2015\nPre-covid grad\nM\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n\n\n2225025\n132298\nMAYO SENIOR HIGH\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2017\nPre-covid grad\nM\nN\nN\n0\n0\n0\n0\nWhite\n3\n29\n\n\n10400093\n62\nCannon Falls Secondary\nGoodhue\n049\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n20\n\n\n8786746\n128661\nLINCOLN SECONDARY\nWabasha\n157\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n24\n\n\n11122574\n109999\nAUSTIN SENIOR HIGH\nMower\n099\nUrban/town/rural mix\nEDR 10 - Southeast\n2011\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n\n\n10181573\n155484\nCHATFIELD SECONDARY\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2010\nPre-covid grad\nM\nN\nN\n0\nNA\n0\n0\nWhite\n3\n33\n\n\n\n\nkable(names(master.2))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nK12OrganizationID\n\n\nOrganizationName\n\n\ncounty.name\n\n\ncountyfp\n\n\nDem_Desc\n\n\nedr\n\n\ngrad.year\n\n\ngrad.year.covid\n\n\nGender\n\n\nLimitedEnglishProficiencyIndicator\n\n\nHomelessIndicator\n\n\neconomic.status\n\n\npseo.participant\n\n\nSpecialEdStatus\n\n\nnon.english.home\n\n\nRaceEthnicity\n\n\nn.years.attended\n\n\nACTCompositeScore\n\n\n\n\n\n\nThe updated master dataset contains 122,938 observations with 19 columns.\n\n\n\nSummary of ACT data\nFirst, lets see what percentage of observations took the ACT and what the average composite score was.\nThe table below shows that just over two-thirds of graduates from Southern Minnesota have taken the ACT at some point in the dataset.\n\n\n\n\n\n\n\n\nNext lets see if the ACT taken rate differs across RUCA, regions and counties.\nThe cross-tabs for the percentage of students who have taken the ACT by RUCA category has a p-value of less than .01, indicating that RUCA category is related. The trend shows that the more rural a school district, the lower the percentage of graduates that have taken the ACT - town/rural mix had 66% of their graduates take the ACT whereas entirely urban districts had 73%.\n\n\nRUCA TableRUCA Cross-tabs\n\n\n\n\n\n\n\n\n\n\n\nact.taken.ruca.cross.tabs &lt;- master.2 %&gt;%\n  mutate(act.taken = ifelse(is.na(ACTCompositeScore), \"ACT not taken\", \"ACT taken\"))\n\nCrossTable(act.taken.ruca.cross.tabs$Dem_Desc, act.taken.ruca.cross.tabs$act.taken, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                                   | act.taken.ruca.cross.tabs$act.taken \nact.taken.ruca.cross.tabs$Dem_Desc | ACT not taken |     ACT taken |     Row Total | \n-----------------------------------|---------------|---------------|---------------|\n                    Town/rural mix |          7514 |         14609 |         22123 | \n                                   |      6872.926 |     15250.074 |               | \n                                   |         0.340 |         0.660 |         0.180 | \n-----------------------------------|---------------|---------------|---------------|\n              Urban/town/rural mix |         19532 |         39467 |         58999 | \n                                   |     18329.148 |     40669.852 |               | \n                                   |         0.331 |         0.669 |         0.480 | \n-----------------------------------|---------------|---------------|---------------|\n                    Entirely urban |         11147 |         30669 |         41816 | \n                                   |     12990.926 |     28825.074 |               | \n                                   |         0.267 |         0.733 |         0.340 | \n-----------------------------------|---------------|---------------|---------------|\n                      Column Total |         38193 |         84745 |        122938 | \n-----------------------------------|---------------|---------------|---------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  580.9395     d.f. =  2     p =  7.089093e-127 \n\n\n \n\n\n\n\n\n\nNext, let’s see what it looks like by EDR.\nThe cross-tabs for the percentage of students who have taken the ACT by RUCA category has a p-value of less than .01, indicating that EDR is related. The difference between the two EDRs though is minimal - EDR 10 had 69% whereas EDR 9 had 70%.\n\n\nEDR TableEDR Cross-tabs\n\n\n\n\n\n\n\n\n\n\n\nact.taken.edr.cross.tabs &lt;- master.2 %&gt;%\n  mutate(act.taken = ifelse(is.na(ACTCompositeScore), \"ACT not taken\", \"ACT taken\"))\n\nCrossTable(act.taken.edr.cross.tabs$edr, act.taken.ruca.cross.tabs$act.taken, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                             | act.taken.ruca.cross.tabs$act.taken \nact.taken.edr.cross.tabs$edr | ACT not taken |     ACT taken |     Row Total | \n-----------------------------|---------------|---------------|---------------|\n          EDR 10 - Southeast |         27327 |         60019 |         87346 | \n                             |     27135.676 |     60210.324 |               | \n                             |         0.313 |         0.687 |         0.710 | \n-----------------------------|---------------|---------------|---------------|\n       EDR 9 - South Central |         10866 |         24726 |         35592 | \n                             |     11057.324 |     24534.676 |               | \n                             |         0.305 |         0.695 |         0.290 | \n-----------------------------|---------------|---------------|---------------|\n                Column Total |         38193 |         84745 |        122938 | \n-----------------------------|---------------|---------------|---------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  6.759312     d.f. =  1     p =  0.009325969 \n\nPearson's Chi-squared test with Yates' continuity correction \n------------------------------------------------------------\nChi^2 =  6.724029     d.f. =  1     p =  0.009512249 \n\n \n\n\n\n\n\n\nFinally, here’s a look at the percentages by county. The percentage are highest in and around Olmstead an Blue Earth counties."
  },
  {
    "objectID": "nsccompletions.html",
    "href": "nsccompletions.html",
    "title": "NSC - Completions",
    "section": "",
    "text": "Data prep - NSC completion\nAlright, now we are going to determine who graduated. Let’s see what this data looks like. I’m going to import the entire dataset and then filter by PersonID among the high school graduates from Southern.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nGraduationTimeID\nOPEID\nDegreeTitle\nMajor\nOPEID.6\n\n\n\n\n81384\n20191221\n00189000\nBACHELOR OF ARTS\nPSYCHOLOGY\n001890\n\n\n81442\n20140801\n00553700\nASSOCIATE IN APPLIED SCIENCE\nACCOUNTANT\n005537\n\n\n81757\n20140514\n00239300\nCERTIFICATE\nHEALTH UNIT COORDINATOR\n002393\n\n\n82814\n20181221\n00391700\nBACHELOR OF SCIENCE\nBIOLOGY, MICROBIOLOGY BS\n003917\n\n\n83012\n20130518\n00391700\nBACHELOR OF ARTS\nMASS COMM-PUBLIC RELATION BA\n003917\n\n\n83161\n20230318\n00869400\nASSOCIATE OF APPLIED SCIENCE\nPROFESSIONAL NURSING\n008694\n\n\n\n\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nGraduationTimeID\n\n\nOPEID\n\n\nDegreeTitle\n\n\nMajor\n\n\nOPEID.6\n\n\n\n\n\n\nThis dataset has 61,055 rows and 6 columns. Here are explanations of the rows:\n\nGraduated: Whether the student graduated. This dataset only provides students that have a “Y” in the column.\nGraduationTimeID: Provides the yearmonthday of the PersonID graduation.\nOPEID: ID of the institution which has been converted to an 8 long string padded with “0” on the left.\nInstitutionName: Name of the institution from which the PersonID graduated.\nDegreeTitle: The Degree Title the PersonID graduated with. This column is a shitshow - some have values of BA, while others have it written out - Bachelor of Arts. I will need to fix this.\nMajor - Major the PersonID graduated with.\nOPEID.6 - this is the OPEID with a string length of 6 so that it matches up with our IPEDS dataset.\n\nThe main characteristics from this dataset that I want to add to the master dataset/model are the following;\n\nConfirmation that they graduated from a post secondary institution\nThe year they graduated from their first post secondary institution\nThe year they graduated from their last post-secondary institution\nThe sector of the institution(s) from which they graduated\nThe highest level of degree obtained by the PersonID\nThe degrees earned\nWhether the institution(s) from which they graduated are in the same RUCA category, EDR, planning region, and state as their high school\n\nOkay, lets first create a dataset with a unique PersonID and a column confirming that they graduated from a post secondary institution. However, we don’t want to include any students that never had a chance to complete their post-secondary institution. For example, if an individual has graduated by 2023 (the last year of the data), but is attending, then they shouldn’t be counted against the region for not having that person not “graduated”.\nEssentially, what we want to identify is that in 2023, has the individual;\n\nGraduated from a post-secondary institution,\nIs still attending post-secondary institution,\nNot attending post-secondary and never graduated from one.\n\nTo do this, I will need to import the NSC enrollment data, filter to 2023, and double check to see if anyone in our graduate list was attending post-secondary that year. Then ps.grad can be categorized as the following;\n\nps.grad: graduated from a post-secondary institution by 2023\nps.attending: attending post-secondary as of 2023\nnot.ps.grad: never graduated from a post-secondary institution and wasn’t enrolled in one as of 2023.\n\n\n\n\n\n\n\nPersonID\nGraduated\n\n\n\n\n81384\nY\n\n\n81442\nY\n\n\n81757\nY\n\n\n82814\nY\n\n\n83012\nY\n\n\n83161\nY\n\n\n\n\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nGraduated\n\n\n\n\n\n\nThis dataset has 48,162 rows and 2 columns. The dataset is a list of distinct PersonID in the original dataset along with a confirmation column that they graduated from a post-secondary institution. Essentially, this is how many individuals in the original dataset graduated from a post-secondary institution.\nNext, lets try and see if we can figure out the firs and last year they graduated from a first post-secondary institution.\n\n\n\n\n\n\nPersonID\nmin.ps.grad.year\nmax.ps.grad.year\n\n\n\n\n81384\n2016\n2019\n\n\n81442\n2014\n2014\n\n\n81757\n2014\n2014\n\n\n82814\n2018\n2018\n\n\n83012\n2013\n2013\n\n\n83161\n2023\n2023\n\n\n\n\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nmin.ps.grad.year\n\n\nmax.ps.grad.year\n\n\n\n\n\n\nAs expected, this dataset has 48,162 rows and 3 columns. This dataset provides each distinct PersonID’s year they received their first and last diploma/degrees.\nNext we will determine the sector(s) of the institution(s) from which they graduated. If they graduated from multiple institutions with different sectors than a new category will be created defined as “Graduated from multiple institution sectors”. This will be coded as “10”. I will use the IPEDS sector data. Here are the definitions of the institution sector;\n\n0 - Administrative Unit\n\n1 - Public, 4-year or above\n\n2 - Private not-for-profit, 4-year or above\n\n3 - Private for-profit, 4-year or above\n\n4 - Public, 2-year\n\n5 - Private not-for-profit, 2-year\n\n6 - Private for-profit, 2-year\n\n7 - Public, less-than 2-year\n\n8 - Private not-for-profit, less-than 2-year\n\n9 - Private for-profit, less-than 2-year\n\n10 - Multiple sectors\n99 - Sector unknown (not active)\n\n\n\n\n\n\n\nPersonID\nInstitutionSector\n\n\n\n\n412\n1\n\n\n687\n2\n\n\n710\n1\n\n\n826\n2\n\n\n873\n1\n\n\n912\n1\n\n\n\n\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nInstitutionSector\n\n\n\n\n\n\nThis dataset has 48,157 rows which is fewer than previous subsets of the original. This is due to a few PersonID having “NULL” in their InstitutionSector. This dataset now provides the institution sector from which each PersonID graduated. If they graduated from multiple different sectors than it was labeled as “10”.\nNext we will create a subset that provides the highest credential earned by each PersonID. As mentioned earlier, the DegreeTitle column is a mess, so I’m going to import a crosswalk table that will match the strings inputted by institutions into 9 categories. They are\n\nAD - Associate Degree\nBD - Bachelors Degree\nCR - Certificate\nDP - Doctoral-Professional\nDR - Doctorate Research\nMD - Masters Degree\nPC - PostBach Certificate\nPD - Diploma\nUC - Certificate\n\nI’m going to combine these into just a few categories.\n\nLess than associate degree = CR, PD, UC\nAssociate degree = AD\nBachelors Degree = BD, PC\nHigher than Bachelors Degree = MD, DP, DR\n\n\n\n\n\n\n\nPersonID\nhighest.cred.level\n\n\n\n\n81384\nBachelor degree\n\n\n81442\nAssociate degree\n\n\n81757\nLess than Associate Degree\n\n\n82814\nBachelor degree\n\n\n83012\nBachelor degree\n\n\n83161\nAssociate degree\n\n\n\n\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nhighest.cred.level\n\n\n\n\n\n\nAs expected, we have 48,162 rows. This dataset provides the highest credential level earned for each PersonID.\nNext we will determine whether they graduated from a post-secondary institution inside or outside of the planning region, outside their EDR, or outside of Minnesota. Since many of the PersonID in the dataset have attended multiple institutions, we will categorize it in the following way in order to capture the combinations of attendance;\n\nGraduated inside region only (planning region, EDR, RUCA, State)\nGraduated inside and outside region (planning region, EDR, RUCA, state)\nGraduated outside region only (planning region, EDR, RUCA, state)\n\nIn order to do this we will need to combine our planning region and EDR joining documents with the nsccompletions.ipeds dataset. We will also need to join the master dataset with it to determine the location of the PersonID’s high school graduation location. Lastly, we will need to join up the RUCA categories for counties outside of Minnesota. Then we can start the categorization process.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nInstitutionName\nCountyCode\nps.grad.Dem_Desc\nhs.grad.edr\nhs.grad.ruca\nhs.grad.pr\nps.grad.countyfp\nps.grad.statefp\nps.grad.edr\nps.grad.pr\n\n\n\n\n81384\nUniversity of Northern Iowa\n19013\nEntirely urban\nEDR 10 - Southeast\nUrban/town/rural mix\nSouthern\n013\n19\nNA\nNA\n\n\n81442\nSouth Central College\n27103\nUrban/town/rural mix\nEDR 9 - South Central\nUrban/town/rural mix\nSouthern\n103\n27\nEDR 9 - South Central\nSouthern\n\n\n81757\nMinnesota State College Southeast\n27169\nUrban/town/rural mix\nEDR 10 - Southeast\nUrban/town/rural mix\nSouthern\n169\n27\nEDR 10 - Southeast\nSouthern\n\n\n82814\nUniversity of Wisconsin-Eau Claire\n55035\nUrban/town/rural mix\nEDR 10 - Southeast\nTown/rural mix\nSouthern\n035\n55\nNA\nNA\n\n\n83012\nUniversity of Wisconsin-Eau Claire\n55035\nUrban/town/rural mix\nEDR 10 - Southeast\nUrban/town/rural mix\nSouthern\n035\n55\nNA\nNA\n\n\n83161\nRasmussen University-Minnesota\n27145\nUrban/town/rural mix\nEDR 10 - Southeast\nUrban/town/rural mix\nSouthern\n145\n27\nEDR 7W- Central\nCentral\n\n\n\n\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nInstitutionName\n\n\nCountyCode\n\n\nps.grad.Dem_Desc\n\n\nhs.grad.edr\n\n\nhs.grad.ruca\n\n\nhs.grad.pr\n\n\nps.grad.countyfp\n\n\nps.grad.statefp\n\n\nps.grad.edr\n\n\nps.grad.pr\n\n\n\n\n\n\nThis joined dataset gives us 61,049 rows and 11 columns. The columns beginning with “ps” are the ruca category and regions of the post-secondary institution from which they graduated The columns beginning with “hs” are the RUCA category and regions of the high school from which the PersonID graduated.\nFrom here we can start creating new columns beginning with the RUCA category. To create this column we will gather each PersonID to examine whether or they graduated from a post-secondary institution in the same RUCA category, or if they graduated from multiple post-secondary institutions with one institution in the same category and another not the same.\n\n\n\n\n\n\nPersonID\nps.grad.in.same.ruca\n\n\n\n\n412\nOutside RUCA\n\n\n687\nOutside RUCA\n\n\n710\nIn same RUCA\n\n\n826\nOutside RUCA\n\n\n873\nOutside RUCA\n\n\n912\nIn same RUCA\n\n\n\n\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nps.grad.in.same.ruca\n\n\n\n\n\n\nThis dataset has 48,157 rows. It provides whether a PersonID graduated from a post-secondary institution within the same RUCA category, not in the same RUCA category, or both if they attended multiple institutions.\nNext we will check to see whether they graduated from a post-secondary institution that’s within the same EDR.\n\n\n\n\n\n\nPersonID\nps.grad.in.same.edr\n\n\n\n\n412\nOutside EDR\n\n\n687\nOutside EDR\n\n\n710\nOutside EDR\n\n\n826\nOutside EDR\n\n\n873\nOutside EDR\n\n\n912\nOutside EDR\n\n\n\n\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nps.grad.in.same.edr\n\n\n\n\n\n\nAs expected there are 48,157 rows and 2 columns.\nNext we will determine which Southern MN graduates attended a post-secondary institution in the same project region (Southern project region).\n\n\n\n\n\n\nPersonID\nps.grad.in.same.pr\n\n\n\n\n412\nIn same PR\n\n\n687\nOutside PR\n\n\n710\nOutside PR\n\n\n826\nOutside PR\n\n\n873\nOutside PR\n\n\n912\nOutside PR\n\n\n\n\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nps.grad.in.same.pr\n\n\n\n\n\n\nAs expected, there are 48,157 rows and 2 columns. This dataset provides whether the post-secondary institution(s) from which a PersonID graduated were in the same planning region as the high school from which they graduated, outside of the planning region, or both (attended multiple institutions).\nNext we want to see how many of the students leave the state to attend post-secondary education.\n\n\n\n\n\n\nPersonID\nps.grad.in.same.pr\n\n\n\n\n412\nIn same PR\n\n\n687\nOutside PR\n\n\n710\nOutside PR\n\n\n826\nOutside PR\n\n\n873\nOutside PR\n\n\n912\nOutside PR\n\n\n\n\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nps.grad.in.same.pr\n\n\n\n\n\n\nAs expected we have 48,157 rows and 2 columns. This dataset provides each distinct PersonID with whether they graduated from a post secondary institutions inside MN, outside MN, or both.\nOkay, now it’s time to join all of these with the master dataset.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nK12OrganizationID\nOrganizationName\ncounty.name\ncountyfp\nDem_Desc\nedr\nhs.grad.year\ngrad.year.covid\nGender\nLimitedEnglishProficiencyIndicator\nHomelessIndicator\neconomic.status\npseo.participant\nSpecialEdStatus\nnon.english.home\nRaceEthnicity\nn.years.attended\nACTCompositeScore\nap.exam\ntotal.cte.courses.taken\nACTE-SPED\nAgriculture, Food, and Natural Resources\nArchitecture & Construction\nArts, A/V Technology & Communication\nBusiness, Management & Administrative\nDiversified\nEducation & Training\nFinance\nGovernment & Public Administration\nHealth Science\nHospitality & Tourism\nHuman Services\nInformation Technology\nLaw, Public Safety & Security\nManufacturing\nMarketing\nProgram Area (Diversified)\nScience, Technology, Engineering, & Mathematics\nSTEM\nTransportation, Distribution & Logistics\nWork Experience-Handicapped\nWork Experience-Handicapped (16-20+ on IEP)\nWork Experience/Career Exploration (age 14-15 on I\nWork-Experience-Disadvantaged\nYouth Apprenticeship\ncte.achievement\nenglish.learner\nMCA.M\nMCA.R\nMCA.S\nsat.taken\nattended.ps\nfirst.attend.ps\nattended.ps.first.year\nattended.ps.years.hsgrad\nattended.ps.within.first.year.hsgrad\nn.institutions\nfirst.InstitutionSector\nps.sector.1\nps.sector.2\nps.sector.3\nps.sector.4\nps.sector.5\nps.sector.6\nps.sector.7\nps.sector.8\nps.sector.9\nps.attended.in.same.ruca\nps.attended.in.same.edr\nps.attended.in.same.pr\nps.attended.in.MN\nps.grad\nmin.ps.grad.year\nmax.ps.grad.year\nyears.between.grads\nps.grad.InstitutionSector\nhighest.cred.level\nps.grad.in.same.ruca\nps.grad.in.same.edr\nps.grad.in.same.pr\nps.grad.in.MN\n\n\n\n\n7699638\n29705\nFILLMORE CENTRAL SENIOR HIGH\nFillmore\n045\nUrban/town/rural mix\nEDR 10 - Southeast\n2015\nPre-covid grad\nM\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n0\n2\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\nCTE Participant\n0\n3\n4\n3\n0\nYes\n20150824\n2015\n0\nYes\n3\n1\n1\n0\n0\n1\n0\n0\n0\n0\n0\nInside and outside same RUCA\nInside and outside same EDR\nInside and outside same PR\nInside and outside MN\nNo\nNA\nNA\nNA\nNA\nLess than Associate Degree\nNA\nNA\nNA\nNA\n\n\n2225025\n132298\nMAYO SENIOR HIGH\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2017\nPre-covid grad\nM\nN\nN\n0\n0\n0\n0\nWhite\n3\n29\n0\n1\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nNo CTE\n0\n4\n4\n4\n1\nYes\n20170905\n2017\n0\nYes\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\nIn same RUCA\nOutside EDR\nOutside PR\nIn MN\nNo\nNA\nNA\nNA\nNA\nLess than Associate Degree\nNA\nNA\nNA\nNA\n\n\n10400093\n62\nCannon Falls Secondary\nGoodhue\n049\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n20\n1\n2\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\nCTE Participant\n0\n4\n4\n3\n0\nYes\n20140825\n2014\n0\nYes\n2\n4\n0\n1\n0\n1\n0\n0\n0\n0\n0\nIn same RUCA\nOutside EDR\nOutside PR\nIn MN\nY\n2017\n2017\n3\n2\nBachelor degree\nIn same RUCA\nOutside EDR\nOutside PR\nIn MN\n\n\n8786746\n128661\nLINCOLN SECONDARY\nWabasha\n157\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n24\n1\n2\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nCTE Participant\n0\n4\n4\n3\n0\nYes\n20140902\n2014\n0\nYes\n1\n2\n0\n1\n0\n0\n0\n0\n0\n0\n0\nIn same RUCA\nOutside EDR\nIn same PR\nIn MN\nY\n2018\n2018\n4\n2\nLess than Associate Degree\nIn same RUCA\nOutside EDR\nIn same PR\nIn MN\n\n\n11122574\n109999\nAUSTIN SENIOR HIGH\nMower\n099\nUrban/town/rural mix\nEDR 10 - Southeast\n2011\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nNo CTE\n0\n3\n4\n3\n0\nYes\n20110822\n2011\n0\nYes\n2\n4\n1\n0\n0\n1\n0\n0\n0\n0\n0\nIn same RUCA\nInside and outside same EDR\nInside and outside same PR\nIn MN\nY\n2013\n2016\n2\n10\nBachelor degree\nIn same RUCA\nInside and outside same EDR\nInside and outside same PR\nIn MN\n\n\n10181573\n155484\nCHATFIELD SECONDARY\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2010\nPre-covid grad\nM\nN\nN\n0\nNA\n0\n0\nWhite\n3\n33\n1\n1\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nCTE Participant\n0\n4\n4\n4\n0\nYes\n20120827\n2012\n2\nNo\n2\n4\n1\n0\n0\n1\n0\n0\n0\n0\n0\nIn same RUCA\nOutside EDR\nOutside PR\nIn MN\nY\n2012\n2015\n2\n10\nBachelor degree\nInside and outside same RUCA\nOutside EDR\nOutside PR\nIn MN\n\n\n\n\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nK12OrganizationID\n\n\nOrganizationName\n\n\ncounty.name\n\n\ncountyfp\n\n\nDem_Desc\n\n\nedr\n\n\nhs.grad.year\n\n\ngrad.year.covid\n\n\nGender\n\n\nLimitedEnglishProficiencyIndicator\n\n\nHomelessIndicator\n\n\neconomic.status\n\n\npseo.participant\n\n\nSpecialEdStatus\n\n\nnon.english.home\n\n\nRaceEthnicity\n\n\nn.years.attended\n\n\nACTCompositeScore\n\n\nap.exam\n\n\ntotal.cte.courses.taken\n\n\nACTE-SPED\n\n\nAgriculture, Food, and Natural Resources\n\n\nArchitecture & Construction\n\n\nArts, A/V Technology & Communication\n\n\nBusiness, Management & Administrative\n\n\nDiversified\n\n\nEducation & Training\n\n\nFinance\n\n\nGovernment & Public Administration\n\n\nHealth Science\n\n\nHospitality & Tourism\n\n\nHuman Services\n\n\nInformation Technology\n\n\nLaw, Public Safety & Security\n\n\nManufacturing\n\n\nMarketing\n\n\nProgram Area (Diversified)\n\n\nScience, Technology, Engineering, & Mathematics\n\n\nSTEM\n\n\nTransportation, Distribution & Logistics\n\n\nWork Experience-Handicapped\n\n\nWork Experience-Handicapped (16-20+ on IEP)\n\n\nWork Experience/Career Exploration (age 14-15 on I\n\n\nWork-Experience-Disadvantaged\n\n\nYouth Apprenticeship\n\n\ncte.achievement\n\n\nenglish.learner\n\n\nMCA.M\n\n\nMCA.R\n\n\nMCA.S\n\n\nsat.taken\n\n\nattended.ps\n\n\nfirst.attend.ps\n\n\nattended.ps.first.year\n\n\nattended.ps.years.hsgrad\n\n\nattended.ps.within.first.year.hsgrad\n\n\nn.institutions\n\n\nfirst.InstitutionSector\n\n\nps.sector.1\n\n\nps.sector.2\n\n\nps.sector.3\n\n\nps.sector.4\n\n\nps.sector.5\n\n\nps.sector.6\n\n\nps.sector.7\n\n\nps.sector.8\n\n\nps.sector.9\n\n\nps.attended.in.same.ruca\n\n\nps.attended.in.same.edr\n\n\nps.attended.in.same.pr\n\n\nps.attended.in.MN\n\n\nps.grad\n\n\nmin.ps.grad.year\n\n\nmax.ps.grad.year\n\n\nyears.between.grads\n\n\nps.grad.InstitutionSector\n\n\nhighest.cred.level\n\n\nps.grad.in.same.ruca\n\n\nps.grad.in.same.edr\n\n\nps.grad.in.same.pr\n\n\nps.grad.in.MN\n\n\n\n\n\n\nAs expected, we have 122,938 rows and 82 columns.\n\n\n\nSummary of students graduated from post secondary institution\nWe will being by summarizing the number of students in the master dataset that have graduated from a post-secondary institution. We will first look at the percentage from the total dataset and then break it up by RUCA category and regions to see if there are any significant differences.\nThe table below shows that the number of individuals that graduated from a post-secondary institution by 2023 was 39% while 15% were still attending a post-secondary institution.\n\n\n\n\n\n\n\n\nNext, lets check to see if there are differences by RUCA category.\nThe crosstabs below do indicate a relationship with a p-value near zero.\nThe largest difference is that a higher percentage of graduates from a town/rural and urban/town/rural mix district did not graduate from post-secondary (47% compared to entirely urban 43%).\n\n\nChart- RUCACross-tabs - RUCA\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                     | master.10$ps.grad \n  master.10$Dem_Desc | Attending ps |           No |            Y |    Row Total | \n---------------------|--------------|--------------|--------------|--------------|\n      Town/rural mix |         2941 |        10352 |         8830 |        22123 | \n                     |     3298.169 |    10157.959 |     8666.872 |              | \n                     |        0.133 |        0.468 |        0.399 |        0.180 | \n---------------------|--------------|--------------|--------------|--------------|\nUrban/town/rural mix |         8223 |        28000 |        22776 |        58999 | \n                     |     8795.764 |    27089.879 |    23113.357 |              | \n                     |        0.139 |        0.475 |        0.386 |        0.480 | \n---------------------|--------------|--------------|--------------|--------------|\n      Entirely urban |         7164 |        18096 |        16556 |        41816 | \n                     |     6234.066 |    19200.162 |    16381.771 |              | \n                     |        0.171 |        0.433 |        0.396 |        0.340 | \n---------------------|--------------|--------------|--------------|--------------|\n        Column Total |        18328 |        56448 |        48162 |       122938 | \n---------------------|--------------|--------------|--------------|--------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  322.3232     d.f. =  4     p =  1.653297e-68 \n\n\n \n\n\n\n\n\n\nNext, lets check to see if there are differences by high school EDR.\nThe crosstabs below do indicate a relationship with a p-value near zero.\nThe differences are minimal.\n\n\nChart- EDRCross-tabs - EDR\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  122938 \n\n \n                      | master.10$ps.grad \n        master.10$edr | Attending ps |           No |            Y |    Row Total | \n----------------------|--------------|--------------|--------------|--------------|\n   EDR 10 - Southeast |        13185 |        39923 |        34238 |        87346 | \n                      |    13021.828 |    40105.639 |    34218.533 |              | \n                      |        0.151 |        0.457 |        0.392 |        0.710 | \n----------------------|--------------|--------------|--------------|--------------|\nEDR 9 - South Central |         5143 |        16525 |        13924 |        35592 | \n                      |     5306.172 |    16342.361 |    13943.467 |              | \n                      |        0.144 |        0.464 |        0.391 |        0.290 | \n----------------------|--------------|--------------|--------------|--------------|\n         Column Total |        18328 |        56448 |        48162 |       122938 | \n----------------------|--------------|--------------|--------------|--------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  9.973522     d.f. =  2     p =  0.006827743 \n\n\n \n\n\n\n\n\n\n\n\nSummary of years between graduations\nNext we will summarize the number of years between high school graduation and the first credential earned after high school.\nWe will start out with the total dataset before moving on to see if there are any statistically significant differences by RUCA category and region.\nThe table below provides summary statistics of the number of years between high school graduation and earning of their first credential after high school. The average was 4 years with a median of 4.\n\n\n\n\n\n\n\n\nNext lets see if these averages are significantly different across RUCA categories.\nThe ANOVA table indicates a relationship between the average number of years between high school graduation and earning first credential by RUCA category.\nThe primary trend is that the average number of years between high school graduation and earning first credential increases as a high school becomes more urban - 3.59 years for town/rural mix students, 3.671for urban/town/rural mix students and 3.89 years for entirely urban graduates.\n\n\nChart - RUCAANOVA - RUCA\n\n\n\n\n\n\n\n\n\n\n\n\n               Df Sum Sq Mean Sq F value Pr(&gt;F)    \nDem_Desc        2    611  305.28   165.6 &lt;2e-16 ***\nResiduals   48159  88761    1.84                   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n  Tukey multiple comparisons of means\n    95% family-wise confidence level\n\nFit: aov(formula = years.between.grads ~ Dem_Desc, data = years.between.grads.summary.ruca)\n\n$Dem_Desc\n                                         diff        lwr       upr p adj\nUrban/town/rural mix-Town/rural mix 0.1150040 0.07511615 0.1548918     0\nEntirely urban-Town/rural mix       0.3029882 0.26105928 0.3449171     0\nEntirely urban-Urban/town/rural mix 0.1879842 0.15548814 0.2204803     0\n\n\n\n\n\n\nNext lets see if these averages are significantly different across EDRs.\nThe ANOVA table indicates no relationship between the average number of years between high school graduation and earning first credential by EDR.\n\n\nChart - EDRANOVA - EDR\n\n\n\n\n\n\n\n\n\n\n\n\n               Df Sum Sq Mean Sq F value Pr(&gt;F)\nedr             1      0  0.0203   0.011  0.917\nResiduals   48160  89372  1.8557               \n\n\n  Tukey multiple comparisons of means\n    95% family-wise confidence level\n\nFit: aov(formula = years.between.grads ~ edr, data = years.between.grads.summary.edr)\n\n$edr\n                                                 diff         lwr        upr\nEDR 9 - South Central-EDR 10 - Southeast -0.001432769 -0.02826895 0.02540341\n                                             p adj\nEDR 9 - South Central-EDR 10 - Southeast 0.9166603\n\n\n\n\n\n\n\n\nSummary of post-secondary graduate sector\nNext we will take a look at the percentage of students that graduated by institution sector. We will start with the total dataset and then look to see if there are any statistical differences on the RUCA category and EDR of their high school from which they graduated.\nFirst, let’s look at it from a total dataset. Of the over 120,000 individuals that attended post-secondary in the dataset, over 44% graduated from a public, 4-year college, 26% graduated from a 2-year public college, 18% graduated from a private 4-year, and 9% graduated from a mixture of institution types.\n\n\n\n\n\n\n\n\nNext lets see if the RUCA category from where they graduated high school makes any significant difference in the post-secondary institution from which they received a degree.\nThe crosstabs indicates a relationship between the RUCA location of their high school and the institution type from which they received a degree.\nThe table shows 3 significant differences.\n\nEntirely urban:\n\nSignificantly more likely to earn a credential from a 4-year public university\nSignificantly less likely to earn a credential from a 2-year, public\n\nUrban/town/rural mix:\n\nSignificantly more likely to earn a credential from a private, 4-year college.\nSignificantly more likely to earn a credential from a public, 2-year college\n\nTown/rural mix\n\nSignificantly less likely to earn a credential from a not-for-profit 4-year\nSignificantly less likely to earn a credential from a public, 4-year college\nSignificantly more likely to earn a credential from a 2-year public.\n\n\n\n\nChart - RUCACross-tabs - RUCA\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  48157 \n\n \n                                         | grad.sector.summary.ruca$Dem_Desc \n         grad.sector.summary.ruca$Sector |       Town/rural mix | Urban/town/rural mix |       Entirely urban |            Row Total | \n-----------------------------------------|----------------------|----------------------|----------------------|----------------------|\n                        Multiple sectors |                  802 |                 1996 |                 1673 |                 4471 | \n                                         |              819.796 |             2114.573 |             1536.631 |                      | \n                                         |                0.179 |                0.446 |                0.374 |                0.093 | \n-----------------------------------------|----------------------|----------------------|----------------------|----------------------|\n              Private for-profit, 2-year |                   29 |                   50 |                   25 |                  104 | \n                                         |               19.069 |               49.187 |               35.744 |                      | \n                                         |                0.279 |                0.481 |                0.240 |                0.002 | \n-----------------------------------------|----------------------|----------------------|----------------------|----------------------|\n     Private for-profit, 4-year or above |                  242 |                  460 |                  301 |                 1003 | \n                                         |              183.909 |              474.372 |              344.719 |                      | \n                                         |                0.241 |                0.459 |                0.300 |                0.021 | \n-----------------------------------------|----------------------|----------------------|----------------------|----------------------|\n    Private for-profit, less-than 2-year |                   15 |                   38 |                    7 |                   60 | \n                                         |               11.002 |               28.377 |               20.621 |                      | \n                                         |                0.250 |                0.633 |                0.117 |                0.001 | \n-----------------------------------------|----------------------|----------------------|----------------------|----------------------|\n          Private not-for-profit, 2-year |                    3 |                    2 |                    2 |                    7 | \n                                         |                1.284 |                3.311 |                2.406 |                      | \n                                         |                0.429 |                0.286 |                0.286 |                0.000 | \n-----------------------------------------|----------------------|----------------------|----------------------|----------------------|\n Private not-for-profit, 4-year or above |                 1442 |                 4415 |                 2937 |                 8794 | \n                                         |             1612.456 |             4159.149 |             3022.395 |                      | \n                                         |                0.164 |                0.502 |                0.334 |                0.183 | \n-----------------------------------------|----------------------|----------------------|----------------------|----------------------|\nPrivate not-for-profit, less-than 2-year |                    0 |                    0 |                    1 |                    1 | \n                                         |                0.183 |                0.473 |                0.344 |                      | \n                                         |                0.000 |                0.000 |                1.000 |                0.000 | \n-----------------------------------------|----------------------|----------------------|----------------------|----------------------|\n                          Public, 2-year |                 2518 |                 6350 |                 3478 |                12346 | \n                                         |             2263.745 |             5839.078 |             4243.176 |                      | \n                                         |                0.204 |                0.514 |                0.282 |                0.256 | \n-----------------------------------------|----------------------|----------------------|----------------------|----------------------|\n                 Public, 4-year or above |                 3779 |                 9465 |                 8124 |                21368 | \n                                         |             3918.007 |            10106.061 |             7343.933 |                      | \n                                         |                0.177 |                0.443 |                0.380 |                0.444 | \n-----------------------------------------|----------------------|----------------------|----------------------|----------------------|\n                Public, less-than 2-year |                    0 |                    0 |                    3 |                    3 | \n                                         |                0.550 |                1.419 |                1.031 |                      | \n                                         |                0.000 |                0.000 |                1.000 |                0.000 | \n-----------------------------------------|----------------------|----------------------|----------------------|----------------------|\n                            Column Total |                 8830 |                22776 |                16551 |                48157 | \n-----------------------------------------|----------------------|----------------------|----------------------|----------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  451.9894     d.f. =  18     p =  1.243347e-84 \n\n\n \n\n\n\n\n\n\nNext lets see if the EDR from where they graduated high school makes any significant difference in the post-secondary institution from which they received a degree.\nThe crosstabs indicates a relationship between the EDR location of their high school and the institution type from which they received a degree.\nThe differences are minimal.\n\n\nChart - EDRCross-tabs - EDR\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  48157 \n\n \n                                         | grad.sector.summary.edr$edr \n          grad.sector.summary.edr$Sector |    EDR 10 - Southeast | EDR 9 - South Central |             Row Total | \n-----------------------------------------|-----------------------|-----------------------|-----------------------|\n                        Multiple sectors |                  3426 |                  1045 |                  4471 | \n                                         |              3178.451 |              1292.549 |                       | \n                                         |                 0.766 |                 0.234 |                 0.093 | \n-----------------------------------------|-----------------------|-----------------------|-----------------------|\n              Private for-profit, 2-year |                    74 |                    30 |                   104 | \n                                         |                73.934 |                30.066 |                       | \n                                         |                 0.712 |                 0.288 |                 0.002 | \n-----------------------------------------|-----------------------|-----------------------|-----------------------|\n     Private for-profit, 4-year or above |                   482 |                   521 |                  1003 | \n                                         |               713.037 |               289.963 |                       | \n                                         |                 0.481 |                 0.519 |                 0.021 | \n-----------------------------------------|-----------------------|-----------------------|-----------------------|\n    Private for-profit, less-than 2-year |                    38 |                    22 |                    60 | \n                                         |                42.654 |                17.346 |                       | \n                                         |                 0.633 |                 0.367 |                 0.001 | \n-----------------------------------------|-----------------------|-----------------------|-----------------------|\n          Private not-for-profit, 2-year |                     7 |                     0 |                     7 | \n                                         |                 4.976 |                 2.024 |                       | \n                                         |                 1.000 |                 0.000 |                 0.000 | \n-----------------------------------------|-----------------------|-----------------------|-----------------------|\n Private not-for-profit, 4-year or above |                  6388 |                  2406 |                  8794 | \n                                         |              6251.689 |              2542.311 |                       | \n                                         |                 0.726 |                 0.274 |                 0.183 | \n-----------------------------------------|-----------------------|-----------------------|-----------------------|\nPrivate not-for-profit, less-than 2-year |                     1 |                     0 |                     1 | \n                                         |                 0.711 |                 0.289 |                       | \n                                         |                 1.000 |                 0.000 |                 0.000 | \n-----------------------------------------|-----------------------|-----------------------|-----------------------|\n                          Public, 2-year |                  8778 |                  3568 |                 12346 | \n                                         |              8776.820 |              3569.180 |                       | \n                                         |                 0.711 |                 0.289 |                 0.256 | \n-----------------------------------------|-----------------------|-----------------------|-----------------------|\n                 Public, 4-year or above |                 15039 |                  6329 |                 21368 | \n                                         |             15190.595 |              6177.405 |                       | \n                                         |                 0.704 |                 0.296 |                 0.444 | \n-----------------------------------------|-----------------------|-----------------------|-----------------------|\n                Public, less-than 2-year |                     2 |                     1 |                     3 | \n                                         |                 2.133 |                 0.867 |                       | \n                                         |                 0.667 |                 0.333 |                 0.000 | \n-----------------------------------------|-----------------------|-----------------------|-----------------------|\n                            Column Total |                 34235 |                 13922 |                 48157 | \n-----------------------------------------|-----------------------|-----------------------|-----------------------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  346.1884     d.f. =  9     p =  4.011501e-69"
  },
  {
    "objectID": "emp_states_each_year.html",
    "href": "emp_states_each_year.html",
    "title": "Employment states each year",
    "section": "",
    "text": "Now I’m going to prep the employment data in order to join with the master dataset. So, let’s import the original data.\nThe original dataset with all MN employment records is huge and bogs down the analysis. So the dataset I’m importing here is from a script I used to filter all employment records to contain PersonID from the Southern MN graduates.\n\n\nemployment.original &lt;- read_csv(\"Data/SLEDS/Employment/Employment-southern.csv\") %&gt;%\n  drop_na(PersonID)\n\nkable(head(employment.original))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nTimeID\nEmploymentOrganizationID\nEmployeeQuarterlyHoursWorked\nEmployeeQuarterlyWages\nEmployeeTenure\nIndustryID\nUSIndustryCode\nGroupCode\nOwnershipCode\nEmployerLocationTotalWagesPaid\nQuarterlyAverageEmployment\nCounty\nCountyName\nMNCounty\nCity\n\n\n\n\n7699638\n20131231\n134946\n61\n453\n3\n593\n445110\n4451\n50\n101201\n31\n45\nFillmore County\n23\nNA\n\n\n7699638\n20130930\n134946\n80\n617\n2\n593\n445110\n4451\n50\n106488\n30\n45\nFillmore County\n23\nNA\n\n\n7699638\n20140331\n134946\n80\n600\n4\n593\n445110\n4451\n50\n86330\n30\n45\nFillmore County\n23\nNA\n\n\n7699638\n20141231\n134946\n61\n458\n7\n593\n445110\n4451\n50\n101478\n32\n45\nFillmore County\n23\nNA\n\n\n7699638\n20150331\n134946\n41\n308\n8\n593\n445110\n4451\n50\n82519\n32\n45\nFillmore County\n23\nNA\n\n\n7699638\n20170630\n177219\n435\n7506\n2\n566\n424910\n4249\n5\n367284\n32\n45\nFillmore County\n23\nNA\n\n\n\n\nkable(names(employment.original))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nTimeID\n\n\nEmploymentOrganizationID\n\n\nEmployeeQuarterlyHoursWorked\n\n\nEmployeeQuarterlyWages\n\n\nEmployeeTenure\n\n\nIndustryID\n\n\nUSIndustryCode\n\n\nGroupCode\n\n\nOwnershipCode\n\n\nEmployerLocationTotalWagesPaid\n\n\nQuarterlyAverageEmployment\n\n\nCounty\n\n\nCountyName\n\n\nMNCounty\n\n\nCity\n\n\n\n\n\n\nIn the original dataset we have 4007389 rows and 16 columns. Below is a description of each variable.\n\nPersonID: Identification for all individuals across datasets.\nTimeID: Last day of of fiscal quarter\nEmploymentOrganizationID: An internal identification for each employer.\nEmployeeQuarterlyHoursWorked: The total number of hours worked by an employee at an employer’s location during a specific calendar quarter\nEmployeeQuarterlyWages: The total wages earned by an employee at an employer’s location during a specific calendar quarter\nEmployeeTenure: The total number of quarters a worker has been employeed by an organization at a specific location, up to an including the current calendar quarter\nIndustryID: Auto generated ID code for a record in the Industry dimension.\nUSIndustryCode: Six-digit North American Industrial Classification System (NAICS) code\nGroupCode: Four-digit North American Industrial Classification System (NAICS) code\nOwnershipCode: A classification system based upon the controlling interest of the establishment primarily designed to distinguish between governmental and non-governmental establishments\n\n10 = Federal government\n20 = State government\n30 = Local government\n50 = Private\n\nEmployerLocationTotalWagesPaid: The total wages paid to all workers employeed by an organization at a specific location during a specific calendar quarter\nQuarterlyAverageEmployment: The average number of workers employeed by an organization at a specific location during a specific calendar quarter\nCounty: Minnesota county code to which this institution belongs. This can be used as a foreign key into the Geography dimension on MNCounty.\n\nLink to codes\n\nCountyName: The name of the county corresponding to the County and MNCounty Codes for this Location.\nMNCounty: County Code for this location as assigned by the state of Minnesota.\n\nLink to codes City: All of the city data is NA\n\nCity: City location, which are blank and will be eliminated.\n\nThe next thing I want to do is put in the EDR and region of each of these employment instances. I will convert the “County” column to a 3 width character format and then match it with my counties.regions.1 list.\n\n\nemployment.updated &lt;- employment.original %&gt;%\n  mutate(County = formatC(County, width = 3, flag = \"0\")) %&gt;%\n  left_join(counties.regions.1[,c(1,5,10)], by = c(\"County\" = \"countyfp\")) \n\nkable(head(employment.updated))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nTimeID\nEmploymentOrganizationID\nEmployeeQuarterlyHoursWorked\nEmployeeQuarterlyWages\nEmployeeTenure\nIndustryID\nUSIndustryCode\nGroupCode\nOwnershipCode\nEmployerLocationTotalWagesPaid\nQuarterlyAverageEmployment\nCounty\nCountyName\nMNCounty\nCity\nedr\nproject.pr\n\n\n\n\n7699638\n20131231\n134946\n61\n453\n3\n593\n445110\n4451\n50\n101201\n31\n045\nFillmore County\n23\nNA\nEDR 10 - Southeast\nSouthern\n\n\n7699638\n20130930\n134946\n80\n617\n2\n593\n445110\n4451\n50\n106488\n30\n045\nFillmore County\n23\nNA\nEDR 10 - Southeast\nSouthern\n\n\n7699638\n20140331\n134946\n80\n600\n4\n593\n445110\n4451\n50\n86330\n30\n045\nFillmore County\n23\nNA\nEDR 10 - Southeast\nSouthern\n\n\n7699638\n20141231\n134946\n61\n458\n7\n593\n445110\n4451\n50\n101478\n32\n045\nFillmore County\n23\nNA\nEDR 10 - Southeast\nSouthern\n\n\n7699638\n20150331\n134946\n41\n308\n8\n593\n445110\n4451\n50\n82519\n32\n045\nFillmore County\n23\nNA\nEDR 10 - Southeast\nSouthern\n\n\n7699638\n20170630\n177219\n435\n7506\n2\n566\n424910\n4249\n5\n367284\n32\n045\nFillmore County\n23\nNA\nEDR 10 - Southeast\nSouthern\n\n\n\n\nkable(names(employment.updated))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nTimeID\n\n\nEmploymentOrganizationID\n\n\nEmployeeQuarterlyHoursWorked\n\n\nEmployeeQuarterlyWages\n\n\nEmployeeTenure\n\n\nIndustryID\n\n\nUSIndustryCode\n\n\nGroupCode\n\n\nOwnershipCode\n\n\nEmployerLocationTotalWagesPaid\n\n\nQuarterlyAverageEmployment\n\n\nCounty\n\n\nCountyName\n\n\nMNCounty\n\n\nCity\n\n\nedr\n\n\nproject.pr\n\n\n\n\n\n\nSo all the previous datasets we structured and filtered so that each observation in the master dataset was an individual. We will want to continue to do the same. So we need to create an employment dataset with the following columns;\n\nPersonID\nHigh school graduation year\nWhether the individual had an employment record the year of, and each subsequent year, of high school graduation.\nHow many years after graduation each employment check is (i.e. grad.year.1, grad.year.2,….etc.)\n\n\n\n\n\ngrad.years &lt;- read_csv(\"Data/SLEDS/Masters/Master-10.csv\") %&gt;%\n  select(PersonID, hs.grad.year)\n\nmn.emp.record.year &lt;- employment.updated %&gt;%\n  mutate(CalendarYear = as.integer(str_sub(TimeID, 1, 4))) %&gt;%\n  select(PersonID, CalendarYear) %&gt;%\n  distinct(PersonID, CalendarYear) %&gt;%\n  mutate(mn.emp.record = \"MN emp record\") %&gt;%\n  filter(CalendarYear &gt; 2007) %&gt;%\n  filter(CalendarYear &lt; 2024) %&gt;%\n  complete(PersonID, CalendarYear, fill = list(mn.emp.record = \"No MN emp record\")) \n\nmn.emp.record &lt;- grad.years %&gt;%\n  left_join(mn.emp.record.year, by = c(\"PersonID\")) %&gt;%\n  mutate(CalendarYear = ifelse(is.na(CalendarYear), hs.grad.year, CalendarYear),\n         mn.emp.record = ifelse(is.na(mn.emp.record), \"No MN emp record\", mn.emp.record),\n         update = ifelse(CalendarYear &lt; hs.grad.year, \"Not graduated HS\", \"Graduated\")) %&gt;%\n  filter(update == \"Graduated\") %&gt;%\n  select(!update) %&gt;%\n  group_by(PersonID) %&gt;%\n  mutate(grad.year.seq = seq(n())) %&gt;%\n  ungroup() %&gt;%\n  complete(PersonID, grad.year.seq) %&gt;%\n  group_by(PersonID) %&gt;%\n  fill(hs.grad.year, .direction = \"down\") %&gt;%\n  ungroup() %&gt;%\n  mutate(CalendarYear = ifelse(is.na(CalendarYear), hs.grad.year + (grad.year.seq - 1), CalendarYear),\n         mn.emp.record = ifelse(CalendarYear &gt; 2023, \"After 2023\", mn.emp.record),\n         mn.emp.record = ifelse(is.na(mn.emp.record), \"No MN emp record\", mn.emp.record),\n         grad.year = paste(\"grad.year.\", grad.year.seq-1, sep = \"\")) %&gt;%\n  select(-grad.year.seq)\n  \nkable(names(mn.emp.record))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nhs.grad.year\n\n\nCalendarYear\n\n\nmn.emp.record\n\n\ngrad.year\n\n\n\n\nkable(head(mn.emp.record))\n\n\n\n\nPersonID\nhs.grad.year\nCalendarYear\nmn.emp.record\ngrad.year\n\n\n\n\n55\n2009\n2009\nMN emp record\ngrad.year.0\n\n\n55\n2009\n2010\nNo MN emp record\ngrad.year.1\n\n\n55\n2009\n2011\nNo MN emp record\ngrad.year.2\n\n\n55\n2009\n2012\nMN emp record\ngrad.year.3\n\n\n55\n2009\n2013\nMN emp record\ngrad.year.4\n\n\n55\n2009\n2014\nMN emp record\ngrad.year.5\n\n\n\n\n\n\nThe dataset above provides each unique PersonID from our master list along with each possible grad year and subsequent years (grad.year.0, grad.year.1, grad.year.2 … grad.year.16).\nHere is the logic;\n\ngrad.year.x &gt; 2023: mn.emp.record == “After 2023”,\nif there’s a MN employment record for the PersonID and the grad.year.x: mn.emp.record == “MN emp record”\nif there’s no MN employment record for the PersonID and the grad.year.x: mn.emp.record == “No MN emp record”\n\nThere are 1,967,008 rows in this dataset with 122,938 individuals.\n\n\n\n\nThe biggest issue is how do we get a meaningful indicator on whether they were employed in the region and whether they are employed in an industry that matches their CTE experience that wasn’t just a “summer job”. We need to filter out summer jobs between college years, as well as adapt to different paths that students take.\nWe will define “meaningful employment” as an employment experience in which an individual works for one particular employer for 1,000 hours worked in any given year.\nThis will be a couple step process. First we will build a dataset that has each grad.year.x from each PersonID high school graduation year and match it with the MN employment records. We will end up with each PersonID having each grad.year.x along with wither they have a MN employment record, whether they had meaningful employment, whether grad.year.x is after 2023, or whether they have no MN employment record.\n\n\nmeaningful.employer &lt;- employment.original %&gt;%\n  mutate(CalendarYear = as.integer(str_sub(TimeID, 1, 4))) %&gt;%\n  group_by(PersonID, EmploymentOrganizationID, CalendarYear) %&gt;%\n  summarize(AnnualHoursWorked = sum(EmployeeQuarterlyHoursWorked)) %&gt;%\n  ungroup() %&gt;%\n  group_by(PersonID) %&gt;%\n  ungroup() %&gt;%\n  right_join(mn.emp.record, by = c(\"PersonID\", \"CalendarYear\")) %&gt;%\n  mutate(grad.year = fct_relevel(grad.year, \"grad.year.0\", \"grad.year.1\", \"grad.year.2\", \"grad.year.3\", \"grad.year.4\", \"grad.year.5\", \"grad.year.6\", \"grad.year.7\", \"grad.year.8\", \"grad.year.9\", \"grad.year.10\", \"grad.year.11\"),\n         new.mn.emp.record = ifelse(AnnualHoursWorked &gt; 999, \"Meaningful employment\", mn.emp.record),\n         new.mn.emp.record = ifelse(CalendarYear &gt; 2023, \"After 2023\", new.mn.emp.record),\n         new.mn.emp.record = ifelse(new.mn.emp.record == \"MN emp record\", \"MN emp record - not meaningful\", new.mn.emp.record),\n         new.mn.emp.record = ifelse(mn.emp.record == \"No MN emp record\", \"No MN emp record\", new.mn.emp.record),\n         meaningful.emp.code = ifelse(new.mn.emp.record == \"Meaningful employment\", 1, 0)) %&gt;%\n  group_by(PersonID, CalendarYear) %&gt;%\n  filter(meaningful.emp.code == max(meaningful.emp.code)) %&gt;%\n  ungroup() %&gt;%\n  distinct(PersonID, grad.year, meaningful.emp.code, .keep_all = TRUE)\n\nkable(head(meaningful.employer))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nEmploymentOrganizationID\nCalendarYear\nAnnualHoursWorked\nhs.grad.year\nmn.emp.record\ngrad.year\nnew.mn.emp.record\nmeaningful.emp.code\n\n\n\n\n55\n11175\n2013\n534\n2009\nMN emp record\ngrad.year.4\nMN emp record - not meaningful\n0\n\n\n55\n11175\n2014\n333\n2009\nMN emp record\ngrad.year.5\nMN emp record - not meaningful\n0\n\n\n55\n123425\n2019\n444\n2009\nMN emp record\ngrad.year.10\nMN emp record - not meaningful\n0\n\n\n55\n161356\n2009\n10\n2009\nMN emp record\ngrad.year.0\nMN emp record - not meaningful\n0\n\n\n55\n184647\n2012\n1\n2009\nMN emp record\ngrad.year.3\nMN emp record - not meaningful\n0\n\n\n55\n288905\n2015\n1314\n2009\nMN emp record\ngrad.year.6\nMeaningful employment\n1\n\n\n\n\nkable(names(meaningful.employer))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nEmploymentOrganizationID\n\n\nCalendarYear\n\n\nAnnualHoursWorked\n\n\nhs.grad.year\n\n\nmn.emp.record\n\n\ngrad.year\n\n\nnew.mn.emp.record\n\n\nmeaningful.emp.code\n\n\n\n\n\n\nThis dataset has 1,967,008 rows where each row represents a grad.year.x and whether the PersonID had the following;\n\nmeaningful employment\nmn employment record but not meaningful employment\nemployment calendar year was after 2023, and\nhad no MN employment record.\n\nAlong with each of these is the Employment Organization ID which we can now join to see the location of the meaningful employment.\n\n\n\n\nNow, we want to determine if the locations of meaningful employment match the counties and regions from which they graduated high school. To do this, we will import the latest master dataset so we can compare their high school locations with meaningful employment locations.\n\n\nemp.original.locations &lt;- employment.original %&gt;%\n  mutate(CalendarYear = as.integer(str_sub(TimeID, 1, 4)),\n         CountyName = str_replace(CountyName, \" County\", \"\"),\n         CountyName = str_replace(CountyName, \"Saint Louis\", \"St. Louis\"),\n         CountyName = str_replace(CountyName, \"City of Duluth\", \"St. Louis\"),\n         CountyName = str_replace(CountyName, \"City of Minneapolis\", \"Hennepin\"),\n         CountyName = str_replace(CountyName, \"City of St. Paul\", \"Ramsey\"),\n         CountyName = str_replace(CountyName, \"Shakopee Mdewakanton Community\", \"Scott\"),\n         CountyName = str_replace(CountyName, \"White Earth Tribal Counci\", \"Mahnomen\")) %&gt;%\n  left_join(counties.regions.1, by = c(\"CountyName\" = \"Name\")) %&gt;%\n  rename(EconomicDevelopmentRegionName = edr) %&gt;%\n  select(PersonID, CalendarYear, EmploymentOrganizationID, EconomicDevelopmentRegionName, CountyName, project.pr) %&gt;%\n  distinct(PersonID, CalendarYear, EmploymentOrganizationID, EconomicDevelopmentRegionName, CountyName, project.pr) %&gt;%\n  rename(employment.county = CountyName,\n         emp.edr = EconomicDevelopmentRegionName,\n         emp.pr = project.pr) %&gt;%\n  mutate(emp.edr = str_replace(emp.edr, \"  \", \" \"),\n         emp.edr = as.factor(emp.edr),\n         employment.county = str_replace(employment.county, \" County\", \"\"),\n         employment.county = str_replace(employment.county, \"City of Duluth\", \"St. Louis\"),\n         employment.county = str_replace(employment.county, \"Saint Louis\", \"St. Louis\"),\n         employment.county = str_replace(employment.county, \"City of Minneapolis\", \"Hennepin\"),\n         employment.county = str_replace(employment.county, \"City of St. Paul\", \"Ramsey\"),\n         employment.county = str_replace(employment.county, \"White Earth Tribal Counci\", \"Mahnomen\"),\n         employment.county = as.factor(employment.county)) %&gt;%\n  left_join(counties.regions[,c(2,4)], by = c(\"employment.county\" = \"Name\")) %&gt;%\n  rename(emp.Dem_Desc = Dem_Desc) \n\n\nmeaningful.emp.locations &lt;- meaningful.employer %&gt;%\n  left_join(emp.original.locations, by = c(\"PersonID\", \"CalendarYear\", \"EmploymentOrganizationID\")) %&gt;%\n  mutate(emp.edr = ifelse(employment.county == \"Statewide (i.e. no fixed location)\", \"Unknown\", as.character(emp.edr)),\n         emp.Dem_Desc = ifelse(employment.county == \"Statewide (i.e. no fixed location)\", \"Unknown\", as.character(emp.Dem_Desc)),\n         emp.edr = ifelse(employment.county == \"Hennepin\", \"EDR 11 - 7 County Twin Cities\", emp.edr),\n         emp.edr = ifelse(employment.county == \"Ramsey\", \"EDR 11 - 7 County Twin Cities\", emp.edr),\n         emp.edr = ifelse(employment.county == \"St. Louis\", \"EDR 3 - Arrowhead\", emp.edr),\n         emp.edr = ifelse(employment.county == \"Unknown\", \"Unknown\", emp.edr),\n         emp.Dem_Desc = ifelse(employment.county == \"Unknown\", \"Unknown\", as.character(emp.Dem_Desc)),\n         emp.Dem_Desc = ifelse(employment.county == \"NULL\", \"NULL\", as.character(emp.Dem_Desc)),\n         emp.edr = ifelse(employment.county == \"Mahnomen\", \"EDR 2 - Headwaters\", emp.edr))\n\ngrad.locations &lt;- read_csv(\"Data/SLEDS/Masters/Master-10.csv\") %&gt;%\n  select(PersonID, county.name, Dem_Desc, edr) %&gt;%\n  rename(hs.county.name = county.name,\n         hs.Dem_Desc = Dem_Desc,\n         hs.edr = edr) %&gt;%\n  mutate(hs.region = \"Southern\")\n\ngrad.emp.location.match &lt;- grad.locations %&gt;%\n  right_join(meaningful.emp.locations, by = \"PersonID\") %&gt;%\n  mutate(county.match = new.mn.emp.record,\n         new.county.match = ifelse(county.match == \"Meaningful employment\" & employment.county == hs.county.name, \"Meaningful emp - match\", county.match),\n         new.county.match = ifelse(new.county.match == \"Meaningful employment\", \"Meaningful emp - no match\", new.county.match),\n         new.county.match = fct_relevel(new.county.match, \"Meaningful emp - match\", \"Meaningful emp - no match\", \"MN emp record - not meaningful\", \"No MN emp record\", \"After 2023\")) %&gt;%\n  select(-county.match) %&gt;%\n  rename(county.match = new.county.match) %&gt;%\n  mutate(edr.match = new.mn.emp.record,\n         new.edr.match = ifelse(edr.match == \"Meaningful employment\" & emp.edr == hs.edr, \"Meaningful emp - match\", edr.match),\n         new.edr.match = ifelse(new.edr.match == \"Meaningful employment\", \"Meaningful emp - no match\", new.edr.match),\n         new.edr.match = fct_relevel(new.edr.match, \"Meaningful emp - match\", \"Meaningful emp - no match\", \"MN emp record - not meaningful\", \"No MN emp record\", \"After 2023\")) %&gt;%\n  select(-edr.match) %&gt;%\n  rename(edr.match = new.edr.match) %&gt;%\n  mutate(region.match = new.mn.emp.record,\n         new.region.match = ifelse(region.match == \"Meaningful employment\" & emp.pr %in% c(\"Southern\"), \"Meaningful emp - match\", region.match),\n         new.region.match = ifelse(new.region.match == \"Meaningful employment\", \"Meaningful emp - no match\", new.region.match),\n         new.region.match = fct_relevel(new.region.match, \"Meaningful emp - match\", \"Meaningful emp - no match\", \"MN emp record - not meaningful\", \"No MN emp record\", \"After 2023\")) %&gt;%\n  select(-region.match) %&gt;%\n  rename(region.match = new.region.match) %&gt;%\n  mutate(state.match = new.mn.emp.record,\n         new.state.match = ifelse(!is.na(emp.edr) & state.match == \"Meaningful employment\", \"Meaningful emp - match\",\n                                  ifelse(employment.county == \"Statewide (i.e. no fixed location)\" & state.match == \"Meaningful employment\", \"Meaningful emp - match\", state.match)),\n         new.state.match = fct_relevel(new.state.match, \"Meaningful emp - match\", \"MN emp record - not meaningful\", \"No MN emp record\", \"After 2023\")) %&gt;%\n  select(-state.match) %&gt;%\n  rename(state.match = new.state.match) %&gt;%\n  mutate(Dem_Desc.match = new.mn.emp.record,\n         new.Dem_Desc.match = ifelse(Dem_Desc.match == \"Meaningful employment\" & hs.Dem_Desc == emp.Dem_Desc, \"Meaningful emp - match\", Dem_Desc.match),\n         new.Dem_Desc.match = ifelse(new.Dem_Desc.match == \"Meaningful employment\", \"Meaningful emp - no match\", new.Dem_Desc.match),\n         new.Dem_Desc.match = fct_relevel(new.Dem_Desc.match, \"Meaningful emp - match\", \"Meaningful emp - no match\", \"MN emp record - not meaningful\", \"No MN emp record\", \"After 2023\")) %&gt;%\n  select(-Dem_Desc.match) %&gt;%\n  rename(Dem_Desc.match = new.Dem_Desc.match) %&gt;%\n  distinct(PersonID, EmploymentOrganizationID, grad.year, .keep_all = TRUE) %&gt;%\n  select(PersonID, hs.grad.year, grad.year, county.match, edr.match, region.match, Dem_Desc.match, state.match) \n\n\nkable(names(grad.emp.location.match))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nhs.grad.year\n\n\ngrad.year\n\n\ncounty.match\n\n\nedr.match\n\n\nregion.match\n\n\nDem_Desc.match\n\n\nstate.match\n\n\n\n\nkable(head(grad.emp.location.match))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nhs.grad.year\ngrad.year\ncounty.match\nedr.match\nregion.match\nDem_Desc.match\nstate.match\n\n\n\n\n7699638\n2015\ngrad.year.1\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\n\n\n7699638\n2015\ngrad.year.0\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\n\n\n7699638\n2015\ngrad.year.3\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\n\n\n7699638\n2015\ngrad.year.2\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\n\n\n7699638\n2015\ngrad.year.4\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\n\n\n7699638\n2015\ngrad.year.5\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\n\n\n\n\n\n\nAfter significant road blocks, we finally have a dataset that provides each PersonID in the master list that had meaningful employment and confirmations on whether the employer location matches the high school county, EDR, research region, or is in Minnesota. This confirmation is for each x-time of graduation year - graduation year, one year after graduation, 2 years after graduation … 15 years after graduation.\nThe final dataset gives us 1,967,008 rows and 8 columns."
  },
  {
    "objectID": "emp_states_each_year.html#who-has-an-employment-record-and-which-years",
    "href": "emp_states_each_year.html#who-has-an-employment-record-and-which-years",
    "title": "Employment states each year",
    "section": "",
    "text": "grad.years &lt;- read_csv(\"Data/SLEDS/Masters/Master-10.csv\") %&gt;%\n  select(PersonID, hs.grad.year)\n\nmn.emp.record.year &lt;- employment.updated %&gt;%\n  mutate(CalendarYear = as.integer(str_sub(TimeID, 1, 4))) %&gt;%\n  select(PersonID, CalendarYear) %&gt;%\n  distinct(PersonID, CalendarYear) %&gt;%\n  mutate(mn.emp.record = \"MN emp record\") %&gt;%\n  filter(CalendarYear &gt; 2007) %&gt;%\n  filter(CalendarYear &lt; 2024) %&gt;%\n  complete(PersonID, CalendarYear, fill = list(mn.emp.record = \"No MN emp record\")) \n\nmn.emp.record &lt;- grad.years %&gt;%\n  left_join(mn.emp.record.year, by = c(\"PersonID\")) %&gt;%\n  mutate(CalendarYear = ifelse(is.na(CalendarYear), hs.grad.year, CalendarYear),\n         mn.emp.record = ifelse(is.na(mn.emp.record), \"No MN emp record\", mn.emp.record),\n         update = ifelse(CalendarYear &lt; hs.grad.year, \"Not graduated HS\", \"Graduated\")) %&gt;%\n  filter(update == \"Graduated\") %&gt;%\n  select(!update) %&gt;%\n  group_by(PersonID) %&gt;%\n  mutate(grad.year.seq = seq(n())) %&gt;%\n  ungroup() %&gt;%\n  complete(PersonID, grad.year.seq) %&gt;%\n  group_by(PersonID) %&gt;%\n  fill(hs.grad.year, .direction = \"down\") %&gt;%\n  ungroup() %&gt;%\n  mutate(CalendarYear = ifelse(is.na(CalendarYear), hs.grad.year + (grad.year.seq - 1), CalendarYear),\n         mn.emp.record = ifelse(CalendarYear &gt; 2023, \"After 2023\", mn.emp.record),\n         mn.emp.record = ifelse(is.na(mn.emp.record), \"No MN emp record\", mn.emp.record),\n         grad.year = paste(\"grad.year.\", grad.year.seq-1, sep = \"\")) %&gt;%\n  select(-grad.year.seq)\n  \nkable(names(mn.emp.record))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nhs.grad.year\n\n\nCalendarYear\n\n\nmn.emp.record\n\n\ngrad.year\n\n\n\n\nkable(head(mn.emp.record))\n\n\n\n\nPersonID\nhs.grad.year\nCalendarYear\nmn.emp.record\ngrad.year\n\n\n\n\n55\n2009\n2009\nMN emp record\ngrad.year.0\n\n\n55\n2009\n2010\nNo MN emp record\ngrad.year.1\n\n\n55\n2009\n2011\nNo MN emp record\ngrad.year.2\n\n\n55\n2009\n2012\nMN emp record\ngrad.year.3\n\n\n55\n2009\n2013\nMN emp record\ngrad.year.4\n\n\n55\n2009\n2014\nMN emp record\ngrad.year.5\n\n\n\n\n\n\nThe dataset above provides each unique PersonID from our master list along with each possible grad year and subsequent years (grad.year.0, grad.year.1, grad.year.2 … grad.year.16).\nHere is the logic;\n\ngrad.year.x &gt; 2023: mn.emp.record == “After 2023”,\nif there’s a MN employment record for the PersonID and the grad.year.x: mn.emp.record == “MN emp record”\nif there’s no MN employment record for the PersonID and the grad.year.x: mn.emp.record == “No MN emp record”\n\nThere are 1,967,008 rows in this dataset with 122,938 individuals."
  },
  {
    "objectID": "emp_states_each_year.html#filter-for-meaningful-employment",
    "href": "emp_states_each_year.html#filter-for-meaningful-employment",
    "title": "Employment states each year",
    "section": "",
    "text": "The biggest issue is how do we get a meaningful indicator on whether they were employed in the region and whether they are employed in an industry that matches their CTE experience that wasn’t just a “summer job”. We need to filter out summer jobs between college years, as well as adapt to different paths that students take.\nWe will define “meaningful employment” as an employment experience in which an individual works for one particular employer for 1,000 hours worked in any given year.\nThis will be a couple step process. First we will build a dataset that has each grad.year.x from each PersonID high school graduation year and match it with the MN employment records. We will end up with each PersonID having each grad.year.x along with wither they have a MN employment record, whether they had meaningful employment, whether grad.year.x is after 2023, or whether they have no MN employment record.\n\n\nmeaningful.employer &lt;- employment.original %&gt;%\n  mutate(CalendarYear = as.integer(str_sub(TimeID, 1, 4))) %&gt;%\n  group_by(PersonID, EmploymentOrganizationID, CalendarYear) %&gt;%\n  summarize(AnnualHoursWorked = sum(EmployeeQuarterlyHoursWorked)) %&gt;%\n  ungroup() %&gt;%\n  group_by(PersonID) %&gt;%\n  ungroup() %&gt;%\n  right_join(mn.emp.record, by = c(\"PersonID\", \"CalendarYear\")) %&gt;%\n  mutate(grad.year = fct_relevel(grad.year, \"grad.year.0\", \"grad.year.1\", \"grad.year.2\", \"grad.year.3\", \"grad.year.4\", \"grad.year.5\", \"grad.year.6\", \"grad.year.7\", \"grad.year.8\", \"grad.year.9\", \"grad.year.10\", \"grad.year.11\"),\n         new.mn.emp.record = ifelse(AnnualHoursWorked &gt; 999, \"Meaningful employment\", mn.emp.record),\n         new.mn.emp.record = ifelse(CalendarYear &gt; 2023, \"After 2023\", new.mn.emp.record),\n         new.mn.emp.record = ifelse(new.mn.emp.record == \"MN emp record\", \"MN emp record - not meaningful\", new.mn.emp.record),\n         new.mn.emp.record = ifelse(mn.emp.record == \"No MN emp record\", \"No MN emp record\", new.mn.emp.record),\n         meaningful.emp.code = ifelse(new.mn.emp.record == \"Meaningful employment\", 1, 0)) %&gt;%\n  group_by(PersonID, CalendarYear) %&gt;%\n  filter(meaningful.emp.code == max(meaningful.emp.code)) %&gt;%\n  ungroup() %&gt;%\n  distinct(PersonID, grad.year, meaningful.emp.code, .keep_all = TRUE)\n\nkable(head(meaningful.employer))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nEmploymentOrganizationID\nCalendarYear\nAnnualHoursWorked\nhs.grad.year\nmn.emp.record\ngrad.year\nnew.mn.emp.record\nmeaningful.emp.code\n\n\n\n\n55\n11175\n2013\n534\n2009\nMN emp record\ngrad.year.4\nMN emp record - not meaningful\n0\n\n\n55\n11175\n2014\n333\n2009\nMN emp record\ngrad.year.5\nMN emp record - not meaningful\n0\n\n\n55\n123425\n2019\n444\n2009\nMN emp record\ngrad.year.10\nMN emp record - not meaningful\n0\n\n\n55\n161356\n2009\n10\n2009\nMN emp record\ngrad.year.0\nMN emp record - not meaningful\n0\n\n\n55\n184647\n2012\n1\n2009\nMN emp record\ngrad.year.3\nMN emp record - not meaningful\n0\n\n\n55\n288905\n2015\n1314\n2009\nMN emp record\ngrad.year.6\nMeaningful employment\n1\n\n\n\n\nkable(names(meaningful.employer))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nEmploymentOrganizationID\n\n\nCalendarYear\n\n\nAnnualHoursWorked\n\n\nhs.grad.year\n\n\nmn.emp.record\n\n\ngrad.year\n\n\nnew.mn.emp.record\n\n\nmeaningful.emp.code\n\n\n\n\n\n\nThis dataset has 1,967,008 rows where each row represents a grad.year.x and whether the PersonID had the following;\n\nmeaningful employment\nmn employment record but not meaningful employment\nemployment calendar year was after 2023, and\nhad no MN employment record.\n\nAlong with each of these is the Employment Organization ID which we can now join to see the location of the meaningful employment."
  },
  {
    "objectID": "emp_states_each_year.html#match-meaningful-employment-and-high-school-locationsregions.",
    "href": "emp_states_each_year.html#match-meaningful-employment-and-high-school-locationsregions.",
    "title": "Employment states each year",
    "section": "",
    "text": "Now, we want to determine if the locations of meaningful employment match the counties and regions from which they graduated high school. To do this, we will import the latest master dataset so we can compare their high school locations with meaningful employment locations.\n\n\nemp.original.locations &lt;- employment.original %&gt;%\n  mutate(CalendarYear = as.integer(str_sub(TimeID, 1, 4)),\n         CountyName = str_replace(CountyName, \" County\", \"\"),\n         CountyName = str_replace(CountyName, \"Saint Louis\", \"St. Louis\"),\n         CountyName = str_replace(CountyName, \"City of Duluth\", \"St. Louis\"),\n         CountyName = str_replace(CountyName, \"City of Minneapolis\", \"Hennepin\"),\n         CountyName = str_replace(CountyName, \"City of St. Paul\", \"Ramsey\"),\n         CountyName = str_replace(CountyName, \"Shakopee Mdewakanton Community\", \"Scott\"),\n         CountyName = str_replace(CountyName, \"White Earth Tribal Counci\", \"Mahnomen\")) %&gt;%\n  left_join(counties.regions.1, by = c(\"CountyName\" = \"Name\")) %&gt;%\n  rename(EconomicDevelopmentRegionName = edr) %&gt;%\n  select(PersonID, CalendarYear, EmploymentOrganizationID, EconomicDevelopmentRegionName, CountyName, project.pr) %&gt;%\n  distinct(PersonID, CalendarYear, EmploymentOrganizationID, EconomicDevelopmentRegionName, CountyName, project.pr) %&gt;%\n  rename(employment.county = CountyName,\n         emp.edr = EconomicDevelopmentRegionName,\n         emp.pr = project.pr) %&gt;%\n  mutate(emp.edr = str_replace(emp.edr, \"  \", \" \"),\n         emp.edr = as.factor(emp.edr),\n         employment.county = str_replace(employment.county, \" County\", \"\"),\n         employment.county = str_replace(employment.county, \"City of Duluth\", \"St. Louis\"),\n         employment.county = str_replace(employment.county, \"Saint Louis\", \"St. Louis\"),\n         employment.county = str_replace(employment.county, \"City of Minneapolis\", \"Hennepin\"),\n         employment.county = str_replace(employment.county, \"City of St. Paul\", \"Ramsey\"),\n         employment.county = str_replace(employment.county, \"White Earth Tribal Counci\", \"Mahnomen\"),\n         employment.county = as.factor(employment.county)) %&gt;%\n  left_join(counties.regions[,c(2,4)], by = c(\"employment.county\" = \"Name\")) %&gt;%\n  rename(emp.Dem_Desc = Dem_Desc) \n\n\nmeaningful.emp.locations &lt;- meaningful.employer %&gt;%\n  left_join(emp.original.locations, by = c(\"PersonID\", \"CalendarYear\", \"EmploymentOrganizationID\")) %&gt;%\n  mutate(emp.edr = ifelse(employment.county == \"Statewide (i.e. no fixed location)\", \"Unknown\", as.character(emp.edr)),\n         emp.Dem_Desc = ifelse(employment.county == \"Statewide (i.e. no fixed location)\", \"Unknown\", as.character(emp.Dem_Desc)),\n         emp.edr = ifelse(employment.county == \"Hennepin\", \"EDR 11 - 7 County Twin Cities\", emp.edr),\n         emp.edr = ifelse(employment.county == \"Ramsey\", \"EDR 11 - 7 County Twin Cities\", emp.edr),\n         emp.edr = ifelse(employment.county == \"St. Louis\", \"EDR 3 - Arrowhead\", emp.edr),\n         emp.edr = ifelse(employment.county == \"Unknown\", \"Unknown\", emp.edr),\n         emp.Dem_Desc = ifelse(employment.county == \"Unknown\", \"Unknown\", as.character(emp.Dem_Desc)),\n         emp.Dem_Desc = ifelse(employment.county == \"NULL\", \"NULL\", as.character(emp.Dem_Desc)),\n         emp.edr = ifelse(employment.county == \"Mahnomen\", \"EDR 2 - Headwaters\", emp.edr))\n\ngrad.locations &lt;- read_csv(\"Data/SLEDS/Masters/Master-10.csv\") %&gt;%\n  select(PersonID, county.name, Dem_Desc, edr) %&gt;%\n  rename(hs.county.name = county.name,\n         hs.Dem_Desc = Dem_Desc,\n         hs.edr = edr) %&gt;%\n  mutate(hs.region = \"Southern\")\n\ngrad.emp.location.match &lt;- grad.locations %&gt;%\n  right_join(meaningful.emp.locations, by = \"PersonID\") %&gt;%\n  mutate(county.match = new.mn.emp.record,\n         new.county.match = ifelse(county.match == \"Meaningful employment\" & employment.county == hs.county.name, \"Meaningful emp - match\", county.match),\n         new.county.match = ifelse(new.county.match == \"Meaningful employment\", \"Meaningful emp - no match\", new.county.match),\n         new.county.match = fct_relevel(new.county.match, \"Meaningful emp - match\", \"Meaningful emp - no match\", \"MN emp record - not meaningful\", \"No MN emp record\", \"After 2023\")) %&gt;%\n  select(-county.match) %&gt;%\n  rename(county.match = new.county.match) %&gt;%\n  mutate(edr.match = new.mn.emp.record,\n         new.edr.match = ifelse(edr.match == \"Meaningful employment\" & emp.edr == hs.edr, \"Meaningful emp - match\", edr.match),\n         new.edr.match = ifelse(new.edr.match == \"Meaningful employment\", \"Meaningful emp - no match\", new.edr.match),\n         new.edr.match = fct_relevel(new.edr.match, \"Meaningful emp - match\", \"Meaningful emp - no match\", \"MN emp record - not meaningful\", \"No MN emp record\", \"After 2023\")) %&gt;%\n  select(-edr.match) %&gt;%\n  rename(edr.match = new.edr.match) %&gt;%\n  mutate(region.match = new.mn.emp.record,\n         new.region.match = ifelse(region.match == \"Meaningful employment\" & emp.pr %in% c(\"Southern\"), \"Meaningful emp - match\", region.match),\n         new.region.match = ifelse(new.region.match == \"Meaningful employment\", \"Meaningful emp - no match\", new.region.match),\n         new.region.match = fct_relevel(new.region.match, \"Meaningful emp - match\", \"Meaningful emp - no match\", \"MN emp record - not meaningful\", \"No MN emp record\", \"After 2023\")) %&gt;%\n  select(-region.match) %&gt;%\n  rename(region.match = new.region.match) %&gt;%\n  mutate(state.match = new.mn.emp.record,\n         new.state.match = ifelse(!is.na(emp.edr) & state.match == \"Meaningful employment\", \"Meaningful emp - match\",\n                                  ifelse(employment.county == \"Statewide (i.e. no fixed location)\" & state.match == \"Meaningful employment\", \"Meaningful emp - match\", state.match)),\n         new.state.match = fct_relevel(new.state.match, \"Meaningful emp - match\", \"MN emp record - not meaningful\", \"No MN emp record\", \"After 2023\")) %&gt;%\n  select(-state.match) %&gt;%\n  rename(state.match = new.state.match) %&gt;%\n  mutate(Dem_Desc.match = new.mn.emp.record,\n         new.Dem_Desc.match = ifelse(Dem_Desc.match == \"Meaningful employment\" & hs.Dem_Desc == emp.Dem_Desc, \"Meaningful emp - match\", Dem_Desc.match),\n         new.Dem_Desc.match = ifelse(new.Dem_Desc.match == \"Meaningful employment\", \"Meaningful emp - no match\", new.Dem_Desc.match),\n         new.Dem_Desc.match = fct_relevel(new.Dem_Desc.match, \"Meaningful emp - match\", \"Meaningful emp - no match\", \"MN emp record - not meaningful\", \"No MN emp record\", \"After 2023\")) %&gt;%\n  select(-Dem_Desc.match) %&gt;%\n  rename(Dem_Desc.match = new.Dem_Desc.match) %&gt;%\n  distinct(PersonID, EmploymentOrganizationID, grad.year, .keep_all = TRUE) %&gt;%\n  select(PersonID, hs.grad.year, grad.year, county.match, edr.match, region.match, Dem_Desc.match, state.match) \n\n\nkable(names(grad.emp.location.match))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nhs.grad.year\n\n\ngrad.year\n\n\ncounty.match\n\n\nedr.match\n\n\nregion.match\n\n\nDem_Desc.match\n\n\nstate.match\n\n\n\n\nkable(head(grad.emp.location.match))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nhs.grad.year\ngrad.year\ncounty.match\nedr.match\nregion.match\nDem_Desc.match\nstate.match\n\n\n\n\n7699638\n2015\ngrad.year.1\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\n\n\n7699638\n2015\ngrad.year.0\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\n\n\n7699638\n2015\ngrad.year.3\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\n\n\n7699638\n2015\ngrad.year.2\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\nMN emp record - not meaningful\n\n\n7699638\n2015\ngrad.year.4\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\n\n\n7699638\n2015\ngrad.year.5\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\nNo MN emp record\n\n\n\n\n\n\nAfter significant road blocks, we finally have a dataset that provides each PersonID in the master list that had meaningful employment and confirmations on whether the employer location matches the high school county, EDR, research region, or is in Minnesota. This confirmation is for each x-time of graduation year - graduation year, one year after graduation, 2 years after graduation … 15 years after graduation.\nThe final dataset gives us 1,967,008 rows and 8 columns."
  },
  {
    "objectID": "emp_states_each_year.html#matrix-of-states",
    "href": "emp_states_each_year.html#matrix-of-states",
    "title": "Employment states each year",
    "section": "Matrix of states",
    "text": "Matrix of states\n\nmatrix.states &lt;- grad.emp.location.match %&gt;%\n  select(-hs.grad.year) %&gt;%\n  pivot_longer(names_to = \"location\", values_to = \"match\", 3:7) %&gt;%\n  group_by(grad.year, location, match) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  filter(match != \"After 2023\") %&gt;%\n  group_by(grad.year, location) %&gt;%\n  mutate(total.state = sum(n),\n         pct.state = n / total.state) %&gt;%\n  ungroup\n\n\n\nCounty MatchEDR MatchRegion MatchState Match\n\n\nAbout 15% of graduates have meaningful employment in the same county as their high school starting at around 5 years after graduating. The percentage of graduates that have meaningful employment, but not in the same county as their high school grows about a third, while the percentage of individuals with no MN employment record grows to about 30%.\n\ncounty.match.matrix.plot &lt;- ggplot(data = filter(matrix.states, location == \"county.match\"), aes(as.numeric(grad.year) - 1, pct.state, fill = match)) +\n  geom_area() +\n  labs(x=\"\", y = \"\", color=\"\", title = \"Different employment states by subsequent years after high school\\ngraduation\")+\n  scale_y_continuous(labels=scales::percent)+\n  scale_x_continuous(breaks = seq(0, 16, 1)) +\n  theme_bar+\n  scale_fill_manual(values = brewer.pal(n = 5, \"RdYlBu\"),\n                    guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"bottom\",\n        text = element_text(size = 18))\n\n\ngirafe(ggobj =county.match.matrix.plot, width_svg = 10, height_svg = 10) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))      \n\n\n\n\ntags$br()\n\n\n\ntags$br()\n\n\n\ncounty.match.matrix.table &lt;- matrix.states %&gt;%\n  filter(location == \"county.match\") %&gt;%\n  select(grad.year, match, pct.state) %&gt;%\n  pivot_wider(names_from = grad.year, values_from = pct.state)\n\ndatatable(county.match.matrix.table, class = \"cell-border stripe\", filter = \"top\", rownames = FALSE,\n          options = list(columnDefs = list(list(className = \"dt-center\", targets = 1:16)))) %&gt;%\n  formatPercentage(2:17)\n\n\n\n\n\n\n\nAt 5 years after graduation, the percentage of graduates that have meaningful employment in their EDR is around 25%. The percentage with meaningful employment outside of their EDR is 21% while 29% have no MN employment record.\n\nedr.match.matrix.plot &lt;- ggplot(data = filter(matrix.states, location == \"edr.match\"), aes(as.numeric(grad.year) - 1, pct.state, fill = match)) +\n  geom_area() +\n  labs(x=\"\", y = \"\", color=\"\", title = \"Different employment states by subsequent years after high school\\ngraduation\")+\n  scale_y_continuous(labels=scales::percent)+\n  scale_x_continuous(breaks = seq(0, 11, 1)) +\n  theme_bar+\n  scale_fill_manual(values = brewer.pal(n = 5, \"RdYlBu\"),\n                    guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"bottom\",\n        text = element_text(size = 18))\n\n\ngirafe(ggobj = edr.match.matrix.plot, width_svg = 10, height_svg = 10) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))      \n\n\n\n\ntags$br()\n\n\n\ntags$br()\n\n\n\nedr.match.matrix.table &lt;- matrix.states %&gt;%\n  filter(location == \"edr.match\") %&gt;%\n  select(grad.year, match, pct.state) %&gt;%\n  pivot_wider(names_from = grad.year, values_from = pct.state)\n\ndatatable(edr.match.matrix.table, class = \"cell-border stripe\", filter = \"top\", rownames = FALSE,\n          options = list(columnDefs = list(list(className = \"dt-center\", targets = 1:16)))) %&gt;%\n  formatPercentage(2:17)\n\n\n\n\n\n\n\nJust over a quarter of graduates have meaningful employment in the Southern region by 5 years after graduating high school and about 16% have meaningful employment in MN, but not the region.\n\nregion.match.matrix.plot &lt;- ggplot(data = filter(matrix.states, location == \"region.match\"), aes(as.numeric(grad.year) - 1, pct.state, fill = match)) +\n  geom_area() +\n  labs(x=\"\", y = \"\", color=\"\", title = \"Different employment states by subsequent years after high school\\ngraduation\")+\n  scale_y_continuous(labels=scales::percent)+\n  scale_x_continuous(breaks = seq(0, 11, 1)) +\n  theme_bar+\n  scale_fill_manual(values = brewer.pal(n = 5, \"RdYlBu\"),\n                    guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"bottom\",\n        text = element_text(size = 18))\n\n\ngirafe(ggobj =region.match.matrix.plot, width_svg = 10, height_svg = 10) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))      \n\n\n\n\ntags$br()\n\n\n\ntags$br()\n\n\n\nregion.match.matrix.table &lt;- matrix.states %&gt;%\n  filter(location == \"region.match\") %&gt;%\n  select(grad.year, match, pct.state) %&gt;%\n  pivot_wider(names_from = grad.year, values_from = pct.state)\n\ndatatable(region.match.matrix.table, class = \"cell-border stripe\", filter = \"top\", rownames = FALSE,\n          options = list(columnDefs = list(list(className = \"dt-center\", targets = 1:16)))) %&gt;%\n  formatPercentage(2:17)\n\n\n\n\n\n\n\nAbout half the graduates have meaningful employment in Minnesota while about 29% have no MN employment record.\n\nstate.match.matrix.plot &lt;- ggplot(data = filter(matrix.states, location == \"state.match\"), aes(as.numeric(grad.year) - 1, pct.state, fill = match)) +\n  geom_area() +\n  labs(x=\"\", y = \"\", color=\"\", title = \"Different employment states by subsequent years after high school\\ngraduation\")+\n  scale_y_continuous(labels=scales::percent)+\n  scale_x_continuous(breaks = seq(0, 11, 1)) +\n  theme_bar+\n  scale_fill_manual(values = brewer.pal(n = 5, \"RdYlBu\"),\n                    guide = guide_legend(ncol = 3)) +\n  theme(legend.position = \"bottom\",\n        text = element_text(size = 18))\n\n\ngirafe(ggobj =state.match.matrix.plot, width_svg = 10, height_svg = 10) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))      \n\n\n\n\ntags$br()\n\n\n\ntags$br()\n\n\n\nstate.match.matrix.table &lt;- matrix.states %&gt;%\n  filter(location == \"state.match\") %&gt;%\n  select(grad.year, match, pct.state) %&gt;%\n  pivot_wider(names_from = grad.year, values_from = pct.state)\n\ndatatable(state.match.matrix.table, class = \"cell-border stripe\", filter = \"top\", rownames = FALSE,\n          options = list(columnDefs = list(list(className = \"dt-center\", targets = 1:16)))) %&gt;%\n  formatPercentage(2:17)\n\n\n\n\n\n\n\n\n\n\nwrite_csv(grad.emp.location.match, \"Data/SLEDS/Masters/Master-emp-states-each-year.csv\")"
  },
  {
    "objectID": "sat.html",
    "href": "sat.html",
    "title": "SAT",
    "section": "",
    "text": "Data Prep\nAlright, lets see what this dataset looks like. I will first import the entire dataset, then clean it up, and then merge it with the master / Southern graduate dataset.\n\n\nsat.original &lt;- read_csv('/Users/kellyasche/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/SLEDS/SAT/AdvancedPlacementSATPSAT_SAT.csv') %&gt;%\n  mutate(PersonID = as.integer(PersonID))\n\nkable(head(sat.original))\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nTestTimeID\nTestType\nExamSubject\nExamGrade\n\n\n\n\n4900649\n20150630\nSAT\nSAT_CR_HC\n550\n\n\n10691183\n20170630\nSAT\nSAT_Cross_Test_Score_History_SocialStudies_MR\n33\n\n\n1619958\n20191005\nSAT\nSAT_Subscore_Context_HC\n10\n\n\n6026739\n20210508\nSAT\nrSAT_ERW_Score_MR\n640\n\n\n9243097\n20180630\nSAT\nSAT_Subscore_ProblemSolving_MR\n13\n\n\n10782444\n20170630\nSAT\nSAT_Cross_Test_Score_History_SocialStudies_MR\n27\n\n\n\n\nkable(names(sat.original))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nTestTimeID\n\n\nTestType\n\n\nExamSubject\n\n\nExamGrade\n\n\n\n\n\n\nThere are 152,927 rows and 5 columns. The definitions of the columns are;\n\nSATTimeID: Time of the test\nTestType: SAT\nExamSubject: subject\nExamGrade: Exam grades are all over the place here and there’s no definition in the data dictionary.\n\nOkay, since I don’t have any information related to how the grading system works, I will just utilize this dataset to code wither a PersonID has taken an SAT test.\n\n\nsat.taken &lt;- sat.original %&gt;%\n  mutate(sat.taken = 1) %&gt;%\n  select(PersonID, sat.taken) %&gt;%\n  distinct(PersonID, .keep_all = TRUE)\n\nkable(head(sat.taken))\n\n\n\n\nPersonID\nsat.taken\n\n\n\n\n4900649\n1\n\n\n10691183\n1\n\n\n1619958\n1\n\n\n6026739\n1\n\n\n9243097\n1\n\n\n10782444\n1\n\n\n\n\nkable(names(sat.taken))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nsat.taken\n\n\n\n\n\n\nNow we will join it with the master dataset.\n\n\nmaster.8 &lt;- read_csv(\"Data/SLEDS/Masters/Master-7.csv\") %&gt;%\n  mutate(PersonID) %&gt;%\n  left_join(sat.taken, by = \"PersonID\") %&gt;%\n  mutate(sat.taken = ifelse(is.na(sat.taken), 0, sat.taken),\n         Dem_Desc = fct_relevel(Dem_Desc, \"Town/rural mix\", \"Urban/town/rural mix\", \"Entirely urban\")) \n\nsat.master &lt;- read_csv(\"Data/SLEDS/Masters/Master-1.csv\") %&gt;%\n  select(PersonID) %&gt;%\n  left_join(sat.taken, by = \"PersonID\") %&gt;%\n  mutate(sat.taken = ifelse(is.na(sat.taken), 0, sat.taken))\n\nwrite_csv(sat.master, \"Data/SLEDS/Masters/sat_master.csv\")\n\nkable(head(master.8))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nK12OrganizationID\nOrganizationName\ncounty.name\ncountyfp\nDem_Desc\nedr\ngrad.year\ngrad.year.covid\nGender\nLimitedEnglishProficiencyIndicator\nHomelessIndicator\neconomic.status\npseo.participant\nSpecialEdStatus\nnon.english.home\nRaceEthnicity\nn.years.attended\nACTCompositeScore\nap.exam\ntotal.cte.courses.taken\nACTE-SPED\nAgriculture, Food, and Natural Resources\nArchitecture & Construction\nArts, A/V Technology & Communication\nBusiness, Management & Administrative\nDiversified\nEducation & Training\nFinance\nGovernment & Public Administration\nHealth Science\nHospitality & Tourism\nHuman Services\nInformation Technology\nLaw, Public Safety & Security\nManufacturing\nMarketing\nProgram Area (Diversified)\nScience, Technology, Engineering, & Mathematics\nSTEM\nTransportation, Distribution & Logistics\nWork Experience-Handicapped\nWork Experience-Handicapped (16-20+ on IEP)\nWork Experience/Career Exploration (age 14-15 on I\nWork-Experience-Disadvantaged\nYouth Apprenticeship\ncte.achievement\nenglish.learner\nMCA.M\nMCA.R\nMCA.S\nsat.taken\n\n\n\n\n7699638\n29705\nFILLMORE CENTRAL SENIOR HIGH\nFillmore\n045\nUrban/town/rural mix\nEDR 10 - Southeast\n2015\nPre-covid grad\nM\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n0\n2\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\nCTE Participant\n0\n3\n4\n3\n0\n\n\n2225025\n132298\nMAYO SENIOR HIGH\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2017\nPre-covid grad\nM\nN\nN\n0\n0\n0\n0\nWhite\n3\n29\n0\n1\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nNo CTE\n0\n4\n4\n4\n1\n\n\n10400093\n62\nCannon Falls Secondary\nGoodhue\n049\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n20\n1\n2\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\nCTE Participant\n0\n4\n4\n3\n0\n\n\n8786746\n128661\nLINCOLN SECONDARY\nWabasha\n157\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n24\n1\n2\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nCTE Participant\n0\n4\n4\n3\n0\n\n\n11122574\n109999\nAUSTIN SENIOR HIGH\nMower\n099\nUrban/town/rural mix\nEDR 10 - Southeast\n2011\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nNo CTE\n0\n3\n4\n3\n0\n\n\n10181573\n155484\nCHATFIELD SECONDARY\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2010\nPre-covid grad\nM\nN\nN\n0\nNA\n0\n0\nWhite\n3\n33\n1\n1\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nCTE Participant\n0\n4\n4\n4\n0\n\n\n\n\nkable(names(master.8))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nK12OrganizationID\n\n\nOrganizationName\n\n\ncounty.name\n\n\ncountyfp\n\n\nDem_Desc\n\n\nedr\n\n\ngrad.year\n\n\ngrad.year.covid\n\n\nGender\n\n\nLimitedEnglishProficiencyIndicator\n\n\nHomelessIndicator\n\n\neconomic.status\n\n\npseo.participant\n\n\nSpecialEdStatus\n\n\nnon.english.home\n\n\nRaceEthnicity\n\n\nn.years.attended\n\n\nACTCompositeScore\n\n\nap.exam\n\n\ntotal.cte.courses.taken\n\n\nACTE-SPED\n\n\nAgriculture, Food, and Natural Resources\n\n\nArchitecture & Construction\n\n\nArts, A/V Technology & Communication\n\n\nBusiness, Management & Administrative\n\n\nDiversified\n\n\nEducation & Training\n\n\nFinance\n\n\nGovernment & Public Administration\n\n\nHealth Science\n\n\nHospitality & Tourism\n\n\nHuman Services\n\n\nInformation Technology\n\n\nLaw, Public Safety & Security\n\n\nManufacturing\n\n\nMarketing\n\n\nProgram Area (Diversified)\n\n\nScience, Technology, Engineering, & Mathematics\n\n\nSTEM\n\n\nTransportation, Distribution & Logistics\n\n\nWork Experience-Handicapped\n\n\nWork Experience-Handicapped (16-20+ on IEP)\n\n\nWork Experience/Career Exploration (age 14-15 on I\n\n\nWork-Experience-Disadvantaged\n\n\nYouth Apprenticeship\n\n\ncte.achievement\n\n\nenglish.learner\n\n\nMCA.M\n\n\nMCA.R\n\n\nMCA.S\n\n\nsat.taken\n\n\n\n\n\n\nAs expected there are 122,938 rows and 52 columns.\n\n\nSummary of SAT data\nLets check to see what percentage of the master dataset has taken the SAT.\nThere is a tiny percentage of the dataset that has taken the SAT, 1.8%. With this information I don’t see a need to check whether there is a significant difference in students taking the SAT based on RUCA category or EDR. Even if there is a significant difference, there just isn’t enough observations to make a difference.\n\n\nsat.total &lt;- master.8 %&gt;%\n  group_by(sat.taken) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  mutate(pct = n / sum(n))\n\ndatatable(sat.total, class = \"cell-border stripe\", filter = \"top\", rownames = FALSE,\n          options = list(columnDefs = list(list(className = \"dt-center\", targets = 0:1))))  %&gt;%\n  formatPercentage(3, digits = 1) %&gt;%\n  formatCurrency(2, digits = 0, \"\")\n\n\n\n\n\n\nwrite_csv(master.8, \"Data/SLEDS/Masters/Master-8.csv\")"
  },
  {
    "objectID": "unemployment.html",
    "href": "unemployment.html",
    "title": "Unemployment",
    "section": "",
    "text": "Data Prep\nThe unemployment rate is from MN DEED LAUS website and includes the average, three year rolling average unemployment rate from 2008 to 2024. I’m going import the entire dataset.\n\n\nunemployment.original &lt;- read_csv('/Users/kellyasche/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/Unemployment/Master-avg-unemp-rate-county.csv') \n\nkable(head(unemployment.original))\n\n\n\n\ncountyfp\nhs.grad.year\navg.unemp.rate\n\n\n\n\n005\n2008\n5.866667\n\n\n017\n2008\n5.866667\n\n\n073\n2008\n4.200000\n\n\n041\n2008\n4.400000\n\n\n031\n2008\n4.933333\n\n\n059\n2008\n5.933333\n\n\n\n\nkable(names(unemployment.original))\n\n\n\n\nx\n\n\n\n\ncountyfp\n\n\nhs.grad.year\n\n\navg.unemp.rate\n\n\n\n\n\n\nThe dataset above contains each county along with their three year rolling average of unemployment rate.\nNow, we need to join it up with the master dataset by high school graduation year and county of high school.\n\n\nmaster.11 &lt;- read_csv(\"Data/SLEDS/Masters/Master-11.csv\")\n\nmaster.12 &lt;- master.11 %&gt;%\n  left_join(unemployment.original, by = c(\"hs.grad.year\", \"countyfp\"))\n\nunemployment.master &lt;- read_csv(\"Data/SLEDS/Masters/Master-1.csv\") %&gt;%\n  select(PersonID, grad.year, countyfp) %&gt;%\n  left_join(unemployment.original, by = c(\"grad.year\" = \"hs.grad.year\", \"countyfp\")) %&gt;%\n  select(-countyfp, -grad.year)\n\nwrite_csv(unemployment.master, \"Data/SLEDS/Masters/unemployment_master.csv\")\n\nkable(head(master.12))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nK12OrganizationID\nOrganizationName\ncounty.name\ncountyfp\nDem_Desc\nedr\nhs.grad.year\ngrad.year.covid\nGender\nLimitedEnglishProficiencyIndicator\nHomelessIndicator\neconomic.status\npseo.participant\nSpecialEdStatus\nnon.english.home\nRaceEthnicity\nn.years.attended\nACTCompositeScore\nap.exam\ntotal.cte.courses.taken\nACTE-SPED\nAgriculture, Food, and Natural Resources\nArchitecture & Construction\nArts, A/V Technology & Communication\nBusiness, Management & Administrative\nDiversified\nEducation & Training\nFinance\nGovernment & Public Administration\nHealth Science\nHospitality & Tourism\nHuman Services\nInformation Technology\nLaw, Public Safety & Security\nManufacturing\nMarketing\nProgram Area (Diversified)\nScience, Technology, Engineering, & Mathematics\nSTEM\nTransportation, Distribution & Logistics\nWork Experience-Handicapped\nWork Experience-Handicapped (16-20+ on IEP)\nWork Experience/Career Exploration (age 14-15 on I\nWork-Experience-Disadvantaged\nYouth Apprenticeship\ncte.achievement\nenglish.learner\nMCA.M\nMCA.R\nMCA.S\nsat.taken\nattended.ps\nfirst.attend.ps\nattended.ps.first.year\nattended.ps.years.hsgrad\nattended.ps.within.first.year.hsgrad\nn.institutions\nfirst.InstitutionSector\nps.sector.1\nps.sector.2\nps.sector.3\nps.sector.4\nps.sector.5\nps.sector.6\nps.sector.7\nps.sector.8\nps.sector.9\nps.attended.in.same.ruca\nps.attended.in.same.edr\nps.attended.in.same.pr\nps.attended.in.MN\nps.grad\nmin.ps.grad.year\nmax.ps.grad.year\nyears.between.grads\nps.grad.InstitutionSector\nhighest.cred.level\nps.grad.in.same.ruca\nps.grad.in.same.edr\nps.grad.in.same.pr\nps.grad.in.MN\nmn.emp.record.hs.grad.year\nmn.emp.record.hs.grad.year.2\nmn.emp.record.hs.grad.year.7\nmeaningful.emp.hs.grad.year\nmeaningful.emp.hs.grad.year.2\nmeaningful.emp.hs.grad.year.7\nhs.grad.year.county.match\nhs.grad.year.2.county.match\nhs.grad.year.7.county.match\nhs.grad.year.edr.match\nhs.grad.year.2.edr.match\nhs.grad.year.7.edr.match\nhs.grad.year.region.match\nhs.grad.year.2.region.match\nhs.grad.year.7.region.match\nhs.grad.year.state.match\nhs.grad.year.2.state.match\nhs.grad.year.7.state.match\nind.match.hs.grad.year\nind.match.hs.grad.year.2\nind.match.hs.grad.year.7\navg.unemp.rate\n\n\n\n\n7699638\n29705\nFILLMORE CENTRAL SENIOR HIGH\nFillmore\n045\nUrban/town/rural mix\nEDR 10 - Southeast\n2015\nPre-covid grad\nM\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n0\n2\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\nCTE Participant\n0\n3\n4\n3\n0\nYes\n20150824\n2015\n0\nYes\n3\n1\n1\n0\n0\n1\n0\n0\n0\n0\n0\nInside and outside same RUCA\nInside and outside same EDR\nInside and outside same PR\nInside and outside MN\nNo\nNA\nNA\nNA\nNA\nLess than Associate Degree\nNA\nNA\nNA\nNA\nMN emp record\nMN emp record\nNo MN emp record\nNo meaningful emp\nNo meaningful emp\nNo MN emp record\nNo meaningful emp\nNo meaningful emp\nNo MN emp record\nNo meaningful emp\nNo meaningful emp\nNo MN emp record\nNo meaningful emp\nNo meaningful emp\nNo MN emp record\nNo meaningful emp\nNo meaningful emp\nNo MN emp record\nNo meaningful emp\nNo meaningful emp\nNo MN emp record\n4.600000\n\n\n2225025\n132298\nMAYO SENIOR HIGH\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2017\nPre-covid grad\nM\nN\nN\n0\n0\n0\n0\nWhite\n3\n29\n0\n1\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nNo CTE\n0\n4\n4\n4\n1\nYes\n20170905\n2017\n0\nYes\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\nIn same RUCA\nOutside EDR\nOutside PR\nIn MN\nNo\nNA\nNA\nNA\nNA\nLess than Associate Degree\nNA\nNA\nNA\nNA\nMN emp record\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\nNo meaningful emp\nNo MN emp record\nAfter 2023\n2.900000\n\n\n10400093\n62\nCannon Falls Secondary\nGoodhue\n049\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n20\n1\n2\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\nCTE Participant\n0\n4\n4\n3\n0\nYes\n20140825\n2014\n0\nYes\n2\n4\n0\n1\n0\n1\n0\n0\n0\n0\n0\nIn same RUCA\nOutside EDR\nOutside PR\nIn MN\nY\n2017\n2017\n3\n2\nBachelor degree\nIn same RUCA\nOutside EDR\nOutside PR\nIn MN\nMN emp record\nMN emp record\nMN emp record\nNo meaningful emp\nMeaningful emp\nMeaningful emp\nNo meaningful emp\nNo location match\nNo location match\nNo meaningful emp\nLocation match\nLocation match\nNo meaningful emp\nLocation match\nLocation match\nNo meaningful emp\nLocation match\nLocation match\nNo meaningful emp\nNo ind match\nNo ind match\n4.666667\n\n\n8786746\n128661\nLINCOLN SECONDARY\nWabasha\n157\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n24\n1\n2\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nCTE Participant\n0\n4\n4\n3\n0\nYes\n20140902\n2014\n0\nYes\n1\n2\n0\n1\n0\n0\n0\n0\n0\n0\n0\nIn same RUCA\nOutside EDR\nIn same PR\nIn MN\nY\n2018\n2018\n4\n2\nLess than Associate Degree\nIn same RUCA\nOutside EDR\nIn same PR\nIn MN\nNo MN emp record\nMN emp record\nMN emp record\nNo MN emp record\nNo meaningful emp\nMeaningful emp\nNo MN emp record\nNo meaningful emp\nNo location match\nNo MN emp record\nNo meaningful emp\nLocation match\nNo MN emp record\nNo meaningful emp\nLocation match\nNo MN emp record\nNo meaningful emp\nLocation match\nNo MN emp record\nNo meaningful emp\nNo ind match\n4.666667\n\n\n11122574\n109999\nAUSTIN SENIOR HIGH\nMower\n099\nUrban/town/rural mix\nEDR 10 - Southeast\n2011\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n3\n19\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nNo CTE\n0\n3\n4\n3\n0\nYes\n20110822\n2011\n0\nYes\n2\n4\n1\n0\n0\n1\n0\n0\n0\n0\n0\nIn same RUCA\nInside and outside same EDR\nInside and outside same PR\nIn MN\nY\n2013\n2016\n2\n10\nBachelor degree\nIn same RUCA\nInside and outside same EDR\nInside and outside same PR\nIn MN\nMN emp record\nMN emp record\nMN emp record\nNo meaningful emp\nMeaningful emp\nMeaningful emp\nNo meaningful emp\nNo location match\nNo location match\nNo meaningful emp\nNo location match\nNo location match\nNo meaningful emp\nNo location match\nNo location match\nNo meaningful emp\nLocation match\nLocation match\nNo meaningful emp\nNo CTE\nNo CTE\n6.000000\n\n\n10181573\n155484\nCHATFIELD SECONDARY\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2010\nPre-covid grad\nM\nN\nN\n0\nNA\n0\n0\nWhite\n3\n33\n1\n1\n0\n0\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nCTE Participant\n0\n4\n4\n4\n0\nYes\n20120827\n2012\n2\nNo\n2\n4\n1\n0\n0\n1\n0\n0\n0\n0\n0\nIn same RUCA\nOutside EDR\nOutside PR\nIn MN\nY\n2012\n2015\n2\n10\nBachelor degree\nInside and outside same RUCA\nOutside EDR\nOutside PR\nIn MN\nMN emp record\nMN emp record\nMN emp record\nNo meaningful emp\nNo meaningful emp\nMeaningful emp\nNo meaningful emp\nNo meaningful emp\nNo location match\nNo meaningful emp\nNo meaningful emp\nNo location match\nNo meaningful emp\nNo meaningful emp\nNo location match\nNo meaningful emp\nNo meaningful emp\nLocation match\nNo meaningful emp\nNo meaningful emp\nNo ind match\n5.466667\n\n\n\n\nkable(names(master.12))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nK12OrganizationID\n\n\nOrganizationName\n\n\ncounty.name\n\n\ncountyfp\n\n\nDem_Desc\n\n\nedr\n\n\nhs.grad.year\n\n\ngrad.year.covid\n\n\nGender\n\n\nLimitedEnglishProficiencyIndicator\n\n\nHomelessIndicator\n\n\neconomic.status\n\n\npseo.participant\n\n\nSpecialEdStatus\n\n\nnon.english.home\n\n\nRaceEthnicity\n\n\nn.years.attended\n\n\nACTCompositeScore\n\n\nap.exam\n\n\ntotal.cte.courses.taken\n\n\nACTE-SPED\n\n\nAgriculture, Food, and Natural Resources\n\n\nArchitecture & Construction\n\n\nArts, A/V Technology & Communication\n\n\nBusiness, Management & Administrative\n\n\nDiversified\n\n\nEducation & Training\n\n\nFinance\n\n\nGovernment & Public Administration\n\n\nHealth Science\n\n\nHospitality & Tourism\n\n\nHuman Services\n\n\nInformation Technology\n\n\nLaw, Public Safety & Security\n\n\nManufacturing\n\n\nMarketing\n\n\nProgram Area (Diversified)\n\n\nScience, Technology, Engineering, & Mathematics\n\n\nSTEM\n\n\nTransportation, Distribution & Logistics\n\n\nWork Experience-Handicapped\n\n\nWork Experience-Handicapped (16-20+ on IEP)\n\n\nWork Experience/Career Exploration (age 14-15 on I\n\n\nWork-Experience-Disadvantaged\n\n\nYouth Apprenticeship\n\n\ncte.achievement\n\n\nenglish.learner\n\n\nMCA.M\n\n\nMCA.R\n\n\nMCA.S\n\n\nsat.taken\n\n\nattended.ps\n\n\nfirst.attend.ps\n\n\nattended.ps.first.year\n\n\nattended.ps.years.hsgrad\n\n\nattended.ps.within.first.year.hsgrad\n\n\nn.institutions\n\n\nfirst.InstitutionSector\n\n\nps.sector.1\n\n\nps.sector.2\n\n\nps.sector.3\n\n\nps.sector.4\n\n\nps.sector.5\n\n\nps.sector.6\n\n\nps.sector.7\n\n\nps.sector.8\n\n\nps.sector.9\n\n\nps.attended.in.same.ruca\n\n\nps.attended.in.same.edr\n\n\nps.attended.in.same.pr\n\n\nps.attended.in.MN\n\n\nps.grad\n\n\nmin.ps.grad.year\n\n\nmax.ps.grad.year\n\n\nyears.between.grads\n\n\nps.grad.InstitutionSector\n\n\nhighest.cred.level\n\n\nps.grad.in.same.ruca\n\n\nps.grad.in.same.edr\n\n\nps.grad.in.same.pr\n\n\nps.grad.in.MN\n\n\nmn.emp.record.hs.grad.year\n\n\nmn.emp.record.hs.grad.year.2\n\n\nmn.emp.record.hs.grad.year.7\n\n\nmeaningful.emp.hs.grad.year\n\n\nmeaningful.emp.hs.grad.year.2\n\n\nmeaningful.emp.hs.grad.year.7\n\n\nhs.grad.year.county.match\n\n\nhs.grad.year.2.county.match\n\n\nhs.grad.year.7.county.match\n\n\nhs.grad.year.edr.match\n\n\nhs.grad.year.2.edr.match\n\n\nhs.grad.year.7.edr.match\n\n\nhs.grad.year.region.match\n\n\nhs.grad.year.2.region.match\n\n\nhs.grad.year.7.region.match\n\n\nhs.grad.year.state.match\n\n\nhs.grad.year.2.state.match\n\n\nhs.grad.year.7.state.match\n\n\nind.match.hs.grad.year\n\n\nind.match.hs.grad.year.2\n\n\nind.match.hs.grad.year.7\n\n\navg.unemp.rate\n\n\n\n\n\n\nAfter joining with master dataset, we have 122,938 rows along with 104 columns.\n\n\n\nSummary\nNot really much to summarize here.\n\nwrite_csv(master.12, \"Data/SLEDS/Masters/Master-12.csv\")"
  },
  {
    "objectID": "assessments.html",
    "href": "assessments.html",
    "title": "Assessments",
    "section": "",
    "text": "Okay, lets check out assessments. This is the entire assessment dataset, which I will first clean up and then join it with our master/Southern graduate dataset.\n\n\nassessments.original &lt;- read_csv('/Users/kellyasche/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/SLEDS/Assessments/K12Assessment.csv')  %&gt;%\n  mutate(PersonID = as.integer(PersonID),\n         TestName = as.factor(TestName),\n         Subject = as.factor(Subject),\n         AchievementLevel = as.factor(AchievementLevel)) \n\nkable(head(assessments.original))\n\n\n\n\nPersonID\nSubject\nTestName\nGrade\nAchievementLevel\n\n\n\n\n7331360\nM\nMCA-II\n05\nE\n\n\n11301019\nR\nMCA-II\n04\nM\n\n\n8244901\nS\nMCA-III\n05\nD\n\n\n2211485\nM\nMCA-II\n04\nE\n\n\n10110500\nS\nMCA-II\n05\nM\n\n\n8371732\nM\nMCA-II\n07\nM\n\n\n\n\nkable(names(assessments.original))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nSubject\n\n\nTestName\n\n\nGrade\n\n\nAchievementLevel\n\n\n\n\n\n\nWe have 5,744,192 rows and 5 columns in this dataset. Here are the descriptions for each of the columns.\n\nK12AsstTimeID: Day, month, and year the assessment took place.\nTestName: Name of the test taken. There are 12 different tests in the dataset -\n\nACCESS: English proficiency,\nALTACCESS: English proficiency for special education or meet requirements\nMCA-II & MCA-III: Minnesota Comprehsensive Assessments (series 2 and 3)\nMOD-II, MOD-III: Modified Comprehensive Assessment, used only until 2014\nMTAS & MTAS-III: Minnesota Test of Academic Skills\nMTELL: an alternate assessment for students learning English (like the MTAS or MOD). MTELL was only administered from 2007-2010 during the series-II of MCAs.\nSOLOM: Minnesota Student Oral Language Observation Matrix\nTEAE: one of two assessments that Minnesota used to meet the requirements to test ELs in all four domains of language (the other was SOLOM). TEAE was used 2002 until we changed to ACCESS in 2012. SOLOM was used 2004 until we changed to ACCESS in 2012.\n\nSubject: Classifies each test that is given to a student based on the areas measured. There are 8 factors;\n\nA: Aural (listening) - ACCESS & ALTACCESS only\nC: Composite - ACCESS & ALTACCESS only\nL: Listening/Speaking\nM: Math\nO: Oral - ACCESS & ALTACCESS only\nR: Reading\nS: Science\nW: Writing\n\nGradeTested: Grade student was enrolled in when performing assessment.\nAchievementLevel: Used to count the number of students in each achievement level by group such as race, gender, and ethnicity. It must be calculated from other students at a similar graden and subject for a specific year.\n\nACCESS students are graded on a language proficiency scale of 1 through 6.\nALT-ACCESS students are graded using a P1 through P3 and A1 through A3 scale.\nThere are 4 different levels for the MCA test\n\nD: Does not meet standards\nE: Exceeds standards\nM: Meets Standards\nP: Partially meets standards\n\nSOLOM tests are 1-5 scale with 5 being the highest\nTEAE tests are 1-5 scale with 5 being the highest.\n\n\nThere are two ways in which we are going to code our graduates.\nThe first is to identify whether a student has been identified as an English learner. This means filtering students that have taken the ACCESS, ALT-ACCESS, MTELL, MTAS, TEAE, MOD-II, MOD-III, or SOLOM at least once in their career.\nThe second is be determining their highest achievement level in each subject of the MCA tests within the dataset. The dataset provides each instance of a test for each student so many are students are listed numerous times - once for each time they took a test.\nLets do this in two separate files and then join each with the master file.\nStarting with identifying the EL students.\n\n\nel &lt;- assessments.original %&gt;%\n  filter(!TestName %in% c(\"MCA-II\", \"MCA-III\")) %&gt;%\n  distinct(PersonID, .keep_all = TRUE) %&gt;%\n  select(PersonID) %&gt;%\n  mutate(english.learner = 1)\n\nkable(head(el))\n\n\n\n\nPersonID\nenglish.learner\n\n\n\n\n11900797\n1\n\n\n5028261\n1\n\n\n3317469\n1\n\n\n3035228\n1\n\n\n637352\n1\n\n\n10025775\n1\n\n\n\n\nkable(names(el))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nenglish.learner\n\n\n\n\n\n\nThis dataset identified 34,995 individuals who were identified as an english learner at least one time in the original dataset.\nNow we will determine the highest achievement level for each subject for each student.\n\n\nmca &lt;- assessments.original %&gt;%\n  filter(TestName %in% c(\"MCA-II\", \"MCA-III\")) %&gt;%\n  filter(AchievementLevel != \"NULL\") %&gt;%\n  droplevels() %&gt;%\n  mutate(AchievementLevelCode = ifelse(AchievementLevel == \"D\", 1,\n                                       ifelse(AchievementLevel == \"P\", 2,\n                                              ifelse(AchievementLevel == \"M\", 3, 4))))\n\nmca.highest &lt;- mca %&gt;%\n  group_by(PersonID, Subject) %&gt;%\n  filter(AchievementLevelCode == max(AchievementLevelCode)) %&gt;%\n  ungroup() %&gt;%\n  select(PersonID, Subject, AchievementLevelCode) %&gt;%\n  mutate(mca.subject = paste(\"MCA.\", Subject, sep = \"\")) %&gt;%\n  select(PersonID, mca.subject, AchievementLevelCode) %&gt;%\n  mutate(id = seq(n())) %&gt;%\n  spread(key = mca.subject, value = AchievementLevelCode) %&gt;%\n  group_by(PersonID) %&gt;%\n  fill(MCA.M, .direction = c(\"downup\")) %&gt;%\n  fill(MCA.R, .direction = \"downup\") %&gt;%\n  fill(MCA.S, .direction = \"downup\") %&gt;%\n  distinct(PersonID, .keep_all = TRUE) %&gt;%\n  select(-id)\n  \nkable(head(mca.highest))\n\n\n\n\nPersonID\nMCA.M\nMCA.R\nMCA.S\n\n\n\n\n7331360\n4\n4\n4\n\n\n11301019\n3\n3\n3\n\n\n8244901\n2\n3\n1\n\n\n2211485\n4\n4\n4\n\n\n2323416\n4\n4\n4\n\n\n2960983\n4\n4\n3\n\n\n\n\nkable(names(mca.highest))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nMCA.M\n\n\nMCA.R\n\n\nMCA.S\n\n\n\n\n\n\nThis dataset has 495,034 rows and 4 columns. In this dataset, I have recoded the AchievementLevel so that 1 = Do not meet standards, 2 = Partially meets standards, 3 = Meets standards, and 4 = Exceeds standards. I will summarize this column in the summary section below.\nNow it’s time to join the datasets.\n\n\nmaster.7 &lt;- read_csv(\"Data/SLEDS/Masters/Master-5.csv\") %&gt;%\n  mutate(PersonID = as.integer(PersonID)) %&gt;%\n  left_join(el, by = \"PersonID\") %&gt;%\n  left_join(mca.highest, by = \"PersonID\") %&gt;%\n  mutate(english.learner = ifelse(is.na(english.learner), 0, english.learner),\n         Dem_Desc = fct_relevel(Dem_Desc, \"Town/rural mix\", \"Urban/town/rural mix\", \"Entirely urban\"))\n\nassessments.master &lt;- read_csv(\"Data/SLEDS/Masters/Master-5.csv\") %&gt;%\n  select(PersonID) %&gt;%\n  mutate(PersonID = as.integer(PersonID)) %&gt;%\n  left_join(el, by = \"PersonID\") %&gt;%\n  left_join(mca.highest, by = \"PersonID\") %&gt;%\n  mutate(english.learner = ifelse(is.na(english.learner), 0, english.learner))\n\nwrite_csv(assessments.master, \"Data/SLEDS/Masters/assessments_master.csv\")"
  },
  {
    "objectID": "assessments.html#mca---math",
    "href": "assessments.html#mca---math",
    "title": "Assessments",
    "section": "MCA - Math",
    "text": "MCA - Math\nWe will start with analyzing math and RUCA categories.\nThe p-value from the cross-tabs indicate that there is a relationship between RUCA categories and the grades received in the MCA-Math test.\nTown/rural mix: 67% met or exceeded\nUrban/town/rural mix: 69% met or exceeded\nEntirely urban: 72% met or exceeded\n\n\nRUCA TableRUCA Cross-tabs\n\n\n\nmca.highest.summary.ruca &lt;- master.7 %&gt;%\n  select(Dem_Desc, MCA.M) %&gt;%\n  mutate(MCA.M = ifelse(MCA.M == 1, \"D\",\n                              ifelse(MCA.M == 2, \"P\",\n                                     ifelse(MCA.M == 3, \"M\",\n                                            ifelse(MCA.M == 4, \"E\", MCA.M)))),\n         MCA.M = fct_relevel(MCA.M, \"D\", \"P\", \"M\", \"E\")) %&gt;%\n  group_by(Dem_Desc, MCA.M) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(Dem_Desc) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = as.character(seq(n())))\n\nmca.highest.ruca.plot &lt;- ggplot(mca.highest.summary.ruca, aes(Dem_Desc, pct, fill = MCA.M, group = MCA.M)) +\n    geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(\"MCA - Math\", \"\\nGrade: \", MCA.M, \"\\nNumber of students with this grade: \", comma(n, accuracy = 1), \"\\nPercent of students: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(position = position_dodge(width = .9), aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"black\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Student grades within RUCA category for MCA - Math\")+\n    scale_y_continuous(labels=scales::percent)+\n    theme_bar+\n    scale_fill_manual(values= brewer.pal(n = 5, \"RdYlBu\"),\n                       guide = guide_legend(ncol = 3)) +\n    theme(legend.position = \"bottom\",\n          text = element_text(size = 16),\n          axis.text.x = element_text(angle = 25, hjust = .9))\n\n\ngirafe(ggobj = mca.highest.ruca.plot) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nCrossTable(master.7$Dem_Desc, master.7$MCA.M, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  117247 \n\n \n                     | master.7$MCA.M \n   master.7$Dem_Desc |         1 |         2 |         3 |         4 | Row Total | \n---------------------|-----------|-----------|-----------|-----------|-----------|\n      Town/rural mix |      3005 |      3160 |      7599 |      7206 |     20970 | \n                     |  2752.014 |  2918.348 |  7424.196 |  7875.443 |           | \n                     |     0.143 |     0.151 |     0.362 |     0.344 |     0.179 | \n---------------------|-----------|-----------|-----------|-----------|-----------|\nUrban/town/rural mix |      7694 |      8334 |     20506 |     19975 |     56509 | \n                     |  7416.002 |  7864.230 | 20006.385 | 21222.383 |           | \n                     |     0.136 |     0.147 |     0.363 |     0.353 |     0.482 | \n---------------------|-----------|-----------|-----------|-----------|-----------|\n      Entirely urban |      4688 |      4823 |     13405 |     16852 |     39768 | \n                     |  5218.984 |  5534.423 | 14079.419 | 14935.174 |           | \n                     |     0.118 |     0.121 |     0.337 |     0.424 |     0.339 | \n---------------------|-----------|-----------|-----------|-----------|-----------|\n        Column Total |     15387 |     16317 |     41510 |     44033 |    117247 | \n---------------------|-----------|-----------|-----------|-----------|-----------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  652.3535     d.f. =  6     p =  1.179725e-137"
  },
  {
    "objectID": "assessments.html#mca---reading",
    "href": "assessments.html#mca---reading",
    "title": "Assessments",
    "section": "MCA - Reading",
    "text": "MCA - Reading\nNext lets analyze reading and RUCA categories.\nThe p-value from the cross-tabs indicate that there is a relationship between RUCA categories and the grades received in the MCA-Reading test. Hoewever, I’m seeing every little difference here.\nTown/rural mix: 76%\nUrban/town/rural mix: 79%\nEntirely urban: 81%\n\n\nRUCA TableRUCA Cross-tabs\n\n\n\nmca.highest.reading.summary.ruca &lt;- master.7 %&gt;%\n  select(Dem_Desc, MCA.R) %&gt;%\n  mutate(MCA.R = ifelse(MCA.R == 1, \"D\",\n                              ifelse(MCA.R == 2, \"P\",\n                                     ifelse(MCA.R == 3, \"M\",\n                                            ifelse(MCA.R == 4, \"E\", MCA.R)))),\n         MCA.R = fct_relevel(MCA.R, \"D\", \"P\", \"M\", \"E\")) %&gt;%\n  group_by(Dem_Desc, MCA.R) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(Dem_Desc) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = as.character(seq(n())))\n\nmca.highest.reading.ruca.plot &lt;- ggplot(mca.highest.reading.summary.ruca, aes(Dem_Desc, pct, fill = MCA.R, group = MCA.R)) +\n    geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(\"MCA - Math\", \"\\nGrade: \", MCA.R, \"\\nNumber of students with this grade: \", comma(n, accuracy = 1), \"\\nPercent of students: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(position = position_dodge(width = .9), aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"black\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Student grades within RUCA category for MCA - Reading\")+\n    scale_y_continuous(labels=scales::percent)+\n    theme_bar+\n    scale_fill_manual(values= brewer.pal(n = 5, \"RdYlBu\"),\n                       guide = guide_legend(ncol = 3)) +\n    theme(legend.position = \"bottom\",\n          text = element_text(size = 16),\n          axis.text.x = element_text(angle = 25, hjust = .9))\n\n\ngirafe(ggobj = mca.highest.reading.ruca.plot) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nCrossTable(master.7$Dem_Desc, master.7$MCA.R, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  116495 \n\n \n                     | master.7$MCA.R \n   master.7$Dem_Desc |         1 |         2 |         3 |         4 | Row Total | \n---------------------|-----------|-----------|-----------|-----------|-----------|\n      Town/rural mix |      1457 |      2466 |      6707 |     10192 |     20822 | \n                     |  1390.219 |  2201.150 |  6324.261 | 10906.370 |           | \n                     |     0.070 |     0.118 |     0.322 |     0.489 |     0.179 | \n---------------------|-----------|-----------|-----------|-----------|-----------|\nUrban/town/rural mix |      3919 |      6180 |     17496 |     28418 |     56013 | \n                     |  3739.810 |  5921.285 | 17012.816 | 29339.090 |           | \n                     |     0.070 |     0.110 |     0.312 |     0.507 |     0.481 | \n---------------------|-----------|-----------|-----------|-----------|-----------|\n      Entirely urban |      2402 |      3669 |     11180 |     22409 |     39660 | \n                     |  2647.972 |  4192.565 | 12045.923 | 20773.540 |           | \n                     |     0.061 |     0.093 |     0.282 |     0.565 |     0.340 | \n---------------------|-----------|-----------|-----------|-----------|-----------|\n        Column Total |      7778 |     12315 |     35383 |     61019 |    116495 | \n---------------------|-----------|-----------|-----------|-----------|-----------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  446.7947     d.f. =  6     p =  2.403142e-93"
  },
  {
    "objectID": "assessments.html#mca---science",
    "href": "assessments.html#mca---science",
    "title": "Assessments",
    "section": "MCA - Science",
    "text": "MCA - Science\nNext lets analyze science and RUCA categories.\nThe p-value from the cross-tabs indicate that there is a relationship between RUCA categories and the grades received in the MCA-Science test.\nThe largest different is the town/rural mix districts where 65% of graduates have exceeded or met standards for science compared to 60% for entirely rural and 58% for urban/town/rural mix.\nTown/rural mix: 46%\nUrban/town/rural mix: 51%\nEntirely urban: 61%\n\n\nRUCA TableRUCA Cross-tabs\n\n\n\nmca.highest.science.summary.ruca &lt;- master.7 %&gt;%\n  select(Dem_Desc, MCA.S) %&gt;%\n  mutate(MCA.S = ifelse(MCA.S == 1, \"D\",\n                              ifelse(MCA.S == 2, \"P\",\n                                     ifelse(MCA.S == 3, \"M\",\n                                            ifelse(MCA.S == 4, \"E\", MCA.S)))),\n         MCA.S = fct_relevel(MCA.S, \"D\", \"P\", \"M\", \"E\")) %&gt;%\n  group_by(Dem_Desc, MCA.S) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(Dem_Desc) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = as.character(seq(n())))\n\nmca.highest.science.ruca.plot &lt;- ggplot(mca.highest.science.summary.ruca, aes(Dem_Desc, pct, fill = MCA.S, group = MCA.S)) +\n    geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(\"MCA - Math\", \"\\nGrade: \", MCA.S, \"\\nNumber of students with this grade: \", comma(n, accuracy = 1), \"\\nPercent of students: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(position = position_dodge(width = .9), aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"black\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Student grades within RUCA category for MCA - science\")+\n    scale_y_continuous(labels=scales::percent)+\n    theme_bar+\n    scale_fill_manual(values= brewer.pal(n = 5, \"RdYlBu\"),\n                       guide = guide_legend(ncol = 3)) +\n    theme(legend.position = \"bottom\",\n          text = element_text(size = 16),\n          axis.text.x = element_text(angle = 25, hjust = .9))\n\n\ngirafe(ggobj = mca.highest.science.ruca.plot) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nCrossTable(master.7$Dem_Desc, master.7$MCA.S, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  100049 \n\n \n                     | master.7$MCA.S \n   master.7$Dem_Desc |         1 |         2 |         3 |         4 | Row Total | \n---------------------|-----------|-----------|-----------|-----------|-----------|\n      Town/rural mix |      2370 |      5083 |      8019 |      2290 |     17762 | \n                     |  2245.437 |  4529.400 |  8033.014 |  2954.149 |           | \n                     |     0.133 |     0.286 |     0.451 |     0.129 |     0.178 | \n---------------------|-----------|-----------|-----------|-----------|-----------|\nUrban/town/rural mix |      5966 |     12201 |     21950 |      8077 |     48194 | \n                     |  6092.592 | 12289.713 | 21796.141 |  8015.554 |           | \n                     |     0.124 |     0.253 |     0.455 |     0.168 |     0.482 | \n---------------------|-----------|-----------|-----------|-----------|-----------|\n      Entirely urban |      4312 |      8229 |     15279 |      6273 |     34093 | \n                     |  4309.971 |  8693.887 | 15418.845 |  5670.297 |           | \n                     |     0.126 |     0.241 |     0.448 |     0.184 |     0.341 | \n---------------------|-----------|-----------|-----------|-----------|-----------|\n        Column Total |     12648 |     25513 |     45248 |     16640 |    100049 | \n---------------------|-----------|-----------|-----------|-----------|-----------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  318.9291     d.f. =  6     p =  7.164358e-66 \n\n\n \n\n\n\n\n\n\nNow let’s see what it looks like by EDR."
  },
  {
    "objectID": "assessments.html#mca---math-1",
    "href": "assessments.html#mca---math-1",
    "title": "Assessments",
    "section": "MCA - Math",
    "text": "MCA - Math\nWe will start with analyzing math and EDR categories.\nThe p-value from the cross-tabs indicate that there is a relationship between EDR categories and the grades received in the MCA-Math test.\nEDR 9: 68%\nEDR 10: 70%\n\n\nEDR TableEDR Cross-tabs\n\n\n\nmca.highest.summary.edr &lt;- master.7 %&gt;%\n  select(edr, MCA.M) %&gt;%\n  mutate(MCA.M = ifelse(MCA.M == 1, \"D\",\n                              ifelse(MCA.M == 2, \"P\",\n                                     ifelse(MCA.M == 3, \"M\",\n                                            ifelse(MCA.M == 4, \"E\", MCA.M)))),\n         MCA.M = fct_relevel(MCA.M, \"D\", \"P\", \"M\", \"E\")) %&gt;%\n  group_by(edr, MCA.M) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(edr) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = as.character(seq(n())))\n\nmca.highest.edr.plot &lt;- ggplot(mca.highest.summary.edr, aes(edr, pct, fill = MCA.M, group = MCA.M)) +\n    geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(\"MCA - Math\", \"\\nGrade: \", MCA.M, \"\\nNumber of students with this grade: \", comma(n, accuracy = 1), \"\\nPercent of students: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(position = position_dodge(width = .9), aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"black\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Student grades within EDR category for MCA - Math\")+\n    scale_y_continuous(labels=scales::percent)+\n    theme_bar+\n    scale_fill_manual(values= brewer.pal(n = 5, \"RdYlBu\"),\n                       guide = guide_legend(ncol = 3)) +\n    theme(legend.position = \"bottom\",\n          text = element_text(size = 16),\n          axis.text.x = element_text(angle = 25, hjust = .9))\n\n\ngirafe(ggobj = mca.highest.edr.plot) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nCrossTable(master.7$edr, master.7$MCA.M, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  117247 \n\n \n                      | master.7$MCA.M \n         master.7$edr |         1 |         2 |         3 |         4 | Row Total | \n----------------------|-----------|-----------|-----------|-----------|-----------|\n   EDR 10 - Southeast |     11055 |     11481 |     29150 |     31644 |     83330 | \n                      | 10935.876 | 11596.848 | 29502.062 | 31295.213 |           | \n                      |     0.133 |     0.138 |     0.350 |     0.380 |     0.711 | \n----------------------|-----------|-----------|-----------|-----------|-----------|\nEDR 9 - South Central |      4332 |      4836 |     12360 |     12389 |     33917 | \n                      |  4451.124 |  4720.152 | 12007.938 | 12737.787 |           | \n                      |     0.128 |     0.143 |     0.364 |     0.365 |     0.289 | \n----------------------|-----------|-----------|-----------|-----------|-----------|\n         Column Total |     15387 |     16317 |     41510 |     44033 |    117247 | \n----------------------|-----------|-----------|-----------|-----------|-----------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  36.44742     d.f. =  3     p =  6.022491e-08"
  },
  {
    "objectID": "assessments.html#mca---reading-1",
    "href": "assessments.html#mca---reading-1",
    "title": "Assessments",
    "section": "MCA - Reading",
    "text": "MCA - Reading\nNext lets analyze reading and EDR categories.\nThe p-value from the cross-tabs indicate that there is a relationship between EDR categories and the grades received in the MCA-Reading test. H\nEDR 9: 80%\nEDR 10: 79%\n\n\nEDR TableEDR Cross-tabs\n\n\n\nmca.highest.reading.summary.edr &lt;- master.7 %&gt;%\n  select(edr, MCA.R) %&gt;%\n  mutate(MCA.R = ifelse(MCA.R == 1, \"D\",\n                              ifelse(MCA.R == 2, \"P\",\n                                     ifelse(MCA.R == 3, \"M\",\n                                            ifelse(MCA.R == 4, \"E\", MCA.R)))),\n         MCA.R = fct_relevel(MCA.R, \"D\", \"P\", \"M\", \"E\")) %&gt;%\n  group_by(edr, MCA.R) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(edr) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = as.character(seq(n())))\n\nmca.highest.reading.edr.plot &lt;- ggplot(mca.highest.reading.summary.edr, aes(edr, pct, fill = MCA.R, group = MCA.R)) +\n    geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(\"MCA - Math\", \"\\nGrade: \", MCA.R, \"\\nNumber of students with this grade: \", comma(n, accuracy = 1), \"\\nPercent of students: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(position = position_dodge(width = .9), aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"black\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Student grades within EDR category for MCA - Reading\")+\n    scale_y_continuous(labels=scales::percent)+\n    theme_bar+\n    scale_fill_manual(values= brewer.pal(n = 5, \"RdYlBu\"),\n                       guide = guide_legend(ncol = 3)) +\n    theme(legend.position = \"bottom\",\n          text = element_text(size = 16),\n          axis.text.x = element_text(angle = 25, hjust = .9))\n\n\ngirafe(ggobj = mca.highest.reading.edr.plot) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nCrossTable(master.7$edr, master.7$MCA.R, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  116495 \n\n \n                      | master.7$MCA.R \n         master.7$edr |         1 |         2 |         3 |         4 | Row Total | \n----------------------|-----------|-----------|-----------|-----------|-----------|\n   EDR 10 - Southeast |      5812 |      8709 |     24736 |     43599 |     82856 | \n                      |  5532.031 |  8758.931 | 25165.834 | 43399.204 |           | \n                      |     0.070 |     0.105 |     0.299 |     0.526 |     0.711 | \n----------------------|-----------|-----------|-----------|-----------|-----------|\nEDR 9 - South Central |      1966 |      3606 |     10647 |     17420 |     33639 | \n                      |  2245.969 |  3556.069 | 10217.166 | 17619.796 |           | \n                      |     0.058 |     0.107 |     0.317 |     0.518 |     0.289 | \n----------------------|-----------|-----------|-----------|-----------|-----------|\n         Column Total |      7778 |     12315 |     35383 |     61019 |    116495 | \n----------------------|-----------|-----------|-----------|-----------|-----------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  78.66376     d.f. =  3     p =  5.937823e-17"
  },
  {
    "objectID": "assessments.html#mca---science-1",
    "href": "assessments.html#mca---science-1",
    "title": "Assessments",
    "section": "MCA - Science",
    "text": "MCA - Science\nNext lets analyze science and EDR categories.\nThe p-value from the cross-tabs indicate that there is a relationship between EDR categories and the grades received in the MCA-Science test.\nThe largest different is the town/rural mix districts where 65% of graduates have exceeded or met standards for science compared to 60% for entirely rural and 58% for urban/town/rural mix.\nEDR 9: 50%\nEDR 10: 51%\n\n\nEDR TableEDR Cross-tabs\n\n\n\nmca.highest.science.summary.edr &lt;- master.7 %&gt;%\n  select(edr, MCA.S) %&gt;%\n  mutate(MCA.S = ifelse(MCA.S == 1, \"D\",\n                              ifelse(MCA.S == 2, \"P\",\n                                     ifelse(MCA.S == 3, \"M\",\n                                            ifelse(MCA.S == 4, \"E\", MCA.S)))),\n         MCA.S = fct_relevel(MCA.S, \"D\", \"P\", \"M\", \"E\")) %&gt;%\n  group_by(edr, MCA.S) %&gt;%\n  summarize(n = n()) %&gt;%\n  ungroup() %&gt;%\n  group_by(edr) %&gt;%\n  mutate(pct = n / sum(n)) %&gt;%\n  ungroup() %&gt;%\n  mutate(data_id = as.character(seq(n())))\n\nmca.highest.science.edr.plot &lt;- ggplot(mca.highest.science.summary.edr, aes(edr, pct, fill = MCA.S, group = MCA.S)) +\n    geom_col_interactive(position = \"dodge\", aes(data_id = data_id, tooltip = paste(\"MCA - Math\", \"\\nGrade: \", MCA.S, \"\\nNumber of students with this grade: \", comma(n, accuracy = 1), \"\\nPercent of students: \", percent(pct, accuracy = .1), sep = \"\"))) +\n    geom_label(position = position_dodge(width = .9), aes(label = percent(pct, accuracy = .1)), show.legend = FALSE, color = \"black\", size = 5) +\n    labs(x=\"\", y = \"\", color=\"\", title = \"Student grades within edr category for MCA - science\")+\n    scale_y_continuous(labels=scales::percent)+\n    theme_bar+\n    scale_fill_manual(values= brewer.pal(n = 5, \"RdYlBu\"),\n                       guide = guide_legend(ncol = 3)) +\n    theme(legend.position = \"bottom\",\n          text = element_text(size = 16),\n          axis.text.x = element_text(angle = 25, hjust = .9))\n\n\ngirafe(ggobj = mca.highest.science.edr.plot) %&gt;%\n  girafe_options(opts_selection(type = \"none\"),\n                 opts_sizing(rescale = FALSE))\n\n\n\n\n\n\n\n\nCrossTable(master.7$edr, master.7$MCA.S, expected = TRUE, prop.t = FALSE, prop.c = FALSE, prop.chisq = FALSE)\n\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n|              Expected N |\n|           N / Row Total |\n|-------------------------|\n\n \nTotal Observations in Table:  100049 \n\n \n                      | master.7$MCA.S \n         master.7$edr |         1 |         2 |         3 |         4 | Row Total | \n----------------------|-----------|-----------|-----------|-----------|-----------|\n   EDR 10 - Southeast |      9296 |     17848 |     32022 |     12023 |     71189 | \n                      |  8999.575 | 18153.554 | 32195.823 | 11840.048 |           | \n                      |     0.131 |     0.251 |     0.450 |     0.169 |     0.712 | \n----------------------|-----------|-----------|-----------|-----------|-----------|\nEDR 9 - South Central |      3352 |      7665 |     13226 |      4617 |     28860 | \n                      |  3648.425 |  7359.446 | 13052.177 |  4799.952 |           | \n                      |     0.116 |     0.266 |     0.458 |     0.160 |     0.288 | \n----------------------|-----------|-----------|-----------|-----------|-----------|\n         Column Total |     12648 |     25513 |     45248 |     16640 |    100049 | \n----------------------|-----------|-----------|-----------|-----------|-----------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  64.73011     d.f. =  3     p =  5.729123e-14 \n\n\n \n\n\n\n\n\n\n\nwrite_csv(master.7, \"Data/SLEDS/Masters/Master-7.csv\")"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Pathways After High School – Southern Minnesota",
    "section": "",
    "text": "This research examined which factors most strongly influence whether individuals achieve meaningful employment within Southern Minnesota’s region (EDR 9 & 10) after high school. Using both contingency table analysis (effect sizes, trends over 1, 5, and 10 years) and CART modeling, the goal was to identify which variables most reliably anchor individuals in the regional workforce versus those that push them toward statewide mobility, disconnection, or outmigration.\nA special focus was also placed on non-college graduates, who represent a substantial share of the region’s young adults and are at higher risk of disconnection from the labor force. Understanding their pathways provides additional insights into how to build a stronger, more inclusive regional workforce.\nThe findings provide a roadmap for education and workforce policy, showing how demographics, high school context, accomplishments, and postsecondary experiences interact to shape local labor market attachment."
  },
  {
    "objectID": "index.html#purpose-of-the-research",
    "href": "index.html#purpose-of-the-research",
    "title": "Pathways After High School – Southern Minnesota",
    "section": "",
    "text": "This research examined which factors most strongly influence whether individuals achieve meaningful employment within Southern Minnesota’s region (EDR 9 & 10) after high school. Using both contingency table analysis (effect sizes, trends over 1, 5, and 10 years) and CART modeling, the goal was to identify which variables most reliably anchor individuals in the regional workforce versus those that push them toward statewide mobility, disconnection, or outmigration.\nA special focus was also placed on non-college graduates, who represent a substantial share of the region’s young adults and are at higher risk of disconnection from the labor force. Understanding their pathways provides additional insights into how to build a stronger, more inclusive regional workforce.\nThe findings provide a roadmap for education and workforce policy, showing how demographics, high school context, accomplishments, and postsecondary experiences interact to shape local labor market attachment."
  },
  {
    "objectID": "k12enrollment.html",
    "href": "k12enrollment.html",
    "title": "K12Enrollment",
    "section": "",
    "text": "Data prep\nThis dataset is of all the individuals that have graduated from a high school in Southern Minnesota.\n\n\nenrollment.original &lt;- read_csv(\"/Users/kellyasche/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/SLEDS/K12 Enrollment/K12Enrollment.csv\")  %&gt;%\n  mutate(PersonID = as.integer(PersonID),\n         K12OrganizationID = as.integer(K12OrganizationID)) %&gt;%\n  drop_na(PersonID)\n\nkable(head(enrollment.original))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nGrade\nK12OrganizationID\nTimeID\nEconomicStatusIndicator\nFederalRaceIndicator\nPostSecondaryEnrollmentOptionsIndicator\nPSEOConcurrentEnrollmentIndicator\nRaceEthnicity\nStatusEnd\nGender\nSpecialEdStatus\nLimitedEnglishProficiencyIndicator\nHomePrimaryLanguage\nHomelessIndicator\n\n\n\n\n2145398\n10\n127673\n20050630\n0\nNA\nN\nNA\n5\n40\nF\n1\nN\n11\nN\n\n\n132627\n11\n64337\n20050630\n0\nNA\nN\nNA\n5\n40\nF\n1\nN\n11\nN\n\n\n146511\n10\n15118\n20050630\n0\nNA\nN\nNA\n5\n40\nM\n1\nN\n11\nN\n\n\n4068455\n11\n64348\n20060630\n1\nNA\nN\nNA\n5\n40\nM\n1\nN\n11\nN\n\n\n3578988\n11\n51093\n20060630\n0\nNA\nN\nNA\n5\n40\nM\n1\nN\n11\nN\n\n\n9750075\n11\n108724\n20080630\n0\nNA\nN\nNA\n5\n40\nM\n4\nN\n11\nN\n\n\n\n\nkable(names(enrollment.original))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nGrade\n\n\nK12OrganizationID\n\n\nTimeID\n\n\nEconomicStatusIndicator\n\n\nFederalRaceIndicator\n\n\nPostSecondaryEnrollmentOptionsIndicator\n\n\nPSEOConcurrentEnrollmentIndicator\n\n\nRaceEthnicity\n\n\nStatusEnd\n\n\nGender\n\n\nSpecialEdStatus\n\n\nLimitedEnglishProficiencyIndicator\n\n\nHomePrimaryLanguage\n\n\nHomelessIndicator\n\n\n\n\n\n\nIn the dataset there are 1,997,366 observations along with 15 columns. Each observation does not represent a unique, unduplicated individual, but rather a unique status for the individual. For example, one individual can have multiple observations if they changed schools, for each school year, or if their economic status changed in the middle of a school year.\nNext we need to create a dataset that only has students who graduated from a high school located in EDR 9 and 10. To do that, we will need to join up with the K12Organization dataset to get each person’s school location.\n\n\nk12.org.original &lt;- read_csv(\"~/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/SLEDS/K12 Orgs/K12Organization.csv\") %&gt;%\n  distinct(K12OrganizationID, .keep_all = TRUE) %&gt;%\n  drop_na(K12OrganizationID) %&gt;%\n  mutate(K12OrganizationID = as.integer(K12OrganizationID)) %&gt;%\n  group_by(NCESID) %&gt;%\n  fill(SiteCountyCode, .direction = \"downup\") %&gt;%\n  ungroup()\n  \nkable(head(k12.org.original))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nK12OrganizationID\nDistrictID\nSchoolNumber\nStateOrganizationID\nStateFiscalYear\nNCESID\nOrganizationName\nUnitClassification\nAddressType\nCity\nSiteCountyCode\n\n\n\n\n122745\n1310\n10\n701000010000\n2013\n279145602410\nPERPICH CENTER FOR ARTS EDUCATION\n32\nMAILING\nGolden Valley\n27\n\n\n172384\n244\n200\n10492200000\n2018\n270345000148\nAUSTIN SENIOR HIGH\n32\nPHYSICAL_LOCATION\nAustin\n50\n\n\n89982\n1255\n20\n616004020000\n2015\n270001402222\nFRESHWATER ED. DIST. ALC\n41\nPHYSICAL_LOCATION\nStaples\n77\n\n\n111573\n58\n70\n10138070000\n2007\n272382002633\nDISTANCE LEARNING PROGRAM\n46\nPHYSICAL_LOCATION\nNorth Branch\n13\n\n\n52166\n334\n20\n10676020000\n2016\n270354000163\nBADGER SECONDARY\n33\nPHYSICAL_LOCATION\nBadger\n68\n\n\n29693\n470\n301\n12198301000\n2016\n270010004226\nROOT RIVER PROGRAM\n79\nMAILING\nHarmony\n23\n\n\n\n\nkable(names(k12.org.original))\n\n\n\n\nx\n\n\n\n\nK12OrganizationID\n\n\nDistrictID\n\n\nSchoolNumber\n\n\nStateOrganizationID\n\n\nStateFiscalYear\n\n\nNCESID\n\n\nOrganizationName\n\n\nUnitClassification\n\n\nAddressType\n\n\nCity\n\n\nSiteCountyCode\n\n\n\n\n\n\nThis dataset provides each school institution as of June 29, 2024. This isn’t a list of each school but rather a list of each K12OrganizationID. Each school will have multiple K12OrganizationID.\nMy goal is to join my standardized region and county code data with this document which will then be joined to the master enrollment document. Unfortunately the main data does not include county name but rather their own code for county. So I will join their codes with the county names and then use my “counties.regions” data to bring together the remaining regions.\n\n\nk12.org.master &lt;- k12.org.original %&gt;%\n  select(K12OrganizationID, SiteCountyCode, OrganizationName) %&gt;%\n  left_join(k12.county.codes[,c(1,2)], by = c(\"SiteCountyCode\" = \"county.code\")) %&gt;%\n  rename(county.name = 4) %&gt;%\n  mutate(county.name = str_replace(county.name, \" County\", \"\")) %&gt;%\n  select(K12OrganizationID, OrganizationName, county.name) %&gt;%\n  mutate(county.name = str_replace(county.name, \"Saint Louis\", \"St. Louis\")) %&gt;%\n  left_join(counties.regions.1, by = c(\"county.name\" = \"Name\")) %&gt;%\n  select(-Dem_RUCA, -edr.simple, -mif)\n\nkable(head(k12.org.master))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nK12OrganizationID\nOrganizationName\ncounty.name\ncountyfp\nDem_Desc\nedr\nplanning.region\nstatefp\nproject.pr\n\n\n\n\n122745\nPERPICH CENTER FOR ARTS EDUCATION\nHennepin\n053\nEntirely urban\nEDR 11 - 7 County Twin Cities\nSeven County Mpls-St Paul\n27\nSeven County Mpls-St Paul\n\n\n172384\nAUSTIN SENIOR HIGH\nMower\n099\nUrban/town/rural mix\nEDR 10 - Southeast\nSoutheast\n27\nSouthern\n\n\n89982\nFRESHWATER ED. DIST. ALC\nTodd\n153\nTown/rural mix\nEDR 5 - North Central\nNorthwest\n27\nCentral\n\n\n111573\nDISTANCE LEARNING PROGRAM\nChisago\n025\nEntirely urban\nEDR 7E- East Central\nCentral\n27\nCentral\n\n\n52166\nBADGER SECONDARY\nRoseau\n135\nTown/rural mix\nEDR 1 - Northwest\nNorthwest\n27\nNorthwest\n\n\n29693\nROOT RIVER PROGRAM\nFillmore\n045\nUrban/town/rural mix\nEDR 10 - Southeast\nSoutheast\n27\nSouthern\n\n\n\n\nkable(names(k12.org.master))\n\n\n\n\nx\n\n\n\n\nK12OrganizationID\n\n\nOrganizationName\n\n\ncounty.name\n\n\ncountyfp\n\n\nDem_Desc\n\n\nedr\n\n\nplanning.region\n\n\nstatefp\n\n\nproject.pr\n\n\n\n\n\n\nNow I should be able to join this dataset with the enrollment data to figure out what EDR they are from and then filter any rows that are not associated with a school district located in the Southern region as defined by the project.\n\n\nenrollment.org.southern &lt;- enrollment.original %&gt;%\n  left_join(k12.org.master, by = \"K12OrganizationID\") %&gt;%\n  filter(project.pr == \"Southern\")\n\nkable(head(enrollment.org.southern))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nGrade\nK12OrganizationID\nTimeID\nEconomicStatusIndicator\nFederalRaceIndicator\nPostSecondaryEnrollmentOptionsIndicator\nPSEOConcurrentEnrollmentIndicator\nRaceEthnicity\nStatusEnd\nGender\nSpecialEdStatus\nLimitedEnglishProficiencyIndicator\nHomePrimaryLanguage\nHomelessIndicator\nOrganizationName\ncounty.name\ncountyfp\nDem_Desc\nedr\nplanning.region\nstatefp\nproject.pr\n\n\n\n\n2145398\n10\n127673\n20050630\n0\nNA\nN\nNA\n5\n40\nF\n1\nN\n11\nN\nSTEWARTVILLE SENIOR HIGH\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\nSoutheast\n27\nSouthern\n\n\n348510\n10\n56546\n20150630\n0\nW\nN\nN\n5\n40\nM\n1\nN\n11\nN\nPLAINVIEW-ELGIN-MILLVILLE HIGH\nWabasha\n157\nUrban/town/rural mix\nEDR 10 - Southeast\nSoutheast\n27\nSouthern\n\n\n3703840\n10\n116728\n20160630\n0\nW\nN\nN\n5\n40\nF\n1\nN\n11\nN\nST. PETER SENIOR HIGH\nNicollet\n103\nUrban/town/rural mix\nEDR 9 - South Central\nSouthwest\n27\nSouthern\n\n\n5899840\n12\n91314\n20070630\n2\nNA\nN\nNA\n5\n20\nF\n1\nN\n11\nN\nCOMFREY SECONDARY\nBrown\n015\nTown/rural mix\nEDR 9 - South Central\nSouthwest\n27\nSouthern\n\n\n7699638\n12\n29705\n20150630\n0\nW\nN\nY\n5\n8\nM\n1\nN\n11\nN\nFILLMORE CENTRAL SENIOR HIGH\nFillmore\n045\nUrban/town/rural mix\nEDR 10 - Southeast\nSoutheast\n27\nSouthern\n\n\n11455729\n10\n132293\n20070630\n0\nNA\nN\nNA\n5\n40\nM\n1\nN\n11\nN\nMayo High School\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\nSoutheast\n27\nSouthern\n\n\n\n\nkable(names(enrollment.org.southern))\n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nGrade\n\n\nK12OrganizationID\n\n\nTimeID\n\n\nEconomicStatusIndicator\n\n\nFederalRaceIndicator\n\n\nPostSecondaryEnrollmentOptionsIndicator\n\n\nPSEOConcurrentEnrollmentIndicator\n\n\nRaceEthnicity\n\n\nStatusEnd\n\n\nGender\n\n\nSpecialEdStatus\n\n\nLimitedEnglishProficiencyIndicator\n\n\nHomePrimaryLanguage\n\n\nHomelessIndicator\n\n\nOrganizationName\n\n\ncounty.name\n\n\ncountyfp\n\n\nDem_Desc\n\n\nedr\n\n\nplanning.region\n\n\nstatefp\n\n\nproject.pr\n\n\n\n\n\n\nThe dataset now has 496,449 instances that provide a number of characteristics about an individuals enrollment.\nMy goal is to end up with a dataset where each observation (row) represents a unique (unduplicated) individual that’s tied to the school from which they graduated. Here’s how I will do that.\n\nPersonID: change to integer\nK12OrganizationID: change to integer.\nK12EnrTimeID: Change so it’s only the year\nGrade: eliminate - unimportant since we are mostly concerned about whether they graduated.\nEconomicStatusIndicator: I will change this to two categories. Whether they were ever eligible for reduce priced or free meal will be coded as 1 (eligible = codes 1, 2, 4, 5) at any point in the dataset. The remaining will be coded as 0.\nFederalRaceIndicator: eliminate - I’m going to use the RaceEthnicity column instead.\nPSEO columns: I’m most concerned about whether they participated in PSEO or not. A new column will be created indicated whether there was a “Y” coded for either the “PSEOConcurrentEnrollmentIndicator” or “PostSecondaryEnrollmentOptionsIndicator” columns at any point in the dataset. The two original columns will be eliminated.\nStatusEnd: I will only include individuals that have StatusEnd coded as an 8 or 9.\nGender: included and not changed.\nSpecialEdStatus: I will split this into two categories. The first is that a student did not require special education services (codes 1-2) at any point in the dataset. The other category will be that they require special education (codes 4 - 9) at any point in the dataset.\nLimited English: keep with no changes.\nPrimary language: I’m going to create two categories. One being that English is the primary language while the other will be that English is NOT the primary language at any point in the dataset.\nHomeless: Keep with no changes.\n\nWe first need to create a list of all individuals with the StatusEnd code of 8 or 9 (graduated). In addition, we need to remove any student that graduated before 2008. This is because we will not have their full Sophmore - Senior records which is especially important when attempting to identify whether the number of CTE courses taken predicts migration.\nThe other element I want to add is a pre-covid and post-covid variable. All individuals whose grad year is before 2020 will be labeled pre-covid and all others wil lbe post-covid.\nThis “graduates list” will be the list on which we will bind all the other variables.\n\n\ngraduates &lt;- enrollment.org.southern %&gt;%\n  filter(StatusEnd %in% c(8,9)) %&gt;%\n  mutate(grad.year = str_sub(TimeID, 1, 4),\n         grad.year = as.integer(grad.year),\n         grad.year.covid = ifelse(grad.year &gt; 2019, \"Post-covid grad\", \"Pre-covid grad\")) %&gt;%\n  select(PersonID, K12OrganizationID, OrganizationName, grad.year, grad.year.covid, Gender, LimitedEnglishProficiencyIndicator, HomelessIndicator, county.name, countyfp, Dem_Desc, edr) %&gt;%\n  distinct(PersonID, .keep_all = TRUE) %&gt;%\n  filter(grad.year &gt; 2007) \n\n\nNext we need to create new columns for the variables that will indicate a certain status has been met at any point in the dataset for each PersonID. For example, we want a column that indicates a PersonID was enrolled in PSEO at some point in the dataset. The variables that need a new column created are;\n\nEconomicStatusIndicator\nPostSecondaryEnrollmentOptionsIndicator & PSEOConcurrentEnrollmentIndicator\nSpecialEdStatus\nHomeprimaryLanguage\n\n\n\n# Lets start with economic status indicator\nk12.enr.esi.indicator &lt;- enrollment.org.southern %&gt;%\n  select(PersonID, EconomicStatusIndicator) %&gt;%\n  group_by(PersonID) %&gt;%\n  mutate(economic.status.code = ifelse(EconomicStatusIndicator %in% c(1,2,4,5), 1, 0),\n         economic.status.code.sum = sum(economic.status.code)) %&gt;%\n  ungroup() %&gt;%\n  distinct(PersonID, .keep_all = TRUE) %&gt;%\n  mutate(economic.status = ifelse(economic.status.code.sum &gt; 0, 1, 0)) %&gt;%\n  select(PersonID, economic.status)\n\n# PSEO\n\nk12.enr.pseo.indicator &lt;- enrollment.org.southern %&gt;%\n  select(PersonID, PostSecondaryEnrollmentOptionsIndicator, PSEOConcurrentEnrollmentIndicator) %&gt;%\n  mutate(PostSecondaryEnrollmentOptionsIndicator = ifelse(PostSecondaryEnrollmentOptionsIndicator == \"Y\", 1, 0),\n         PSEOConcurrentEnrollmentIndicator = ifelse(PSEOConcurrentEnrollmentIndicator == \"Y\", 1, 0)) %&gt;%\n  gather(key = \"pseo.type\", value = \"indicator\", 2:3) %&gt;%\n  group_by(PersonID) %&gt;%\n  summarise(pseo = sum(indicator)) %&gt;%\n  mutate(pseo.participant = ifelse(pseo &gt; 0, 1, 0)) %&gt;%\n  ungroup() %&gt;%\n  select(PersonID, pseo.participant)\n\n# Special Ed status\n\nk12.enr.spced.indicator &lt;- enrollment.org.southern %&gt;%\n  select(PersonID, SpecialEdStatus) %&gt;%\n  mutate(SpecialEdStatus.code = ifelse(SpecialEdStatus %in% c(4,5,6,7,8,9), 1, 0)) %&gt;%\n  group_by(PersonID) %&gt;%\n  summarise(SpecialEdStatus.sum = sum(SpecialEdStatus.code)) %&gt;%\n  ungroup() %&gt;%\n  mutate(SpecialEdStatus = ifelse(SpecialEdStatus.sum &gt; 0, 1, 0)) %&gt;%\n  select(PersonID, SpecialEdStatus)\n\n# Home Primary Language\n\nk12.enr.homeprimlang.indicator &lt;- enrollment.org.southern %&gt;%\n  select(PersonID, HomePrimaryLanguage) %&gt;%\n  mutate(HomePrimaryLanguage.code = ifelse(HomePrimaryLanguage == 11, 0, 1)) %&gt;%\n  group_by(PersonID) %&gt;%\n  summarise(HomePrimaryLanguage.sum = sum(HomePrimaryLanguage.code)) %&gt;%\n  ungroup() %&gt;%\n  mutate(non.english.home = ifelse(HomePrimaryLanguage.sum &gt; 0, 1, 0)) %&gt;%\n  select(PersonID, non.english.home)\n\n# Race\n\nk12.enr.race &lt;- enrollment.org.southern %&gt;%\n  select(PersonID, RaceEthnicity) %&gt;%\n  mutate(RaceEthnicity = ifelse(RaceEthnicity == 0, \"Unknown\",\n                                ifelse(RaceEthnicity == 1, \"AI\",\n                                       ifelse(RaceEthnicity == 2, \"Asian/PI\",\n                                              ifelse(RaceEthnicity == 3, \"Hispanic\",\n                                                     ifelse(RaceEthnicity == 4, \"Black\", \"White\"))))),\n         RaceEthnicity = as.factor(RaceEthnicity)) %&gt;%\n  distinct(PersonID, RaceEthnicity) %&gt;%\n  mutate(code = ifelse(RaceEthnicity == \"Unknown\", 0, 1)) %&gt;%\n  group_by(PersonID) %&gt;%\n  filter(code == max(code)) %&gt;%\n  ungroup %&gt;%\n  distinct(PersonID, .keep_all = TRUE) %&gt;%\n  select(PersonID, RaceEthnicity)\n\n\nNow we can combine the list of graduates with the status indicators.\n\n\nk12.enrollment.master &lt;- graduates %&gt;%\n  left_join(k12.enr.esi.indicator, by = \"PersonID\") %&gt;%\n  left_join(k12.enr.pseo.indicator, by = \"PersonID\") %&gt;%\n  left_join(k12.enr.spced.indicator, by = \"PersonID\") %&gt;%\n  left_join(k12.enr.homeprimlang.indicator, by = \"PersonID\") %&gt;%\n  left_join(k12.enr.race, by = \"PersonID\") %&gt;%\n  select(PersonID, K12OrganizationID, OrganizationName, county.name, countyfp, Dem_Desc, edr, grad.year, grad.year.covid, Gender, LimitedEnglishProficiencyIndicator, HomelessIndicator, economic.status, pseo.participant, SpecialEdStatus, non.english.home, RaceEthnicity)\n\nkable(head(k12.enrollment.master))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPersonID\nK12OrganizationID\nOrganizationName\ncounty.name\ncountyfp\nDem_Desc\nedr\ngrad.year\ngrad.year.covid\nGender\nLimitedEnglishProficiencyIndicator\nHomelessIndicator\neconomic.status\npseo.participant\nSpecialEdStatus\nnon.english.home\nRaceEthnicity\n\n\n\n\n7699638\n29705\nFILLMORE CENTRAL SENIOR HIGH\nFillmore\n045\nUrban/town/rural mix\nEDR 10 - Southeast\n2015\nPre-covid grad\nM\nN\nN\n0\n1\n0\n0\nWhite\n\n\n2225025\n132298\nMAYO SENIOR HIGH\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2017\nPre-covid grad\nM\nN\nN\n0\n0\n0\n0\nWhite\n\n\n10400093\n62\nCannon Falls Secondary\nGoodhue\n049\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n\n\n8786746\n128661\nLINCOLN SECONDARY\nWabasha\n157\nUrban/town/rural mix\nEDR 10 - Southeast\n2014\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n\n\n11122574\n109999\nAUSTIN SENIOR HIGH\nMower\n099\nUrban/town/rural mix\nEDR 10 - Southeast\n2011\nPre-covid grad\nF\nN\nN\n0\n1\n0\n0\nWhite\n\n\n10181573\n155484\nCHATFIELD SECONDARY\nOlmsted\n109\nEntirely urban\nEDR 10 - Southeast\n2010\nPre-covid grad\nM\nN\nN\n0\nNA\n0\n0\nWhite\n\n\n\n\nkable(names(k12.enrollment.master)) \n\n\n\n\nx\n\n\n\n\nPersonID\n\n\nK12OrganizationID\n\n\nOrganizationName\n\n\ncounty.name\n\n\ncountyfp\n\n\nDem_Desc\n\n\nedr\n\n\ngrad.year\n\n\ngrad.year.covid\n\n\nGender\n\n\nLimitedEnglishProficiencyIndicator\n\n\nHomelessIndicator\n\n\neconomic.status\n\n\npseo.participant\n\n\nSpecialEdStatus\n\n\nnon.english.home\n\n\nRaceEthnicity\n\n\n\n\nwrite_csv(k12.enrollment.master, \"Data/SLEDS/K12 Enrollment/K12Enrollment-master.csv\")\n\n\nThe prepped enrollment data has 122,938 observations and 17 columns.\n\n\n\nSummary of K12Enrollment data\nBelow is the percentage of total observations that;\n\nWere eligible for free or reduced lunch at some point in the dataset\nAre Female\nHave been homeless at some point in the dataset\nHad limited english proficiency at some point in the dataset\nHad non english speakders in home at some point in the dataset\nParticipated in a PSEO course at some point in the dataset.\nPct non white\n\nAs expected, nearly half (49.7%) of the observations are female. Nearly a third (30.2%) of the observations have been eligible for free or reduced lunch at some point in the dataset. Also, over a quarter (26.4%) of observations participated in a PSEO course. Nearly 30% are non-white students , 13% are categorized as needing special education, 9% have non-english speakers at home, 2% have limited english proficiency and nearly 1% were categorized as homeless at some point between Sophmore and Senior year.\n\n\n\n\n\n\n\n\n\nwrite_csv(k12.enrollment.master, \"Data/SLEDS/Masters/k12_enrollment.csv\")"
  },
  {
    "objectID": "analysis_mca.html",
    "href": "analysis_mca.html",
    "title": "Multiple Correspondence Analysis",
    "section": "",
    "text": "master.original &lt;- read.csv(\"Data/SLEDS/Masters/Master.csv\") %&gt;%\n  drop_na(Dem_Desc)\nThe purpose of multiple correspondence analysis is to examine any patterns among the independent variables with the goal of eliminating variables that are redundant - essentially two variables that are explaining the same thing. This type of analysis is not meant to confirm any predictions, but rather explore the data and make decisions on what data should be included in the prediction model."
  },
  {
    "objectID": "analysis_mca.html#demographics",
    "href": "analysis_mca.html#demographics",
    "title": "Multiple Correspondence Analysis",
    "section": "Demographics",
    "text": "Demographics\nBelow are the variables that are categorized as “demographics”.\n\nDemographics\n\nGender\ngrad.year.covid\nLimitedEnglishProficiency\neconomic.status\nSpecialEdStatus\nnon.english.home\nRaceEthnicity\nenglish.learner\n\n\n\ndemographics &lt;- master.ind.qual.var %&gt;%\n  select(Gender, grad.year.covid, LimitedEnglishProficiencyIndicator, economic.status, SpecialEdStatus, non.english.home, RaceEthnicity, english.learner) %&gt;%\n  filter(RaceEthnicity != \"Unknown\")\n\nkable(head(demographics))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nGender\ngrad.year.covid\nLimitedEnglishProficiencyIndicator\neconomic.status\nSpecialEdStatus\nnon.english.home\nRaceEthnicity\nenglish.learner\n\n\n\n\nM\nPre-covid grad\nN\n0\n0\n0\nWhite\n0\n\n\nM\nPre-covid grad\nN\n0\n0\n0\nWhite\n0\n\n\nF\nPre-covid grad\nN\n0\n0\n0\nWhite\n0\n\n\nF\nPre-covid grad\nN\n0\n0\n0\nWhite\n0\n\n\nF\nPre-covid grad\nN\n0\n0\n0\nWhite\n0\n\n\nM\nPre-covid grad\nN\n0\n0\n0\nWhite\n0\n\n\n\n\nkable(names(demographics))\n\n\n\n\nx\n\n\n\n\nGender\n\n\ngrad.year.covid\n\n\nLimitedEnglishProficiencyIndicator\n\n\neconomic.status\n\n\nSpecialEdStatus\n\n\nnon.english.home\n\n\nRaceEthnicity\n\n\nenglish.learner\n\n\n\n\n\n\nAs expected, we have 99,640 individuals in the dataset.\n\n\nMCA analysis\n\nEigenvalues\nThe eigenvalues measure the amount of variation retained by each principle component. This will help us determine how many principle components to be considered.\nThe values below indicate that the first dimension explains nearly 25% of the variation. It takes 7 dimensions to explain 75%. This means the dataset is complex and variable redundancy may be low.\n\n\ndemographics.mca &lt;- FactoMineR::MCA(demographics, graph = FALSE)\n\neig.val &lt;- get_eigenvalue(demographics.mca)\n\neig.val\n\n       eigenvalue variance.percent cumulative.variance.percent\nDim.1  0.34354042        24.984758                    24.98476\nDim.2  0.15109423        10.988671                    35.97343\nDim.3  0.13545265         9.851102                    45.82453\nDim.4  0.12863358         9.355169                    55.17970\nDim.5  0.12633177         9.187765                    64.36747\nDim.6  0.11548279         8.398748                    72.76621\nDim.7  0.11158393         8.115195                    80.88141\nDim.8  0.09869905         7.178113                    88.05952\nDim.9  0.07708395         5.606106                    93.66563\nDim.10 0.05272874         3.834817                    97.50044\nDim.11 0.03436889         2.499555                   100.00000\n\n\n\n\n\nCOS2\nLet’s take a look to see which variables are going to be important. The chart and table below show the cos2 value for each of the four dimensions.\n\nSum of cos2 for all dimensions\n\nGood representation (above .5)\n\nnon.english.home\nRaceEthnicity - Black, White, AI, Asian\nenglish.learner\nSpecialEdStatus\nGender\nEconomicStatus\nCovid grad\n\nModerate representation (between .2 and .5)\n\nLimitedEnglishProficiencyIndicator\nGender\nEconomic Status\nRaceEthnicity - Hispanic\n\nBelow .2\n\nNone\n\n\n\nDimension 1: Language barriers, economic status, white\nDimension 2: Special education needs\nDimension 3: American Indian & Covid graduate\nDimension 4: Gender, Black, and Asian\nI see no variables that would be good to eliminate here.\n&lt;br&gt;\n\ntable &lt;- demographics.mca$var$cos2 %&gt;%\n  as.data.frame() %&gt;%\n  select(`Dim 1`, `Dim 2`, `Dim 3`, `Dim 4`) %&gt;%\n  mutate(total = `Dim 1` + `Dim 2` + `Dim 3` + `Dim 4`) \n  \ndatatable(table) %&gt;%\n  formatCurrency(1:5, \"\", digits = 3)\n\n\n\n\nfviz_cos2(demographics.mca, choice = \"var\", axes = 1:4)\n\n\n\n\n\n\n\n\n\n\n\nContribution to dimensions\nNext, lets see how much each variable is contributing to each dimension. There are 19 categories, so that means a percentage that is above 5.26% indicates a strong contribution to the dimension.\nHere are labels that seem to explain each dimension;\n\nLanguage barriers and ethnicity (black and Hispanic) and relationship to poverty\nSpecial Education, Asian, American Indian, Gender\nAmerican Indian, post-covid grad, Gender\nBlack, Asian, Hispanic and Gender\n\n\n\ntable &lt;- demographics.mca$var$contrib %&gt;%\n  as.data.frame() %&gt;%\n  mutate(id = seq(n())) %&gt;%\n  select(id, `Dim 1`, `Dim 2`, `Dim 3`, `Dim 4`) %&gt;%\n  mutate(`Dim 1` = `Dim 1` / 100,\n         `Dim 2` = `Dim 2` / 100,\n         `Dim 3` = `Dim 3` / 100,\n         `Dim 4` = `Dim 4` / 100)\n\ndatatable(table) %&gt;%\n  formatPercentage(2:5, digits = 1)\n\n\n\n\n\n\nFor demographics we will keep all variables.\n\nEliminate - none"
  },
  {
    "objectID": "analysis_mca.html#high-school-characteristics",
    "href": "analysis_mca.html#high-school-characteristics",
    "title": "Multiple Correspondence Analysis",
    "section": "High school characteristics",
    "text": "High school characteristics\nBelow are the variables that are categorized as “high school characteristics”.\n\nHigh school characteristics\n\nDem_Desc\nEDR\n\n\n\nhs.char &lt;- master.ind.qual.var %&gt;%\n  select(Dem_Desc, edr) \n\nkable(head(hs.char))\n\n\n\n\nDem_Desc\nedr\n\n\n\n\nUrban/town/rural mix\nEDR 10 - Southeast\n\n\nEntirely urban\nEDR 10 - Southeast\n\n\nUrban/town/rural mix\nEDR 10 - Southeast\n\n\nUrban/town/rural mix\nEDR 10 - Southeast\n\n\nUrban/town/rural mix\nEDR 10 - Southeast\n\n\nEntirely urban\nEDR 10 - Southeast\n\n\n\n\nkable(names(hs.char))\n\n\n\n\nx\n\n\n\n\nDem_Desc\n\n\nedr\n\n\n\n\n\n\nWe have 99,640 individuals in the dataset.\n\n\nMCA analysis\n\nEigenvalues\nThe eigenvalues measure the amount of variation retained by each principle component. This will help us determine how many principle components to be considered.\nThe values below indicate that the first two dimensions explain 72% of the variance. Examining the cos2 values for each dimension might allow us to eliminate one of these variables.\n\n\nhs.char.mca &lt;- FactoMineR::MCA(hs.char, graph = FALSE)\n\neig.val &lt;- get_eigenvalue(hs.char.mca)\n\neig.val\n\n      eigenvalue variance.percent cumulative.variance.percent\nDim.1  0.5886243         39.24162                    39.24162\nDim.2  0.5000000         33.33333                    72.57495\nDim.3  0.4113757         27.42505                   100.00000\n\n\n\n\n\nCOS2\nLet’s take a look to see which variables are going to be important. The chart and table below shows that all the variables are significant in the first two dimensions.\nDimension 1: More rural\nDimension 2: More urban\nDimension 3: ?????\n\ntable &lt;- hs.char.mca$var$cos2 %&gt;%\n  as.data.frame() %&gt;%\n  select(`Dim 1`, `Dim 2`, `Dim 3`) %&gt;%\n  mutate(total = `Dim 1` + `Dim 2` + `Dim 3`)\n  \ndatatable(table) %&gt;%\n  formatCurrency(1:3, digits = 3, \"\")\n\n\n\n\nfviz_cos2(hs.char.mca, choice = \"var\", axes = 1:2)\n\n\n\n\n\n\n\n\n\n\n\nContribution to dimensions\nNext, lets see how much each variable is contributing to each dimension. There are 5 categories so any percent above 20% would be quite influential.Here are the labels for each dimension;\n\nMore rural\nMore urban\nSame as 1\n\n\n\ntable &lt;- hs.char.mca$var$contrib %&gt;%\n  as.data.frame() %&gt;%\n  select(`Dim 1`, `Dim 2`, `Dim 3`) %&gt;%\n  mutate(`Dim 1` = `Dim 1` / 100,\n         `Dim 2` = `Dim 2` / 100,\n         `Dim 3` = `Dim 3` / 100)\n\ndatatable(table) %&gt;%\n  formatPercentage(1:3, digits = 1)\n\n\n\n\n\n\nSo regarding any variables to eliminate in the dataset, I don’t see one. It looks important to keep them all.\n\nEliminate: none"
  },
  {
    "objectID": "analysis_mca.html#high-school-accomplishments",
    "href": "analysis_mca.html#high-school-accomplishments",
    "title": "Multiple Correspondence Analysis",
    "section": "High school accomplishments",
    "text": "High school accomplishments\nBelow are the variables that are categorized as “high school accomplishments”.\n\nHigh school accomplishments\n\npseo.participant\ntook.ACT\nap.exam\ncte.achievement\n\n\n\nhs.accomplishments &lt;- master.ind.qual.var %&gt;%\n  select(pseo.participant, took.ACT, ap.exam, cte.achievement)\n\nkable(head(hs.accomplishments))\n\n\n\n\npseo.participant\ntook.ACT\nap.exam\ncte.achievement\n\n\n\n\n1\nYes\n0\nCTE Participant\n\n\n0\nYes\n0\nNo CTE\n\n\n1\nYes\n1\nCTE Participant\n\n\n1\nYes\n1\nCTE Participant\n\n\n1\nYes\n0\nNo CTE\n\n\nNA\nYes\n1\nCTE Participant\n\n\n\n\nkable(names(hs.accomplishments))\n\n\n\n\nx\n\n\n\n\npseo.participant\n\n\ntook.ACT\n\n\nap.exam\n\n\ncte.achievement\n\n\n\n\n\n\nThere are 99,640 individuals in the dataset.\n\n\nMCA analysis\n\nEigenvalues\nThe eigenvalues measure the amount of variation retained by each principle component. This will help us determine how many principle components to be considered.\nThe values below indicate that the first dimension explains nearly 24% of the variation. It takes 4 dimensions to explain over 75%.\n\nhs.accomplishments.mca &lt;- FactoMineR::MCA(hs.accomplishments, graph = FALSE)\n\neig.val &lt;- get_eigenvalue(hs.accomplishments.mca)\n\neig.val\n\n      eigenvalue variance.percent cumulative.variance.percent\nDim.1  0.3822786         25.48524                    25.48524\nDim.2  0.2647385         17.64923                    43.13447\nDim.3  0.2574582         17.16388                    60.29835\nDim.4  0.2290165         15.26777                    75.56612\nDim.5  0.2067168         13.78112                    89.34724\nDim.6  0.1597914         10.65276                   100.00000\n\n\n\n\n\nCOS2\nLet’s take a look to see which variables are going to be important. The total cos2 shows that all of the variables contribute to the overall dimensional structure of the dataset. The lowest being the ap.exams.\nDimension 1: Whether an individual took the ACT and ap exams, and participated in PSEO.\nDimension 2: Engaged in CTE and did not participate in pseo\nDimension 3: Was not engaged in CTE or PSEO\nDimension 4: Engaged in CTE\n\ntable &lt;- hs.accomplishments.mca$var$cos2 %&gt;%\n  as.data.frame() %&gt;%\n  select(`Dim 1`, `Dim 2`, `Dim 3`, `Dim 4`) %&gt;%\n  mutate(total = `Dim 1` + `Dim 2` + `Dim 3` + `Dim 4`)\n  \ndatatable(table) %&gt;%\n  formatCurrency(1:5, \"\", digits = 3)\n\n\n\n\nfviz_cos2(hs.accomplishments.mca, choice = \"var\", axes = 1:4)\n\n\n\n\n\n\n\n\n\n\n\nContribution to dimensions\nNext, lets see how much each variable is contributing to each dimension. There are 10 categories so any percent above 10% would be quite influential. Each variable does have a value above 10% for at least one of the dimensions.\n\nTook the AP exam and ACT and participated in PSEO\nRelationship between CTE and PSEO\nLess engagement with CTE\nHighly engaged in CTE\n\n\n\ntable &lt;- hs.accomplishments.mca$var$contrib %&gt;%\n  as.data.frame() %&gt;%\n  select(`Dim 1`, `Dim 2`, `Dim 3`, `Dim 4`) %&gt;%\n  mutate(`Dim 1` = `Dim 1` / 100,\n         `Dim 2` = `Dim 2` / 100,\n         `Dim 3` = `Dim 3` / 100,\n         `Dim 4` = `Dim 4` / 100)\n\ndatatable(table) %&gt;%\n  formatPercentage(1:4, digits = 1)\n\n\n\n\n\n\nSo regarding any variables to eliminate in the dataset, I don’t see one. It looks important to keep them all.\n\nEliminate: none"
  },
  {
    "objectID": "analysis_mca.html#post-secondary",
    "href": "analysis_mca.html#post-secondary",
    "title": "Multiple Correspondence Analysis",
    "section": "Post secondary",
    "text": "Post secondary\nBelow are the variables that are categorized as “high school accomplishments”.\n\nattended.ps.within.first.year.hsgrad\nattended.ps\nps.grad\nps.grad.InstitutionSector\nhighest.cred.level\nps.grad.location\n\n\nps &lt;- master.ind.qual.var %&gt;%\n  select(attended.ps.within.first.year.hsgrad, attended.ps, ps.grad, ps.grad.InstitutionSector, highest.cred.level, ps.grad.location)\n\nwrite_csv(ps, \"Data/ps-data.csv\")\n\nkable(head(ps))\n\n\n\n\n\n\n\n\n\n\n\n\nattended.ps.within.first.year.hsgrad\nattended.ps\nps.grad\nps.grad.InstitutionSector\nhighest.cred.level\nps.grad.location\n\n\n\n\nYes\nYes\nNo\nDid not grad\nDid not graduate ps\nDid not graduate ps\n\n\nYes\nYes\nNo\nDid not grad\nDid not graduate ps\nDid not graduate ps\n\n\nYes\nYes\nY\n2\nBachelor degree\nPS grad MN\n\n\nYes\nYes\nY\n2\nLess than Associate Degree\nPS grad region\n\n\nYes\nYes\nY\n10\nBachelor degree\nPS grad region\n\n\nNo\nYes\nY\n10\nBachelor degree\nPS grad MN\n\n\n\n\nkable(names(ps))\n\n\n\n\nx\n\n\n\n\nattended.ps.within.first.year.hsgrad\n\n\nattended.ps\n\n\nps.grad\n\n\nps.grad.InstitutionSector\n\n\nhighest.cred.level\n\n\nps.grad.location\n\n\n\n\n\n\nThere are 99,640 individuals in the dataset.\n\n\nMCA analysis\n\nEigenvalues\nThe eigenvalues measure the amount of variation retained by each principle component. This will help us determine how many principle components to be considered.\nThe first two dimensions explain 40% of the variation but it takes up to 7 dimensions to surpass 75%.\n\n\nps.mca &lt;- FactoMineR::MCA(ps, graph = FALSE)\n\neig.val &lt;- get_eigenvalue(ps.mca)\n\neig.val\n\n         eigenvalue variance.percent cumulative.variance.percent\nDim.1  8.687939e-01     2.266419e+01                    22.66419\nDim.2  6.665392e-01     1.738798e+01                    40.05217\nDim.3  3.444544e-01     8.985766e+00                    49.03793\nDim.4  3.333287e-01     8.695532e+00                    57.73347\nDim.5  3.061902e-01     7.987570e+00                    65.72104\nDim.6  2.072129e-01     5.405555e+00                    71.12659\nDim.7  1.995166e-01     5.204780e+00                    76.33137\nDim.8  1.761414e-01     4.594992e+00                    80.92636\nDim.9  1.612825e-01     4.207369e+00                    85.13373\nDim.10 1.581934e-01     4.126783e+00                    89.26052\nDim.11 1.476173e-01     3.850887e+00                    93.11140\nDim.12 1.398614e-01     3.648558e+00                    96.75996\nDim.13 1.063773e-01     2.775060e+00                    99.53502\nDim.14 1.643409e-02     4.287154e-01                    99.96373\nDim.15 1.357799e-03     3.542085e-02                    99.99916\nDim.16 3.236101e-05     8.442003e-04                   100.00000\nDim.17 1.780930e-24     4.645905e-23                   100.00000\nDim.18 3.457155e-25     9.018665e-24                   100.00000\nDim.19 1.457049e-25     3.800997e-24                   100.00000\nDim.20 1.165532e-25     3.040519e-24                   100.00000\nDim.21 4.310155e-26     1.124388e-24                   100.00000\nDim.22 2.127630e-26     5.550339e-25                   100.00000\nDim.23 6.367580e-27     1.661108e-25                   100.00000\n\n\n\n\n\nCOS2\nLet’s take a look to see which variables are going to be important. From the total cos2 we can see that there are a few that just aren’t make the cut (below .2);\n\nGraduated from any of the following post-secondary institutions;\n\nps.grad.InstitutionSector\n\nprivate not-for-profit, 4-year or above “2”\ngraduated from multiple sectors “10”\ngraduated from any of the “11”\n“Did not grad”\n\nhighest.cred.level\n\nMaster degree or higher\n\nattended.ps.within.first.year.hsgrad\n\nNo\n\nhad “NA”.\n\n\nThe type of institution an individual graduated from variable is a good candidate for collapsing into fewer categories as well as the highest credential earned variable. And I think the attended.ps.within.first.year.hsgrad variable might be a good option for elimination.\n\nDimension 1: Whether they attended and/or graduated from a post-secondary institution.\nDimension 2: Currently attending post-secondary\nDimension 3: Graduated from a public 2-year or 4-year institution and received corresponding credential\nDimension 4: Did not graduate from a post-secondary institution\n\n\n\ntable &lt;- ps.mca$var$cos2 %&gt;%\n  as.data.frame() %&gt;%\n  select(`Dim 1`, `Dim 2`, `Dim 3`, `Dim 4`) %&gt;%\n  mutate(total = `Dim 1` + `Dim 2` + `Dim 3` + `Dim 4`)\n  \ndatatable(table) %&gt;%\n  formatCurrency(1:5, \"\", digits = 3)\n\n\n\n\nfviz_cos2(ps.mca, choice = \"var\", axes = 1:4)\n\n\n\n\n\n\n\n\n\n\n\nContribution to dimensions\nNext, lets see how much each variable is contributing to each dimension. There are 29 categories so any percent above 3.4% would be quite influential. There are a few categories that don’t reach that threshold for any of the four dimensions.\n\nps.grad.location\n\nPS grad MN\n\nps.grad.InstitutionSector\n\n2\nDid not grad\n10\n11\n\nhighest.cred.level\n\nMaster degree or higher\n\nattended.ps.within.first.year.hsgrad\n\nNo\n\n\nHere are the labels for each dimension.\n\nDid not attend post secondary or graduate.\nCurrently attending post-secondary\nAttended a public 2-year or 4-year and received corresponding credential.\nNA\n\n\n\ntable &lt;- ps.mca$var$contrib %&gt;%\n  as.data.frame() %&gt;%\n  select(`Dim 1`, `Dim 2`, `Dim 3`, `Dim 4`) %&gt;%\n  mutate(`Dim 1` = `Dim 1` / 100,\n         `Dim 2` = `Dim 2` / 100,\n         `Dim 3` = `Dim 3` / 100,\n         `Dim 4` = `Dim 4` / 100)\n\ndatatable(table) %&gt;%\n  formatPercentage(1:4, digits = 1)\n\n\n\n\n\n\nI’m seeing room for improvement among these variables. I will do the following;\n\nps.grad.InstitutionSector: collapse categories 2, 10, 11 and NA into one category.\nhighest.cred.level: collapse Master’s degree or higher and Bachelor’s degree into one category.\nWhen conducting analysis, make sure to eliminate “attending ps” individuals as it will muddy the waters.\nEliminate attended.ps.within.first.year.hsgrad"
  }
]